import{r as k}from"./validators-db74a876.js";import{_ as z}from"./AppTextarea.vue_vue_type_script_setup_true_lang-c557234d.js";import{_ as H}from"./AppTextField.vue_vue_type_script_setup_true_lang-93dc1e26.js";import{_ as j}from"./AppSelect.vue_vue_type_script_setup_true_lang-32a0f469.js";import{_ as K}from"./AppStepper.vue_vue_type_style_index_0_lang-c08c6f80.js";import{l as Y}from"./lodash-c88f88c3.js";import{d as J,r as b,l as Q,b4 as X,k as Z,ck as ee,R as le,w as te,I as oe,o as m,c as P,b as t,f as s,x as u,e as a,h as _,A as v,p as f,aI as ae,y as d,a4 as T,a9 as $,F as se,aM as ne}from"./index-75b434bc.js";import{$ as D}from"./api-0c1dfdf3.js";import{V as ue}from"./VSnackbar-f21966b4.js";import{V as re}from"./VCardText-76f31582.js";import{V as de}from"./VForm-e46f5921.js";import{V as ie,a as y}from"./VWindowItem-04415d19.js";import{V as U}from"./VRow-d6f20668.js";import{V as n}from"./VCol-35b3d337.js";import{V as me}from"./VCheckbox-e2d8e1ba.js";import{V as x}from"./VDivider-fc890531.js";import{V as pe}from"./VCard-95c0d706.js";import"./helpers-681711bc.js";import"./form-2b416184.js";import"./VTextarea-86010cd2.js";/* empty css                   */import"./VCounter-3e4b236e.js";import"./transition-6afda34e.js";import"./VField-82993695.js";import"./easing-9f15041e.js";import"./VInput-b46333d7.js";import"./forwardRefs-8348545e.js";import"./index-97808f23.js";import"./VTextField-05e93cc8.js";import"./VSelect-54e8b29a.js";import"./VList-c7d4c8b4.js";import"./ssrBoot-7f224ca6.js";import"./createSimpleFunctional-4b3a0a39.js";import"./VAvatar-071125b9.js";import"./VImg-ba4b392a.js";import"./dialog-transition-14fdab67.js";import"./VMenu-3f143933.js";import"./VOverlay-0b79a00d.js";import"./lazy-0bb5e457.js";import"./scopeId-ee2feb8e.js";import"./VCheckboxBtn-0f22f589.js";import"./VSelectionControl-e1264669.js";import"./VChip-e2ddd660.js";import"./VSlideGroup-3e745b05.js";import"./VSlideGroupItem-95742265.js";import"./index-2898f57d.js";/* empty css              */const ce={class:"mb-6"},_e=a("h6",{class:"text-h6 font-weight-medium"}," Account Details ",-1),ve=a("p",{class:"mb-0"}," Enter your Account Details ",-1),Ve=a("h6",{class:"text-h6 font-weight-medium"}," Account Info ",-1),be=a("p",{class:"mb-0"}," Setup Information ",-1),fe=a("h6",{class:"text-h6 font-weight-medium"}," Address ",-1),he=a("p",{class:"mb-0"}," Enter Your Address. ",-1),ye=a("h6",{class:"text-h6 font-weight-medium"}," Other Details ",-1),ge=a("p",{class:"mb-0"}," Add Details ",-1),we={class:"text-base"},ke=a("h6",{class:"text-base font-weight-medium mb-2"}," Account ",-1),Ue={class:"mb-1"},Ce=a("strong",null," Lead Type: ",-1),Ae={class:"mb-1"},Se=a("strong",null," Name: ",-1),Te={class:"mb-1"},De=a("strong",null," Email: ",-1),xe={class:"mb-1"},Ne=a("strong",null," Phone Number: ",-1),Ee={class:"mb-1"},Ie=a("strong",null," WhatsApp Number: ",-1),Pe={key:0,class:"mb-1"},$e=a("strong",null," Gender: ",-1),Re=a("h6",{class:"text-base font-weight-medium mb-2"}," Personal Info ",-1),qe={class:"mb-1"},Le=a("strong",null," Product Type: ",-1),Oe={class:"mb-1"},Be=a("strong",null," Status: ",-1),Fe={class:"mb-1"},We=a("strong",null," Source: ",-1),Me={class:"mb-1"},Ge=a("strong",null," Associated User ",-1),ze={class:"mb-1"},He=a("strong",null," Industry ",-1),je=a("h6",{class:"text-base font-weight-medium mb-2"}," Address ",-1),Ke={class:"mb-1"},Ye=a("strong",null," Region: ",-1),Je={class:"mb-1"},Qe=a("strong",null," Location: ",-1),Xe={class:"mb-1"},Ze=a("strong",null," Branch: ",-1),el=a("h6",{class:"text-base font-weight-medium mb-2"}," Other Details ",-1),ll={class:"mb-1"},tl=a("strong",null," Turn Around Time: ",-1),ol={class:"mb-1"},al=a("strong",null," Department: ",-1),sl={class:"mb-1"},nl=a("strong",null," Owner: ",-1),ul={class:"mb-1"},rl=a("strong",null," Note: ",-1),dl={class:"d-flex flex-wrap gap-4 justify-sm-space-between justify-center mt-8"},at=J({__name:"[id]",setup(il){const h=b({message:void 0,statusCode:void 0}),R=Q(),q=X("userData"),C=b(q.value.name),L=Z(),N=b(L.params.id),E=[{title:"Account Details",icon:"custom-address"},{title:"Account Info",icon:"custom-wizard-personal"},{title:"Address",icon:"custom-wizard-address"},{title:"Other Details",icon:"custom-wizard-social-link"},{title:"Review & Submit",icon:"custom-wizard-submit"}],V=b(0),p=b(!1),g=b(!1),O=["Individual","Corporate"],B={gender:"Other",firstName:"",lastName:"",contactEmail:"",contact_phone_number:"",contact_role:"",contactRole:"",whatsapp_number:"",name:"",company:"",tatDays:0,department:"",lead_type:"Individual",product:"vendor financing",email:"",phone_number:"07000000",point_of_contact:null,bank_id:"1",region:null,industry:null,location:null,status:"hot",priority:"high",source:"Google",owner:C.value,branch:"Nairobi",associated_user:"",interaction_type:"email",very_next_step:"call",note:""},A=b(!1),F=Y.debounce(async r=>{try{const{exists:e}=await D("/check/email",{method:"POST",query:{email:r}});console.log("Testing email response",e),e?h.value.message="Email already exists.":h.value.message=""}catch(e){console.error("Error checking email:",e),h.value.message="Error checking email."}},500),l=b(B);ee(()=>{p.value=l.value.lead_type!=="Corporate"});const w=le({get(){return g.value?l.value.phone_number:l.value.whatsapp_number},set(r){g.value?l.value.phone_number=r:l.value.whatsapp_number=r}}),W=async()=>{try{const e=await D(`/update/UI/pipeline/data/${N.value}`,{method:"POST",body:l.value,onResponseError({response:c}){console.log("Error",c),h.value=c._data.errors}});console.log(e);const{message:S}=e;console.log(S),A.value=!0,setTimeout(()=>{r("Contacts")},3e3)}catch(e){console.error(e)}async function r(e){await ne(),await R.push({path:`/pipeline/contacts/${e}`})}};te(()=>l.value.email,r=>{h.value.message="",r&&F(r)});const M=async()=>{const r=await D(`/get/UI/pipeline/${N.value}`).catch(e=>console.log(e));l.value=r[0]},I=()=>p.value?"":"Corporate";return oe(()=>{M()}),(r,e)=>{const S=K,c=j,i=H,G=z;return m(),P(se,null,[t(ue,{modelValue:A.value,"onUpdate:modelValue":e[0]||(e[0]=o=>A.value=o),color:"success",location:"top end",variant:"flat"},{default:s(()=>[u(" Data Successfully saved ")]),_:1},8,["modelValue"]),a("div",ce,[t(S,{"current-step":V.value,"onUpdate:currentStep":e[1]||(e[1]=o=>V.value=o),items:E},null,8,["current-step"])]),t(pe,null,{default:s(()=>[t(re,null,{default:s(()=>[t(de,null,{default:s(()=>[t(ie,{modelValue:V.value,"onUpdate:modelValue":e[27]||(e[27]=o=>V.value=o),class:"disable-tab-transition"},{default:s(()=>[t(y,null,{default:s(()=>[t(U,null,{default:s(()=>[t(n,{cols:"12"},{default:s(()=>[_e,ve]),_:1}),t(n,{cols:"12",md:"6"},{default:s(()=>[t(c,{modelValue:l.value.lead_type,"onUpdate:modelValue":e[2]||(e[2]=o=>l.value.lead_type=o),items:O,label:"Lead Type",placeholder:"Select Lead Type"},null,8,["modelValue"])]),_:1}),t(n,{cols:"12",md:"6"},{default:s(()=>[t(i,{modelValue:l.value.name,"onUpdate:modelValue":e[3]||(e[3]=o=>l.value.name=o),label:`${I()} Name`,placeholder:"Enter Name"},null,8,["modelValue","label"])]),_:1}),t(n,{cols:"12",md:"6"},{default:s(()=>[t(i,{modelValue:l.value.email,"onUpdate:modelValue":e[4]||(e[4]=o=>l.value.email=o),label:`${I()} Email`,placeholder:"@yofinvoice.com",type:"email"},null,8,["modelValue","label"])]),_:1}),p.value?(m(),_(n,{key:0,cols:"12",md:"6"},{default:s(()=>[t(i,{modelValue:l.value.phone_number,"onUpdate:modelValue":e[5]||(e[5]=o=>l.value.phone_number=o),label:"Phone Number",placeholder:"070000000",type:"number"},null,8,["modelValue"])]),_:1})):v("",!0),p.value?(m(),_(n,{key:1,cols:"12",md:"6"},{default:s(()=>[t(i,{modelValue:f(w),"onUpdate:modelValue":e[6]||(e[6]=o=>ae(w)?w.value=o:null),label:"WhatsApp Number",placeholder:"070000000",type:"number"},null,8,["modelValue"]),t(me,{modelValue:g.value,"onUpdate:modelValue":e[7]||(e[7]=o=>g.value=o),label:"Same as Phone Number"},null,8,["modelValue"])]),_:1})):v("",!0),p.value?(m(),_(n,{key:2,cols:"12",md:"6"},{default:s(()=>[t(c,{modelValue:l.value.gender,"onUpdate:modelValue":e[8]||(e[8]=o=>l.value.gender=o),items:["Male","Female","Others"],label:"Gender",placeholder:"Select Gender"},null,8,["modelValue"])]),_:1})):v("",!0),p.value?v("",!0):(m(),_(n,{key:3,cols:"12",md:"6"},{default:s(()=>[t(i,{modelValue:l.value.contactEmail,"onUpdate:modelValue":e[9]||(e[9]=o=>l.value.contactEmail=o),rules:["requiredValidator"in r?r.requiredValidator:f(k)],label:"Contact Email",placeholder:"Contact Email",type:"email"},null,8,["modelValue","rules"])]),_:1})),p.value?v("",!0):(m(),_(n,{key:4,cols:"12",md:"6"},{default:s(()=>[t(i,{modelValue:l.value.contact_phone_number,"onUpdate:modelValue":e[10]||(e[10]=o=>l.value.contact_phone_number=o),rules:["requiredValidator"in r?r.requiredValidator:f(k)],label:"Corporate Phone Number",placeholder:"Corporate Phone Number",type:"text"},null,8,["modelValue","rules"])]),_:1})),p.value?v("",!0):(m(),_(n,{key:5,cols:"12",md:"6"},{default:s(()=>[t(i,{modelValue:l.value.contact_role,"onUpdate:modelValue":e[11]||(e[11]=o=>l.value.contact_role=o),rules:["requiredValidator"in r?r.requiredValidator:f(k)],label:"Contact Role",placeholder:"Contact Role",type:"text"},null,8,["modelValue","rules"])]),_:1})),p.value?v("",!0):(m(),_(n,{key:6,cols:"12",md:"6"},{default:s(()=>[t(i,{modelValue:l.value.department,"onUpdate:modelValue":e[12]||(e[12]=o=>l.value.department=o),rules:["requiredValidator"in r?r.requiredValidator:f(k)],label:"Department",placeholder:"Department",type:"text"},null,8,["modelValue","rules"])]),_:1})),p.value?v("",!0):(m(),_(n,{key:7,cols:"12",md:"6"},{default:s(()=>[t(i,{modelValue:l.value.website,"onUpdate:modelValue":e[13]||(e[13]=o=>l.value.website=o),label:"Website",placeholder:"Website Link",type:"text"},null,8,["modelValue"])]),_:1}))]),_:1})]),_:1}),t(y,null,{default:s(()=>[t(U,null,{default:s(()=>[t(n,{cols:"12"},{default:s(()=>[Ve,be]),_:1}),t(n,{cols:"12",md:"6"},{default:s(()=>[t(c,{modelValue:l.value.product,"onUpdate:modelValue":e[14]||(e[14]=o=>l.value.product=o),items:["Vendor Financing","Dealer Financing"],label:"Product Type",placeholder:"Select Product Type"},null,8,["modelValue"])]),_:1}),t(n,{cols:"12",md:"6"},{default:s(()=>[t(c,{modelValue:l.value.status,"onUpdate:modelValue":e[15]||(e[15]=o=>l.value.status=o),items:["Hot","Cold","Warm"],label:"Status",placeholder:"Status"},null,8,["modelValue"])]),_:1}),t(n,{cols:"12",md:"6"},{default:s(()=>[t(c,{modelValue:l.value.source,"onUpdate:modelValue":e[16]||(e[16]=o=>l.value.source=o),items:["Email","Marketing","Outdoor","LinkedIn","Messages","Google","Adverts"],label:"Source",placeholder:"Source"},null,8,["modelValue"])]),_:1}),t(n,{cols:"12",md:"6"},{default:s(()=>[t(c,{modelValue:l.value.associated_user,"onUpdate:modelValue":e[17]||(e[17]=o=>l.value.associated_user=o),items:["Ish","Kings","Linet","Martin","Barry"],label:"Associated User",placeholder:"Select Associated User"},null,8,["modelValue"])]),_:1}),t(n,{cols:"12",md:"6"},{default:s(()=>[t(c,{modelValue:l.value.industry,"onUpdate:modelValue":e[18]||(e[18]=o=>l.value.industry=o),items:["ICT","Healthcare","Finance and Banking","Retail","Manufacturing","Education","Transportation and Logistics","Energy and Utilities","Hospitality and Tourism","Agriculture"],label:"Industy",placeholder:"Select Industry"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),t(y,null,{default:s(()=>[t(U,null,{default:s(()=>[t(n,{cols:"12"},{default:s(()=>[fe,he]),_:1}),t(n,{cols:"12",md:"6"},{default:s(()=>[t(i,{modelValue:l.value.region,"onUpdate:modelValue":e[19]||(e[19]=o=>l.value.region=o),label:"Region",placeholder:"region"},null,8,["modelValue"])]),_:1}),t(n,{cols:"12",md:"6"},{default:s(()=>[t(i,{modelValue:l.value.location,"onUpdate:modelValue":e[20]||(e[20]=o=>l.value.location=o),label:"Location",placeholder:"Location"},null,8,["modelValue"])]),_:1}),t(n,{cols:"12",md:"6"},{default:s(()=>[t(i,{modelValue:l.value.branch,"onUpdate:modelValue":e[21]||(e[21]=o=>l.value.branch=o),label:"Branch",placeholder:"branch"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),t(y,null,{default:s(()=>[t(U,null,{default:s(()=>[t(n,{cols:"12"},{default:s(()=>[ye,ge]),_:1}),t(n,{cols:"12",md:"6"},{default:s(()=>[t(i,{modelValue:l.value.tatDays,"onUpdate:modelValue":e[22]||(e[22]=o=>l.value.tatDays=o),label:"Turn Around Time",placeholder:"0",type:"20"},null,8,["modelValue"])]),_:1}),t(n,{cols:"12",md:"6"},{default:s(()=>[t(i,{modelValue:l.value.department,"onUpdate:modelValue":e[23]||(e[23]=o=>l.value.department=o),label:"Department",placeholder:"ICT"},null,8,["modelValue"])]),_:1}),t(n,{cols:"12",md:"6"},{default:s(()=>[t(i,{modelValue:l.value.company,"onUpdate:modelValue":e[24]||(e[24]=o=>l.value.company=o),label:"Company",placeholder:"Company"},null,8,["modelValue"])]),_:1}),t(n,{cols:"12",md:"6"},{default:s(()=>[t(i,{modelValue:l.value.owner,"onUpdate:modelValue":e[25]||(e[25]=o=>l.value.owner=o),placeholder:C.value,value:C.value,label:"Owner",readonly:""},null,8,["modelValue","placeholder","value"])]),_:1}),t(n,{cols:"12",md:"6"},{default:s(()=>[t(G,{modelValue:l.value.note,"onUpdate:modelValue":e[26]||(e[26]=o=>l.value.note=o),label:`Add a Note for ${l.value.name}`,placeholder:`Add you note here about ${l.value.name} for example a reminder`},null,8,["modelValue","label","placeholder"])]),_:1})]),_:1})]),_:1}),t(y,null,{default:s(()=>[a("div",we,[ke,a("p",Ue,[Ce,u(" "+d(l.value.lead_type),1)]),a("p",Ae,[Se,u(" "+d(l.value.name),1)]),a("p",Te,[De,u(" "+d(l.value.email),1)]),a("p",xe,[Ne,u(" "+d(l.value.phone_number),1)]),a("p",Ee,[Ie,u(" "+d(f(w)),1)]),p.value?(m(),P("p",Pe,[$e,u(" "+d(l.value.gender),1)])):v("",!0),t(x,{class:"my-4"}),Re,a("p",qe,[Le,u(" "+d(l.value.product),1)]),a("p",Oe,[Be,u(" "+d(l.value.status),1)]),a("p",Fe,[We,u(" "+d(l.value.source),1)]),a("p",Me,[Ge,u(" "+d(l.value.associated_user),1)]),a("p",ze,[He,u(" "+d(l.value.industry),1)]),t(x,{class:"my-4"}),je,a("p",Ke,[Ye,u(" "+d(l.value.region),1)]),a("p",Je,[Qe,u(" "+d(l.value.location),1)]),a("p",Xe,[Ze,u(" "+d(l.value.branch),1)]),t(x,{class:"my-4"}),el,a("p",ll,[tl,u(" "+d(l.value.tatDays),1)]),a("p",ol,[al,u(" "+d(l.value.department),1)]),a("p",sl,[nl,u(" "+d(l.value.owner),1)]),a("p",ul,[rl,u(" "+d(l.value.note),1)])])]),_:1})]),_:1},8,["modelValue"]),a("div",dl,[t(T,{disabled:V.value===0,color:"secondary",variant:"tonal",onClick:e[28]||(e[28]=o=>V.value--)},{default:s(()=>[t($,{class:"flip-in-rtl",icon:"tabler-arrow-left",start:""}),u(" Previous ")]),_:1},8,["disabled"]),E.length-1===V.value?(m(),_(T,{key:0,"append-icon":"tabler-check",color:"success",onClick:W},{default:s(()=>[u(" submit ")]),_:1})):(m(),_(T,{key:1,onClick:e[29]||(e[29]=o=>V.value++)},{default:s(()=>[u(" Next "),t($,{class:"flip-in-rtl",end:"",icon:"tabler-arrow-right"})]),_:1}))])]),_:1})]),_:1})]),_:1})],64)}}});export{at as default};
