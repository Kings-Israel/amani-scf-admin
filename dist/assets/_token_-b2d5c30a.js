import{_ as T}from"./AppTextField.vue_vue_type_script_setup_true_lang-298ad98d.js";import{d as F,l as N,k as $,r as l,o as B,c as M,b as e,f as a,x as v,y as E,p as o,aI as V,e as _,J as L,a$ as U,a4 as j,a9 as D,F as A,aM as G,a as J}from"./index-5caaa453.js";import{u as w}from"./useGenerateImageVariant-65226aac.js";import{V as O}from"./VNodeRenderer-f316f6d8.js";import{a as q,b as z}from"./auth-v2-reset-password-illustration-light-bb21e4ab.js";import{a as H,b as K}from"./misc-mask-light-1aeffaee.js";import{$ as Q}from"./api-44dd0fa9.js";import{V as g}from"./VSnackbar-ea7773d7.js";import{V as r}from"./VCol-bcc5388c.js";import{V as k}from"./VImg-6009f8f0.js";import{V as W}from"./VCard-1a5b2c5e.js";import{V as h}from"./VCardText-3b4da816.js";import{V as X}from"./VForm-ed4803d2.js";import{V as y}from"./VRow-e44df108.js";import"./form-c9c578a3.js";import"./VTextField-604d91ff.js";/* empty css                   */import"./VCounter-728f7f8c.js";import"./transition-1886cce0.js";import"./VField-6b3808ed.js";import"./easing-9f15041e.js";import"./VInput-e87890b4.js";import"./forwardRefs-8348545e.js";import"./index-7dd1f5f0.js";import"./index-2898f57d.js";import"./VOverlay-da001e16.js";import"./lazy-9cd674a5.js";import"./scopeId-484eb469.js";/* empty css              */import"./createSimpleFunctional-9624028d.js";import"./VAvatar-3ee4c690.js";const Y={class:"position-relative bg-background rounded-lg w-100 ma-8 me-0"},Z={class:"d-flex align-center justify-center w-100 h-100"},ee=_("h4",{class:"text-h4 mb-1"}," Reset Password 🔒 ",-1),ae=_("span",null,"Back to login",-1),Be=F({__name:"[token]",setup(oe){const x=N(),C=$(),m=l(!1),n=l(!1),b=l(""),d=l(),i=l(),P=w(z,q),R=w(K,H),p=l(!1),c=l(!1),I=async()=>{if(d.value!==i.value){b.value="Password does not match",n.value=!0;return}try{const f=await Q("admin/reset/password",{method:"POST",body:{token:C.params.token,password:i.value},onResponseError({response:u}){console.log("Error",u),b.value=u._data,n.value=!0}}),{message:t}=f;m.value=!0,await G(()=>{x.push("/login")}),console.log(t)}catch(f){console.error(f)}};return(f,t)=>{const u=T,S=J("RouterLink");return B(),M(A,null,[e(g,{modelValue:o(n),"onUpdate:modelValue":t[0]||(t[0]=s=>V(n)?n.value=s:null),color:"error",location:"top end",variant:"flat"},{default:a(()=>[v(E(o(b)),1)]),_:1},8,["modelValue"]),e(g,{modelValue:o(m),"onUpdate:modelValue":t[1]||(t[1]=s=>V(m)?m.value=s:null),color:"success",location:"top end",variant:"flat"},{default:a(()=>[v(" Password Reset Successfully ")]),_:1},8,["modelValue"]),e(y,{"no-gutters":"",class:"auth-wrapper bg-surface"},{default:a(()=>[e(r,{md:"8",class:"d-none d-md-flex"},{default:a(()=>[_("div",Y,[_("div",Z,[e(k,{"max-width":"400",src:o(P),class:"auth-illustration mt-16 mb-2"},null,8,["src"])]),e(k,{class:"auth-footer-mask",src:o(R)},null,8,["src"])])]),_:1}),e(r,{cols:"12",md:"4",class:"auth-card-v2 d-flex align-center justify-center"},{default:a(()=>[e(W,{flat:"","max-width":500,class:"mt-12 mt-sm-0 pa-4"},{default:a(()=>[e(h,null,{default:a(()=>[e(o(O),{nodes:o(L).app.logo,class:"mb-6"},null,8,["nodes"]),ee]),_:1}),e(h,null,{default:a(()=>[e(X,{onSubmit:U(()=>{},["prevent"])},{default:a(()=>[e(y,null,{default:a(()=>[e(r,{cols:"12"},{default:a(()=>[e(u,{modelValue:o(d),"onUpdate:modelValue":t[2]||(t[2]=s=>V(d)?d.value=s:null),autofocus:"",label:"New Password",placeholder:"············",type:o(p)?"text":"password","append-inner-icon":o(p)?"tabler-eye-off":"tabler-eye","onClick:appendInner":t[3]||(t[3]=s=>p.value=!o(p))},null,8,["modelValue","type","append-inner-icon"])]),_:1}),e(r,{cols:"12"},{default:a(()=>[e(u,{modelValue:o(i),"onUpdate:modelValue":t[4]||(t[4]=s=>V(i)?i.value=s:null),label:"Confirm Password",placeholder:"············",type:o(c)?"text":"password","append-inner-icon":o(c)?"tabler-eye-off":"tabler-eye","onClick:appendInner":t[5]||(t[5]=s=>c.value=!o(c))},null,8,["modelValue","type","append-inner-icon"])]),_:1}),e(r,{cols:"12"},{default:a(()=>[e(j,{block:"",type:"submit",onClick:I},{default:a(()=>[v(" Set New Password ")]),_:1})]),_:1}),e(r,{cols:"12"},{default:a(()=>[e(S,{class:"d-flex align-center justify-center",to:{name:"pages-authentication-login-v2"}},{default:a(()=>[e(D,{icon:"tabler-chevron-left",class:"flip-in-rtl"}),ae]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})],64)}}});export{Be as default};
