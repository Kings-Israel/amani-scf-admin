import{V as me}from"./VCardText-76f31582.js";import{V as _e}from"./VAvatar-071125b9.js";import{V as H}from"./VCard-95c0d706.js";import{d as R,o as F,h as ae,f as l,b as e,e as u,y as j,r as a,b6 as T,ck as ve,c as q,j as ye,p as t,F as fe,t as I,R as M,aI as p,a4 as h,a9 as O,x as w,a as A,l as xe,A as ge,b2 as be,b4 as ue,b3 as he,cR as Ce}from"./index-75b434bc.js";import{u as Q}from"./useApi-776c55ea.js";import{c as G}from"./createUrl-149317bf.js";import{V as Ve}from"./VRow-d6f20668.js";import{V as ke}from"./VCol-35b3d337.js";import{_ as J}from"./_plugin-vue_export-helper-c27b6911.js";import{_ as K}from"./AppSelect.vue_vue_type_script_setup_true_lang-32a0f469.js";import{_ as X}from"./AppTextField.vue_vue_type_script_setup_true_lang-93dc1e26.js";import{p as Y}from"./paginationMeta-4ad053a4.js";import{V as Z}from"./VSpacer-6f8dff92.js";import{V as N}from"./VDivider-fc890531.js";import{V as ee}from"./VDataTableServer-e9f6b4ac.js";import{V as oe}from"./VChip-e2ddd660.js";import{V as te}from"./VPagination-2b54b87a.js";import{V as se}from"./VMenu-3f143933.js";import{V as re,a as L}from"./VList-c7d4c8b4.js";import{$ as we}from"./api-0c1dfdf3.js";const $e={class:"d-flex align-center flex-wrap"},Pe={class:"text-h6"},Ue={class:"text-body-2"},Be=R({__name:"CardStatistics",props:{title:{},color:{default:"primary"},icon:{},value:{}},setup(W){const m=W;return(k,g)=>(F(),ae(H,null,{default:l(()=>[e(me,{class:"d-flex align-center justify-space-between"},{default:l(()=>[u("div",null,[u("div",$e,[u("span",Pe,j(m.value),1)]),u("span",Ue,j(m.title),1)]),e(_e,{color:m.color,icon:m.icon,size:42,variant:"tonal"},null,8,["color","icon"])]),_:1})]),_:1}))}}),Se=R({__name:"CardWidgets",async setup(W){let m,k;const g=a([]),{data:f,execute:V}=([m,k]=T(()=>Q(G("/get/UI/pipeline/widget/data"))),m=await m,k(),m);return V(),ve(()=>{f.value&&(g.value=f.value)}),(i,d)=>(F(),ae(Ve,{class:"match-height"},{default:l(()=>[(F(!0),q(fe,null,ye(t(g),y=>(F(),ae(ke,{key:y.title,cols:"12",md:"3",sm:"6"},{default:l(()=>[u("div",null,[e(Be,I({ref_for:!0},y),null,16)])]),_:2},1024))),128))]),_:1}))}});const Lt=J(Se,[["__scopeId","data-v-9fb8db34"]]),Ie=[{title:"Contact Name",key:"name"},{title:"Company",key:"company"},{title:"Department",key:"department"},{title:"Email",key:"email"},{title:"Source",key:"source"},{title:"Status",key:"status"},{title:"Actions",key:"actions",sortable:!1}],ze=[{title:"Company",key:"company"},{title:"Contact Name",key:"name"},{title:"Date",key:"created_at",sortable:!1},{title:"Contact Email",key:"email"},{title:"Phone Number",key:"phone_number"},{title:"Source",key:"source"},{title:"Actions",key:"actions",sortable:!1}],ie=[{title:"Company",key:"company"},{title:"Name",key:"name"},{title:"Convert On",key:"converted_on",sortable:!1},{title:"Email",key:"email"},{title:"Phone Number",key:"phone_number"},{title:"Branch",key:"branch"},{title:"Status",key:"status"},{title:"Actions",key:"actions",sortable:!1}],De=[{title:"Company",key:"company"},{title:"Contact Name",key:"contact_name"},{title:"Date Added",key:"converted_on",sortable:!1},{title:"Contact Email",key:"email"},{title:"Region",key:"region"},{title:"Lead Source",key:"source"},{title:"Actions",key:"actions",sortable:!1}],je={class:"d-flex flex-wrap gap-4 mx-5"},Me={class:"d-flex align-center"},Ae={class:"d-flex gap-4 flex-wrap align-center"},Ne={class:"text-body-1 font-weight-medium"},Ee={class:"text-body-1 font-weight-medium"},Fe={class:"d-flex align-center justify-space-between flex-wrap gap-3 pa-5 pt-3"},Oe={class:"text-sm text-medium-emphasis mb-0"},We=R({__name:"Closed",async setup(W){let m,k;a(!0),a(0);const g=a(""),f=a(""),V=a(),i=a(50),d=a(1),y=a(),x=a();a([{title:"Hot",value:"hot"},{title:"Warm",value:"warm"},{title:"Cold",value:"cold"}]);const D=_=>{var o,n;d.value=_.page,y.value=(o=_.sortBy[0])==null?void 0:o.key,x.value=(n=_.sortBy[0])==null?void 0:n.order},z=_=>_==="warm"?{text:"Warm",color:"warning"}:_==="hot"?{text:"Hot",color:"success"}:{text:"cold",color:"error"},{data:P,execute:$}=([m,k]=T(()=>Q(G("/get/UI/pipelines/closed",{query:{q:g,cname:f,status:V,page:d,itemsPerPage:i,sortBy:y,orderBy:x,stage:"Opportunity"}}))),m=await m,k(),m),S=M(()=>P.value.data),U=M(()=>P.value.total);return $(),(_,o)=>{const n=X,v=K,B=A("DownloadExcel"),E=A("IconBtn");return F(),q("div",null,[e(H,{class:"mb-6 pt-10"},{default:l(()=>[u("div",je,[u("div",Me,[e(n,{modelValue:t(g),"onUpdate:modelValue":o[0]||(o[0]=r=>p(g)?g.value=r:null),class:"me-3","clear-icon":"tabler-circle-x",clearable:"",color:"primary",placeholder:"Company Name",style:{"inline-size":"200px"},type:"text"},null,8,["modelValue"]),e(n,{modelValue:t(f),"onUpdate:modelValue":o[1]||(o[1]=r=>p(f)?f.value=r:null),class:"me-3","clear-icon":"tabler-circle-x",clearable:"",color:"primary",placeholder:"Contact Person",style:{"inline-size":"200px"},type:"text"},null,8,["modelValue"]),e(h,{color:"primary","prepend-icon":"tabler-search",style:{"text-size-adjust":"auto","text-transform":"none"},onClick:_.submitFilters},null,8,["onClick"]),e(h,{color:"primary","prepend-icon":"tabler-refresh",style:{"text-size-adjust":"auto","text-transform":"none"},onClick:_.clearFilters},null,8,["onClick"])]),e(Z),u("div",Ae,[e(v,{modelValue:t(i),"onUpdate:modelValue":o[2]||(o[2]=r=>p(i)?i.value=r:null),items:[5,10,20,25,50]},null,8,["modelValue"]),e(B,{data:t(S),name:"opportunity.xls",worksheet:"My Worksheet"},{default:l(()=>[e(h,{color:"primary","prepend-icon":"tabler-download",style:{"text-size-adjust":"auto","text-transform":"none"}})]),_:1},8,["data"])])]),e(N,{class:"mt-4"}),e(t(ee),{"items-per-page":t(i),"onUpdate:itemsPerPage":o[4]||(o[4]=r=>p(i)?i.value=r:null),page:t(d),"onUpdate:page":o[5]||(o[5]=r=>p(d)?d.value=r:null),headers:t(ie),items:t(S),"items-length":t(U),class:"text-no-wrap","show-select":"","onUpdate:options":D},{"item.contact_name":l(({item:r})=>[u("span",Ne,j(r.contact_name),1)]),"item.converted_on":l(({item:r})=>[u("span",Ee,j(r.converted_on),1)]),"item.status":l(({item:r})=>[e(oe,I({density:"default",label:""},z(r.status)),null,16)]),"item.actions":l(({item:r})=>[e(E,null,{default:l(()=>[e(O,{icon:"tabler-eye",onClick:s=>_.$router.push(`/pipeline/view/${r.id}`)},null,8,["onClick"])]),_:2},1024)]),bottom:l(()=>[e(N),u("div",Fe,[u("p",Oe,j(t(Y)({page:t(d),itemsPerPage:t(i)},t(U))),1),e(te,{modelValue:t(d),"onUpdate:modelValue":o[3]||(o[3]=r=>p(d)?d.value=r:null),length:Math.min(Math.ceil(t(U)/t(i)),5),"total-visible":_.$vuetify.display.xs?1:Math.min(Math.ceil(t(U)/t(i)),5)},{prev:l(r=>[e(h,I({icon:!1,color:"default"},r,{variant:"tonal"}),{default:l(()=>[w(" Previous ")]),_:2},1040)]),next:l(r=>[e(h,I({icon:!1,color:"default"},r,{variant:"tonal"}),{default:l(()=>[w(" Next ")]),_:2},1040)]),_:1},8,["modelValue","length","total-visible"])])]),_:1},8,["items-per-page","page","headers","items","items-length"])]),_:1})])}}});const Ht=J(We,[["__scopeId","data-v-2807edbd"]]),Le={class:"d-flex flex-wrap gap-4 mx-5"},He={class:"d-flex align-center"},Re={class:"d-flex gap-4 flex-wrap align-center"},Te={class:"d-flex align-center justify-space-between flex-wrap gap-3 pa-5 pt-3"},qe={class:"text-sm text-medium-emphasis mb-0"},Qe=R({__name:"ColdLeads",async setup(W){let m,k;a(!0),a(0);const g=a(""),f=a(""),V=a(),i=a(50),d=a(1),y=a(),x=a(),D=a([{title:"Hot",value:"hot"},{title:"Warm",value:"warm"},{title:"Cold",value:"cold"}]),z=o=>{var n,v;d.value=o.page,y.value=(n=o.sortBy[0])==null?void 0:n.key,x.value=(v=o.sortBy[0])==null?void 0:v.order},P=o=>o==="warm"?{text:"Warm",color:"warning"}:o==="hot"?{text:"Hot",color:"success"}:{text:"cold",color:"error"},{data:$,execute:S}=([m,k]=T(()=>Q(G("/get/UI/pipelines/opportunity",{query:{q:g,cname:f,status:V,page:d,itemsPerPage:i,sortBy:y,orderBy:x,stage:"Opportunity"}}))),m=await m,k(),m),U=M(()=>$.value.data),_=M(()=>$.value.total);return S(),(o,n)=>{const v=X,B=K,E=A("DownloadExcel"),r=A("IconBtn");return F(),q("div",null,[e(H,{class:"mb-6 pt-10"},{default:l(()=>[u("div",Le,[u("div",He,[e(v,{modelValue:t(g),"onUpdate:modelValue":n[0]||(n[0]=s=>p(g)?g.value=s:null),class:"me-3","clear-icon":"tabler-circle-x",clearable:"",color:"primary",placeholder:"Company Name",style:{"inline-size":"200px"},type:"text"},null,8,["modelValue"]),e(v,{modelValue:t(f),"onUpdate:modelValue":n[1]||(n[1]=s=>p(f)?f.value=s:null),class:"me-3","clear-icon":"tabler-circle-x",clearable:"",color:"primary",placeholder:"Contact Person",style:{"inline-size":"200px"},type:"text"},null,8,["modelValue"]),e(B,{modelValue:t(V),"onUpdate:modelValue":n[2]||(n[2]=s=>p(V)?V.value=s:null),items:t(D),"clear-icon":"tabler-circle-x",clearable:"",placeholder:"Status",style:{"inline-size":"200px"}},null,8,["modelValue","items"])]),e(Z),u("div",Re,[e(B,{modelValue:t(i),"onUpdate:modelValue":n[3]||(n[3]=s=>p(i)?i.value=s:null),items:[5,10,20,25,50]},null,8,["modelValue"]),e(E,{data:t(U),name:"opportunity.xls",worksheet:"My Worksheet"},{default:l(()=>[e(h,{color:"primary","prepend-icon":"tabler-download",style:{"text-size-adjust":"auto","text-transform":"none"}})]),_:1},8,["data"])])]),e(N,{class:"mt-4"}),e(t(ee),{"items-per-page":t(i),"onUpdate:itemsPerPage":n[5]||(n[5]=s=>p(i)?i.value=s:null),page:t(d),"onUpdate:page":n[6]||(n[6]=s=>p(d)?d.value=s:null),headers:t(ie),items:t(U),"items-length":t(_),class:"text-no-wrap","show-select":"","onUpdate:options":z},{"item.status":l(({item:s})=>[e(oe,I({density:"default",label:""},P(s.status)),null,16)]),"item.actions":l(({item:s})=>[e(r,null,{default:l(()=>[e(O,{icon:"tabler-eye",onClick:c=>o.$router.push(`/pipeline/view/${s.id}`)},null,8,["onClick"])]),_:2},1024)]),bottom:l(()=>[e(N),u("div",Te,[u("p",qe,j(t(Y)({page:t(d),itemsPerPage:t(i)},t(_))),1),e(te,{modelValue:t(d),"onUpdate:modelValue":n[4]||(n[4]=s=>p(d)?d.value=s:null),length:Math.min(Math.ceil(t(_)/t(i)),5),"total-visible":o.$vuetify.display.xs?1:Math.min(Math.ceil(t(_)/t(i)),5)},{prev:l(s=>[e(h,I({icon:!1,color:"default"},s,{variant:"tonal"}),{default:l(()=>[w(" Previous ")]),_:2},1040)]),next:l(s=>[e(h,I({icon:!1,color:"default"},s,{variant:"tonal"}),{default:l(()=>[w(" Next ")]),_:2},1040)]),_:1},8,["modelValue","length","total-visible"])])]),_:1},8,["items-per-page","page","headers","items","items-length"])]),_:1})])}}});const Rt=J(Qe,[["__scopeId","data-v-277eb056"]]),Ge={class:"d-flex flex-wrap gap-4 mx-5"},Je={class:"d-flex align-center"},Ke={class:"d-flex gap-4 flex-wrap align-center"},Xe=["title"],Ye={class:"d-flex align-center justify-space-between flex-wrap gap-3 pa-5 pt-3"},Ze={class:"text-sm text-medium-emphasis mb-0"},et=R({__name:"Contacts",async setup(W){let m,k;a(!0),a(0);const g=a(""),f=a(""),V=a(),i=xe(),d=be(()=>he(()=>import("./LeadConversion-50e804a5.js"),["assets/LeadConversion-50e804a5.js","assets/validators-db74a876.js","assets/helpers-681711bc.js","assets/index-75b434bc.js","assets/index-1b23fcec.css","assets/AppSelect.vue_vue_type_script_setup_true_lang-32a0f469.js","assets/form-2b416184.js","assets/form-16aeed72.css","assets/VSelect-54e8b29a.js","assets/VTextField-05e93cc8.js","assets/VCounter-3e4b236e.js","assets/transition-6afda34e.js","assets/VCounter-66d880d8.css","assets/VField-82993695.js","assets/easing-9f15041e.js","assets/VField-f0ae27e6.css","assets/VInput-b46333d7.js","assets/VInput-aff17aa7.css","assets/forwardRefs-8348545e.js","assets/index-97808f23.js","assets/VTextField-72d54917.css","assets/VList-c7d4c8b4.js","assets/ssrBoot-7f224ca6.js","assets/createSimpleFunctional-4b3a0a39.js","assets/VAvatar-071125b9.js","assets/VImg-ba4b392a.js","assets/VImg-b8589eee.css","assets/VAvatar-0c2eeb2f.css","assets/VDivider-fc890531.js","assets/VDivider-357e019d.css","assets/VList-124a256e.css","assets/dialog-transition-14fdab67.js","assets/VMenu-3f143933.js","assets/VOverlay-0b79a00d.js","assets/lazy-0bb5e457.js","assets/scopeId-ee2feb8e.js","assets/VOverlay-3a294b3a.css","assets/VMenu-fe9a8434.css","assets/VCheckboxBtn-0f22f589.js","assets/VSelectionControl-e1264669.js","assets/VSelectionControl-3bc768c3.css","assets/VChip-e2ddd660.js","assets/VChip-615f71d7.css","assets/VSelect-055dcab5.css","assets/AppTextField.vue_vue_type_script_setup_true_lang-93dc1e26.js","assets/DialogCloseBtn.vue_vue_type_script_setup_true_lang-035125fd.js","assets/api-0c1dfdf3.js","assets/index-2898f57d.js","assets/useApi-776c55ea.js","assets/createUrl-149317bf.js","assets/VCard-95c0d706.js","assets/VCardText-76f31582.js","assets/VCard-948d992c.css","assets/VAlert-1953529c.js","assets/VAlert-c2716c91.css","assets/VForm-e46f5921.js","assets/VRow-d6f20668.js","assets/VGrid-a2928905.css","assets/VCol-35b3d337.js","assets/VCheckbox-e2d8e1ba.js","assets/VCheckbox-1ea139e1.css","assets/VDialog-bc06d443.js","assets/VDialog-94321bd4.css"])),y=a(50),x=a(1),D=a(),z=a(),P=a(!1),$=a(0),S=a([{title:"Hot",value:"hot"},{title:"Warm",value:"warm"},{title:"Cold",value:"cold"}]),U=c=>{var b,le;x.value=c.page,D.value=(b=c.sortBy[0])==null?void 0:b.key,z.value=(le=c.sortBy[0])==null?void 0:le.order},_=(c,b)=>c.length>b?`${c.substring(0,b)}...`:c,o=c=>c==="warm"?{text:"Warm",color:"warning"}:c==="hot"?{text:"Hot",color:"success"}:{text:"Cold",color:"error"},{data:n,execute:v}=([m,k]=T(()=>Q(G("/get/UI/pipelines/contacts",{query:{q:g,cname:f,status:V,page:x,itemsPerPage:y,sortBy:D,orderBy:z}}))),m=await m,k(),m),B=async c=>{ue("scheduleIDCookie").value=c.toString(),await i.push("/calendar/schedules")},E=c=>{$.value=c,P.value=!P.value},r=M(()=>n.value.data),s=M(()=>n.value.total);return v(),(c,b)=>{const le=X,ce=K,pe=A("DownloadExcel"),de=A("IconBtn");return F(),q("div",null,[e(H,{class:"text-high-emphasis text-center"},{default:l(()=>[t(P)&&t($)>0?(F(),ae(t(d),{key:0,isDialogVisible:t(P),"onUpdate:isDialogVisible":b[0]||(b[0]=C=>p(P)?P.value=C:null),pipeline:t($),"onUpdate:pipeline":b[1]||(b[1]=C=>p($)?$.value=C:null)},null,8,["isDialogVisible","pipeline"])):ge("",!0)]),_:1}),e(H,{class:"mb-6 pt-10"},{default:l(()=>[u("div",Ge,[u("div",Je,[e(le,{modelValue:t(g),"onUpdate:modelValue":b[2]||(b[2]=C=>p(g)?g.value=C:null),class:"me-3","clear-icon":"tabler-circle-x",clearable:"",color:"primary",placeholder:"Company Name",style:{"inline-size":"200px"},type:"text"},null,8,["modelValue"]),e(le,{modelValue:t(f),"onUpdate:modelValue":b[3]||(b[3]=C=>p(f)?f.value=C:null),class:"me-3","clear-icon":"tabler-circle-x",clearable:"",color:"primary",placeholder:"Contact Person",style:{"inline-size":"200px"},type:"text"},null,8,["modelValue"]),e(ce,{modelValue:t(V),"onUpdate:modelValue":b[4]||(b[4]=C=>p(V)?V.value=C:null),items:t(S),"clear-icon":"tabler-circle-x",clearable:"",placeholder:"Status",style:{"inline-size":"200px"}},null,8,["modelValue","items"]),e(h,{color:"primary","prepend-icon":"tabler-search",style:{"text-size-adjust":"auto","text-transform":"none"},onClick:c.submitFilters},null,8,["onClick"]),e(h,{color:"primary","prepend-icon":"tabler-refresh",style:{"text-size-adjust":"auto","text-transform":"none"},onClick:c.clearFilters},null,8,["onClick"])]),e(Z),u("div",Ke,[e(ce,{modelValue:t(y),"onUpdate:modelValue":b[5]||(b[5]=C=>p(y)?y.value=C:null),items:[5,10,20,25,50]},null,8,["modelValue"]),e(pe,{data:t(r),name:"contacts.xls",worksheet:"My Worksheet"},{default:l(()=>[e(h,{color:"primary","prepend-icon":"tabler-download",style:{"text-size-adjust":"auto","text-transform":"none"}})]),_:1},8,["data"]),e(h,{color:"primary",onClick:b[6]||(b[6]=C=>c.$router.push("/pipeline/new"))},{default:l(()=>[w(" New Contact ")]),_:1})])]),e(N,{class:"mt-4"}),e(t(ee),{"items-per-page":t(y),"onUpdate:itemsPerPage":b[8]||(b[8]=C=>p(y)?y.value=C:null),page:t(x),"onUpdate:page":b[9]||(b[9]=C=>p(x)?x.value=C:null),headers:t(Ie),items:t(r),"items-length":t(s),class:"text-no-wrap","show-select":"","onUpdate:options":U},{"item.email":l(({item:C})=>[u("span",{title:C.email},j(_(C.email,10)),9,Xe)]),"item.status":l(({item:C})=>[e(oe,I({density:"default",label:""},o(C.status)),null,16)]),"item.actions":l(({item:C})=>[e(de,null,{default:l(()=>[e(O,{icon:"tabler-edit",onClick:ne=>c.$router.push(`/pipeline/edit/${C.id}`)},null,8,["onClick"])]),_:2},1024),e(de,null,{default:l(()=>[e(O,{icon:"tabler-dots-vertical"}),e(se,{activator:"parent"},{default:l(()=>[e(re,null,{default:l(()=>[e(L,{"prepend-icon":"tabler-mail",value:"download",onClick:ne=>B(C.id)},{default:l(()=>[w(" Schedule Visit ")]),_:2},1032,["onClick"]),e(L,{"prepend-icon":"tabler-share",value:"convertToLead",onClick:ne=>E(C.id)},{default:l(()=>[w(" Convert to Lead ")]),_:2},1032,["onClick"]),e(L,{"prepend-icon":"tabler-eye",value:"duplicate",onClick:ne=>c.$router.push(`/pipeline/view/${C.id}`)},{default:l(()=>[w(" View ")]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),bottom:l(()=>[e(N),u("div",Ye,[u("p",Ze,j(t(Y)({page:t(x),itemsPerPage:t(y)},t(s))),1),e(te,{modelValue:t(x),"onUpdate:modelValue":b[7]||(b[7]=C=>p(x)?x.value=C:null),length:Math.min(Math.ceil(t(s)/t(y)),5),"total-visible":c.$vuetify.display.xs?1:Math.min(Math.ceil(t(s)/t(y)),5)},null,8,["modelValue","length","total-visible"])])]),_:1},8,["items-per-page","page","headers","items","items-length"])]),_:1})])}}});const Tt=J(et,[["__scopeId","data-v-a13394ee"]]),tt={class:"d-flex flex-wrap gap-4 mx-5"},lt={class:"d-flex align-center"},at={class:"d-flex gap-4 flex-wrap align-center"},ot={class:"d-flex align-center gap-x-2"},nt={class:"d-flex flex-column"},st={class:"d-flex align-center justify-space-between flex-wrap gap-3 pa-5 pt-3"},rt={class:"text-sm text-medium-emphasis mb-0"},it=R({__name:"Leads",async setup(W){let m,k;const g=a(ze);a(!0),a(0);const f=a(""),V=a(""),i=a(),d=a(!1),y=a(50),x=a(1),D=a(),z=a();a([{title:"ICT",value:"Pending"},{title:"Factory",value:"Completed"},{title:"Bank",value:"Initiation"}]);const P=n=>{var v,B;x.value=n.page,D.value=(v=n.sortBy[0])==null?void 0:v.key,z.value=(B=n.sortBy[0])==null?void 0:B.order},{data:$,execute:S}=([m,k]=T(()=>Q(G("/get/UI/pipelines/leads",{query:{q:f,cname:V,status:i,page:x,itemsPerPage:y,sortBy:D,orderBy:z,stage:"Lead"}}))),m=await m,k(),m),U=M(()=>$.value.data),_=M(()=>$.value.total),o=a(ue("userData"));return S(),(n,v)=>{const B=X,E=K,r=A("DownloadExcel"),s=A("IconBtn");return F(),q("div",null,[e(H,{class:"mb-6 pt-10"},{default:l(()=>[u("div",tt,[u("div",lt,[e(B,{modelValue:t(f),"onUpdate:modelValue":v[0]||(v[0]=c=>p(f)?f.value=c:null),class:"me-3","clear-icon":"tabler-circle-x",clearable:"",color:"primary",placeholder:"Company Name",style:{"inline-size":"200px"},type:"text"},null,8,["modelValue"]),e(B,{modelValue:t(V),"onUpdate:modelValue":v[1]||(v[1]=c=>p(V)?V.value=c:null),class:"me-3","clear-icon":"tabler-circle-x",clearable:"",color:"primary",placeholder:"Contact Person",style:{"inline-size":"200px"},type:"text"},null,8,["modelValue"]),e(h,{color:"primary","prepend-icon":"tabler-search",style:{"text-size-adjust":"auto","text-transform":"none"},onClick:n.submitFilters},null,8,["onClick"]),e(h,{color:"primary","prepend-icon":"tabler-refresh",style:{"text-size-adjust":"auto","text-transform":"none"},onClick:n.clearFilters},null,8,["onClick"])]),e(Z),u("div",at,[e(E,{modelValue:t(y),"onUpdate:modelValue":v[2]||(v[2]=c=>p(y)?y.value=c:null),items:[5,10,20,25,50]},null,8,["modelValue"]),e(r,{data:t(U),name:"leads.xls",worksheet:"My Worksheet"},{default:l(()=>[e(h,{color:"primary","prepend-icon":"tabler-download",style:{"text-size-adjust":"auto","text-transform":"none"}})]),_:1},8,["data"]),e(h,{color:"primary","prepend-icon":"tabler-plus",onClick:v[3]||(v[3]=c=>n.$router.push("/pipeline/new"))},{default:l(()=>[w(" New Lead ")]),_:1})])]),e(N,{class:"mt-4"}),e(t(ee),{"items-per-page":t(y),"onUpdate:itemsPerPage":v[6]||(v[6]=c=>p(y)?y.value=c:null),page:t(x),"onUpdate:page":v[7]||(v[7]=c=>p(x)?x.value=c:null),headers:t(g),items:t(U),"items-length":t(_),class:"text-no-wrap","show-select":"","onUpdate:options":P},Ce({"item.actions":l(({item:c})=>[e(s,null,{default:l(()=>[e(O,{icon:"tabler-edit",onClick:b=>n.$router.push(`/pipeline/edit/${c.id}`)},null,8,["onClick"])]),_:2},1024),e(s,null,{default:l(()=>[e(O,{icon:"tabler-dots-vertical"}),e(se,{activator:"parent"},{default:l(()=>[e(re,null,{default:l(()=>[e(L,{"prepend-icon":"tabler-calendar",value:"schedule",onClick:v[4]||(v[4]=b=>n.$router.push("/calendar/schedules"))},{default:l(()=>[w(" Schedule Follow up ")]),_:1}),e(L,{"prepend-icon":"tabler-status-change",value:"opportunity",onClick:b=>n.$router.push(`/pipeline/opportunity/new/${c.id}`)},{default:l(()=>[w(" Convert to Opportunity ")]),_:2},1032,["onClick"]),e(L,{"prepend-icon":"tabler-eye",value:"cold",onClick:b=>n.$router.push(`/pipeline/view/${c.id}`)},{default:l(()=>[w(" View ")]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),bottom:l(()=>[e(N),u("div",st,[u("p",rt,j(t(Y)({page:t(x),itemsPerPage:t(y)},t(_))),1),e(te,{modelValue:t(x),"onUpdate:modelValue":v[5]||(v[5]=c=>p(x)?x.value=c:null),length:Math.min(Math.ceil(t(_)/t(y)),5),"total-visible":n.$vuetify.display.xs?1:Math.min(Math.ceil(t(_)/t(y)),5)},{prev:l(c=>[e(h,I({icon:!1,color:"default"},c,{variant:"tonal"}),{default:l(()=>[w(" Previous ")]),_:2},1040)]),next:l(c=>[e(h,I({icon:!1,color:"default"},c,{variant:"tonal"}),{default:l(()=>[w(" Next ")]),_:2},1040)]),_:1},8,["modelValue","length","total-visible"])])]),_:2},[t(d)?{name:"item.sales",fn:l(()=>[u("div",ot,[u("div",nt,[u("span",null,j(t(o).name),1)])])]),key:"0"}:void 0]),1032,["items-per-page","page","headers","items","items-length"])]),_:1})])}}});const qt=J(it,[["__scopeId","data-v-ef663dbf"]]),ct={class:"d-flex flex-wrap gap-4 mx-5"},dt={class:"d-flex align-center"},ut={class:"d-flex gap-4 flex-wrap align-center"},pt={class:"d-flex align-center justify-space-between flex-wrap gap-3 pa-5 pt-3"},mt={class:"text-sm text-medium-emphasis mb-0"},_t=R({__name:"Opportunity",async setup(W){let m,k;a(!0),a(0);const g=a(""),f=a(""),V=a(),i=a(50),d=a(1),y=a(),x=a(),D=a([{title:"Hot",value:"hot"},{title:"Warm",value:"warm"},{title:"Cold",value:"cold"}]),z=o=>{var n,v;d.value=o.page,y.value=(n=o.sortBy[0])==null?void 0:n.key,x.value=(v=o.sortBy[0])==null?void 0:v.order},P=o=>o==="warm"?{text:"Warm",color:"warning"}:o==="hot"?{text:"Hot",color:"success"}:{text:"cold",color:"error"},{data:$,execute:S}=([m,k]=T(()=>Q(G("/get/UI/pipelines/opportunity",{query:{q:g,cname:f,status:V,page:d,itemsPerPage:i,sortBy:y,orderBy:x,stage:"Opportunity"}}))),m=await m,k(),m),U=M(()=>$.value.data),_=M(()=>$.value.total);return S(),(o,n)=>{const v=X,B=K,E=A("DownloadExcel"),r=A("IconBtn");return F(),q("div",null,[e(H,{class:"mb-6 pt-10"},{default:l(()=>[u("div",ct,[u("div",dt,[e(v,{modelValue:t(g),"onUpdate:modelValue":n[0]||(n[0]=s=>p(g)?g.value=s:null),class:"me-3","clear-icon":"tabler-circle-x",clearable:"",color:"primary",placeholder:"Company Name",style:{"inline-size":"200px"},type:"text"},null,8,["modelValue"]),e(v,{modelValue:t(f),"onUpdate:modelValue":n[1]||(n[1]=s=>p(f)?f.value=s:null),class:"me-3","clear-icon":"tabler-circle-x",clearable:"",color:"primary",placeholder:"Contact Person",style:{"inline-size":"200px"},type:"text"},null,8,["modelValue"]),e(B,{modelValue:t(V),"onUpdate:modelValue":n[2]||(n[2]=s=>p(V)?V.value=s:null),items:t(D),"clear-icon":"tabler-circle-x",clearable:"",placeholder:"Status",style:{"inline-size":"200px"}},null,8,["modelValue","items"]),e(h,{color:"primary","prepend-icon":"tabler-search",style:{"text-size-adjust":"auto","text-transform":"none"},onClick:o.submitFilters},null,8,["onClick"]),e(h,{color:"primary","prepend-icon":"tabler-refresh",style:{"text-size-adjust":"auto","text-transform":"none"},onClick:o.clearFilters},null,8,["onClick"])]),e(Z),u("div",ut,[e(B,{modelValue:t(i),"onUpdate:modelValue":n[3]||(n[3]=s=>p(i)?i.value=s:null),items:[5,10,20,25,50]},null,8,["modelValue"]),e(E,{data:t(U),name:"opportunity.xls",worksheet:"My Worksheet"},{default:l(()=>[e(h,{color:"primary","prepend-icon":"tabler-download",style:{"text-size-adjust":"auto","text-transform":"none"}})]),_:1},8,["data"]),e(h,{color:"primary","prepend-icon":"tabler-plus",onClick:n[4]||(n[4]=s=>o.$router.push("/pipeline/new"))},{default:l(()=>[w(" New Opportunity ")]),_:1})])]),e(N,{class:"mt-4"}),e(t(ee),{"items-per-page":t(i),"onUpdate:itemsPerPage":n[6]||(n[6]=s=>p(i)?i.value=s:null),page:t(d),"onUpdate:page":n[7]||(n[7]=s=>p(d)?d.value=s:null),headers:t(ie),items:t(U),"items-length":t(_),class:"text-no-wrap","show-select":"","onUpdate:options":z},{"item.status":l(({item:s})=>[e(oe,I({density:"default",label:""},P(s.status)),null,16)]),"item.actions":l(({item:s})=>[e(r,null,{default:l(()=>[e(O,{icon:"tabler-edit",onClick:c=>o.$router.push(`/pipeline/edit/${s.id}`)},null,8,["onClick"])]),_:2},1024),e(r,null,{default:l(()=>[e(O,{icon:"tabler-eye",onClick:c=>o.$router.push(`/pipeline/view/${s.id}`)},null,8,["onClick"])]),_:2},1024)]),bottom:l(()=>[e(N),u("div",pt,[u("p",mt,j(t(Y)({page:t(d),itemsPerPage:t(i)},t(_))),1),e(te,{modelValue:t(d),"onUpdate:modelValue":n[5]||(n[5]=s=>p(d)?d.value=s:null),length:Math.min(Math.ceil(t(_)/t(i)),5),"total-visible":o.$vuetify.display.xs?1:Math.min(Math.ceil(t(_)/t(i)),5)},{prev:l(s=>[e(h,I({icon:!1,color:"default"},s,{variant:"tonal"}),{default:l(()=>[w(" Previous ")]),_:2},1040)]),next:l(s=>[e(h,I({icon:!1,color:"default"},s,{variant:"tonal"}),{default:l(()=>[w(" Next ")]),_:2},1040)]),_:1},8,["modelValue","length","total-visible"])])]),_:1},8,["items-per-page","page","headers","items","items-length"])]),_:1})])}}});const Qt=J(_t,[["__scopeId","data-v-8b5c6225"]]),vt={class:"d-flex flex-wrap gap-4 mx-5"},yt={class:"d-flex align-center"},ft={class:"d-flex gap-4 flex-wrap align-center"},xt={class:"text-body-1 font-weight-medium"},gt={class:"d-flex align-center justify-space-between flex-wrap gap-3 pa-5 pt-3"},bt={class:"text-sm text-medium-emphasis mb-0"},ht=R({__name:"Rejects",async setup(W){let m,k;a(!0),a(0);const g=a(""),f=a(""),V=a(),i=a(50),d=a(1),y=a(),x=a();a([{title:"Hot",value:"hot"},{title:"Warm",value:"warm"},{title:"Cold",value:"cold"}]);const D=_=>{var o,n;d.value=_.page,y.value=(o=_.sortBy[0])==null?void 0:o.key,x.value=(n=_.sortBy[0])==null?void 0:n.order},{data:z,execute:P}=([m,k]=T(()=>Q(G("/dashboard/opportunities",{query:{q:g,cname:f,status:V,page:d,itemsPerPage:i,sortBy:y,orderBy:x,stage:"Reject"}}))),m=await m,k(),m),$=M(()=>z.value.data),S=M(()=>z.value.total),U=async _=>{try{const o=await we(`/opportunities/UI/update/cold/${_}`,{method:"POST",body:{lead_status:"Cold"}});console.log(o)}catch(o){console.error(o)}};return P(),(_,o)=>{const n=X,v=K,B=A("DownloadExcel"),E=A("IconBtn");return F(),q("div",null,[e(H,{class:"mb-6 pt-10"},{default:l(()=>[u("div",vt,[u("div",yt,[e(n,{modelValue:t(g),"onUpdate:modelValue":o[0]||(o[0]=r=>p(g)?g.value=r:null),class:"me-3","clear-icon":"tabler-circle-x",clearable:"",color:"primary",placeholder:"Company Name",style:{"inline-size":"200px"},type:"text"},null,8,["modelValue"]),e(n,{modelValue:t(f),"onUpdate:modelValue":o[1]||(o[1]=r=>p(f)?f.value=r:null),class:"me-3","clear-icon":"tabler-circle-x",clearable:"",color:"primary",placeholder:"Contact Person",style:{"inline-size":"200px"},type:"text"},null,8,["modelValue"]),e(h,{color:"primary","prepend-icon":"tabler-search",style:{"text-size-adjust":"auto","text-transform":"none"},onClick:_.submitFilters},null,8,["onClick"]),e(h,{color:"primary","prepend-icon":"tabler-refresh",style:{"text-size-adjust":"auto","text-transform":"none"},onClick:_.clearFilters},null,8,["onClick"])]),e(Z),u("div",ft,[e(v,{modelValue:t(i),"onUpdate:modelValue":o[2]||(o[2]=r=>p(i)?i.value=r:null),items:[5,10,20,25,50]},null,8,["modelValue"]),e(B,{data:t($),name:"rejects.xls",worksheet:"My Worksheet"},{default:l(()=>[e(h,{color:"primary","prepend-icon":"tabler-download",style:{"text-size-adjust":"auto","text-transform":"none"}})]),_:1},8,["data"])])]),e(N,{class:"mt-4"}),e(t(ee),{"items-per-page":t(i),"onUpdate:itemsPerPage":o[5]||(o[5]=r=>p(i)?i.value=r:null),page:t(d),"onUpdate:page":o[6]||(o[6]=r=>p(d)?d.value=r:null),headers:t(De),items:t($),"items-length":t(S),class:"text-no-wrap","show-select":"","onUpdate:options":D},{"item.source":l(({item:r})=>[u("span",xt,j(r.source),1)]),"item.actions":l(({item:r})=>[e(E,null,{default:l(()=>[e(O,{icon:"tabler-dots-vertical"}),e(se,{activator:"parent"},{default:l(()=>[e(re,null,{default:l(()=>[e(L,{"prepend-icon":"tabler-calendar",value:"schedule",onClick:o[3]||(o[3]=s=>_.$router.push("/calendar/schedules"))},{default:l(()=>[w(" Add to Schedule ")]),_:1}),e(L,{"prepend-icon":"tabler-coffee-off",value:"cold",onClick:s=>U(r.id)},{default:l(()=>[w(" Mark as Cold ")]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),bottom:l(()=>[e(N),u("div",gt,[u("p",bt,j(t(Y)({page:t(d),itemsPerPage:t(i)},t(S))),1),e(te,{modelValue:t(d),"onUpdate:modelValue":o[4]||(o[4]=r=>p(d)?d.value=r:null),length:Math.min(Math.ceil(t(S)/t(i)),5),"total-visible":_.$vuetify.display.xs?1:Math.min(Math.ceil(t(S)/t(i)),5)},{prev:l(r=>[e(h,I({icon:!1,color:"default"},r,{variant:"tonal"}),{default:l(()=>[w(" Previous ")]),_:2},1040)]),next:l(r=>[e(h,I({icon:!1,color:"default"},r,{variant:"tonal"}),{default:l(()=>[w(" Next ")]),_:2},1040)]),_:1},8,["modelValue","length","total-visible"])])]),_:1},8,["items-per-page","page","headers","items","items-length"])]),_:1})])}}});const Gt=J(ht,[["__scopeId","data-v-ee5260cb"]]);export{Lt as C,qt as L,Qt as O,Gt as R,Tt as a,Rt as b,Ht as c};
