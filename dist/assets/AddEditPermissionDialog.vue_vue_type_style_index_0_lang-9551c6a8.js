import{_ as V}from"./AppTextField.vue_vue_type_script_setup_true_lang-298ad98d.js";import{_ as g}from"./DialogCloseBtn.vue_vue_type_script_setup_true_lang-9e7a34d5.js";import{$ as y}from"./api-44dd0fa9.js";import{a as b,b as D,d as h,V as N}from"./VCard-1a5b2c5e.js";import{V as v}from"./VCardText-3b4da816.js";import{V as x}from"./VForm-ed4803d2.js";import{V as C}from"./VAlert-009fe8a7.js";import{d as w,r as P,w as A,o as B,h as E,f as s,b as e,x as t,y as m,e as I,p as $,aI as k,a4 as T}from"./index-5caaa453.js";import{V as S}from"./VDialog-808ce03e.js";const U={class:"d-flex align-end gap-3 mb-3"},J=w({__name:"AddEditPermissionDialog",props:{isDialogVisible:{type:Boolean},permissionName:{default:""},permissionID:{},fetchData:{}},emits:["update:isDialogVisible","update:permissionName"],setup(d,{emit:p}){const a=d,o=p,i=P(a.permissionName),l=()=>{o("update:isDialogVisible",!1),i.value=""},u=async()=>{console.log(a.permissionID),await y(`/UI/roles/${a.permissionID}/rolename/update`,{method:"POST",body:{rolename:i.value},onResponseError({response:n}){o("update:isDialogVisible",!0)}}),a.fetchData(),o("update:isDialogVisible",!1),o("update:permissionName",i.value)};return A(a,()=>{i.value=a.permissionName}),(n,r)=>{const c=g,f=V;return B(),E(S,{width:n.$vuetify.display.smAndDown?"auto":600,"model-value":a.isDialogVisible,"onUpdate:modelValue":l},{default:s(()=>[e(c,{onClick:l}),e(N,{class:"pa-sm-8 pa-5"},{default:s(()=>[e(b,{class:"text-center"},{default:s(()=>[e(D,{class:"text-h5"},{default:s(()=>[t(m(a.permissionName?"Edit":"Add")+" Permission ",1)]),_:1}),e(h,null,{default:s(()=>[t(m(a.permissionName?"Edit":"Add")+" permission as per your requirements. ",1)]),_:1})]),_:1}),e(v,{class:"mt-1"},{default:s(()=>[e(x,null,{default:s(()=>[e(C,{type:"warning",title:"Warning!",variant:"tonal",class:"mb-6"},{default:s(()=>[t(" By editing the permission name, you might break the system permissions functionality. Please ensure you're absolutely certain before proceeding. ")]),_:1}),I("div",U,[e(f,{modelValue:$(i),"onUpdate:modelValue":r[0]||(r[0]=_=>k(i)?i.value=_:null),density:"compact",label:"Permission Name",placeholder:"Enter Permission Name"},null,8,["modelValue"]),e(T,{onClick:u},{default:s(()=>[t(" Update ")]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1},8,["width","model-value"])}}});export{J as _};
