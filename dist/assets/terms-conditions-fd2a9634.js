import{_ as W}from"./DialogCloseBtn.vue_vue_type_script_setup_true_lang-9e7a34d5.js";import{_ as X}from"./AppSelect.vue_vue_type_script_setup_true_lang-67ce80f3.js";import{_ as Y}from"./AppTextField.vue_vue_type_script_setup_true_lang-298ad98d.js";import{_ as Z}from"./edit-terms.vue_vue_type_script_setup_true_lang-3acd9734.js";import{u as M}from"./useApi-c9327355.js";import{c as ee}from"./createUrl-3e678c2b.js";import{$ as T}from"./api-44dd0fa9.js";import{d as te,r,b6 as oe,R as ae,o as $,c as le,b as o,f as l,e as c,p as n,aI as u,a4 as V,x as d,y as A,t as B,a9 as b,h as ne,A as re,F as se,a as ie}from"./index-5caaa453.js";import{V as ce}from"./VDataTable-1493872b.js";import{V as h}from"./VChip-49676f7d.js";import{V as I}from"./VCard-1a5b2c5e.js";import{V as U}from"./VCardText-3b4da816.js";import{V as me}from"./VDialog-808ce03e.js";import"./form-c9c578a3.js";import"./VSelect-f0a443ce.js";import"./VTextField-604d91ff.js";/* empty css                   */import"./VCounter-728f7f8c.js";import"./transition-1886cce0.js";import"./VField-6b3808ed.js";import"./easing-9f15041e.js";import"./VInput-e87890b4.js";import"./forwardRefs-8348545e.js";import"./index-7dd1f5f0.js";import"./VList-4b1bf96e.js";import"./ssrBoot-2696bccc.js";import"./createSimpleFunctional-9624028d.js";import"./VAvatar-3ee4c690.js";import"./VImg-6009f8f0.js";import"./VDivider-d40713ce.js";import"./dialog-transition-1ae6ec72.js";import"./VMenu-97c48b4e.js";import"./VOverlay-da001e16.js";import"./lazy-9cd674a5.js";import"./scopeId-484eb469.js";import"./VCheckboxBtn-1d552264.js";import"./VSelectionControl-e0df1dbd.js";import"./TiptapEditor.vue_vue_type_style_index_0_lang-b24c8bd1.js";import"./index-f9c487c0.js";import"./VRow-e44df108.js";/* empty css              */import"./VCol-bcc5388c.js";import"./index-2898f57d.js";import"./VTable-f9bab7db.js";import"./filter-aecd5fc1.js";const pe={class:"d-flex flex-wrap gap-4 mx-5 my-5"},ue={class:"d-flex align-center"},de={class:"d-flex gap-4 flex-wrap align-center"},fe={class:"text-h6"},ve={href:"javascript:void(0)"},_e=c("br",null,null,-1),mt=te({__name:"terms-conditions",async setup(ye){let f,C;const v=r(""),_=r(),m=r(10),S=r(1),P=r(),F=r(),p=r(null),N=r(),s=r(!1),i=r(!1),j=a=>{p.value=a,i.value=!0},z=a=>{p.value=a,s.value=!0},R=r([{title:"Active",value:"active"},{title:"In active",value:"inactive"}]),k=a=>a&&a==="active"?{color:"success",icon:"tabler-thumb-up"}:{color:"error",icon:"tabler-thumb-down"},q=a=>a==="active"?{text:"Active",color:"success"}:{text:"Inactive",color:"error"},E=a=>a==="vendor_financing"?{text:"Vendor Financing"}:a==="dealer_financing"?{text:"Dealer Financing"}:{text:"Factoring"},O=[{title:"T&C Name",key:"name"},{title:"Product Type",key:"product_type"},{title:"Status",key:"status"},{title:"Actions",key:"actions",sortable:!1}],{data:Q,execute:x}=([f,C]=oe(()=>M(ee("/UI/configurations/terms-and-conditions",{query:{q:v,status:_,itemsPerPage:m,page:S,sortBy:P,orderBy:F}}))),f=await f,C(),f),G=ae(()=>Q.value.data);x();const H=async a=>{try{await T(`/UI/configurations/delete/terms-and-conditions/${a}`,{method:"POST",onResponseError({response:t}){errors.value=t._data.errors}}),await x(),i.value=!1}catch(t){console.error(t)}},J=async a=>{await T("/UI/configurations/activate/terms-and-conditions",{method:"POST",body:{ids:a,status:N.value}}),await x()};return(a,t)=>{const K=Y,w=X,g=ie("IconBtn"),L=W;return $(),le(se,null,[o(I,{class:"mb-6"},{default:l(()=>[c("div",pe,[c("div",ue,[o(K,{modelValue:n(v),"onUpdate:modelValue":t[0]||(t[0]=e=>u(v)?v.value=e:null),class:"me-3","clear-icon":"tabler-circle-x",clearable:"",color:"primary",placeholder:"Template Name",style:{"inline-size":"200px"},type:"text"},null,8,["modelValue"]),o(w,{modelValue:n(_),"onUpdate:modelValue":t[1]||(t[1]=e=>u(_)?_.value=e:null),items:n(R),class:"me-3","clear-icon":"tabler-x",clearable:"",placeholder:"Status",style:{"inline-size":"100px"}},null,8,["modelValue","items"])]),c("div",de,[o(w,{modelValue:n(m),"onUpdate:modelValue":t[2]||(t[2]=e=>u(m)?m.value=e:null),items:[5,10,20,25,50]},null,8,["modelValue"]),o(V,{color:"primary","prepend-icon":"tabler-download",style:{"text-size-adjust":"auto","text-transform":"none"}}),o(V,{color:"primary","prepend-icon":"tabler-plus",style:{"text-size-adjust":"auto","text-transform":"none"},onClick:t[3]||(t[3]=e=>a.$router.push("/configurations/view/add-terms-conditions"))},{default:l(()=>[d(" Add Terms & Conditions ")]),_:1})])]),o(n(ce),{headers:O,items:n(G),"items-per-page":n(m),class:"text-no-wrap"},{"item.name":l(({item:e})=>[c("h6",fe,[c("a",ve,A(e.name),1)])]),"item.status":l(({item:e})=>[o(h,B({density:"default",label:""},q(e.status)),null,16)]),"item.product_type":l(({item:e})=>[o(h,B({density:"default",label:""},E(e.product_type)),null,16)]),"item.actions":l(({item:e})=>[o(g,{onClick:y=>z(e)},{default:l(()=>[o(b,{icon:"tabler-pencil",color:"warning"})]),_:2},1032,["onClick"]),o(g,null,{default:l(()=>{var y,D;return[o(b,{icon:(y=k(e.status))==null?void 0:y.icon,color:(D=k(e.status))==null?void 0:D.color,title:e.status,onClick:Ve=>J([e.id])},null,8,["icon","color","title","onClick"])]}),_:2},1024),o(g,null,{default:l(()=>[o(b,{icon:"tabler-trash",color:"error",onClick:y=>j(e)},null,8,["onClick"])]),_:2},1024)]),_:1},8,["items","items-per-page"])]),_:1}),n(s)?($(),ne(Z,{key:0,isDialogVisible:n(s),"onUpdate:isDialogVisible":t[4]||(t[4]=e=>u(s)?s.value=e:null),template:n(p)},null,8,["isDialogVisible","template"])):re("",!0),o(me,{modelValue:n(i),"onUpdate:modelValue":t[8]||(t[8]=e=>u(i)?i.value=e:null),persistent:"",class:"v-dialog-sm"},{default:l(()=>[o(L,{onClick:t[5]||(t[5]=e=>s.value=!n(s))}),o(I,null,{default:l(()=>[o(U,null,{default:l(()=>[d(" Are you sure you want to delete template: "+A(n(p).name)+"? ",1),_e,d(" This action can not be undone. ")]),_:1}),o(U,{class:"d-flex justify-end gap-3 flex-wrap"},{default:l(()=>[o(V,{color:"secondary",variant:"tonal",onClick:t[6]||(t[6]=e=>i.value=!1)},{default:l(()=>[d(" Cancel ")]),_:1}),o(V,{color:"error",onClick:t[7]||(t[7]=e=>H(n(p).id))},{default:l(()=>[d(" Delete ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}});export{mt as default};
