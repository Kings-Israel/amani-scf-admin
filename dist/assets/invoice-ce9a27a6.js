import{_ as Q}from"./AppSelect.vue_vue_type_script_setup_true_lang-67ce80f3.js";import{_ as Y}from"./AppDateTimePicker.vue_vue_type_style_index_0_lang-56955411.js";import{_ as Z}from"./AppTextField.vue_vue_type_script_setup_true_lang-298ad98d.js";import{p as ee}from"./paginationMeta-4ad053a4.js";import{F as te}from"./FileSaver.min-162ac943.js";import{X as h}from"./xlsx-d63df831.js";import{u as O}from"./useApi-c9327355.js";import{c as X}from"./createUrl-3e678c2b.js";import{d as L,r as a,b6 as W,R as z,o as R,h as le,f as d,e as c,b as l,p as t,aI as s,a4 as ae,t as oe,y as j,c as N,F as J,j as re,aR as pe,aS as ce,a9 as me,z as ve,x as xe}from"./index-5caaa453.js";import{V as ne}from"./VDataTableServer-64dc84b4.js";import{V as se}from"./VChip-49676f7d.js";import{V as G}from"./VDivider-d40713ce.js";import{V as ie}from"./VPagination-4169e3c5.js";import{V as M}from"./VCol-bcc5388c.js";import{V as H}from"./VRow-e44df108.js";import{V as ue}from"./VCardText-3b4da816.js";import{V as de}from"./VCard-1a5b2c5e.js";import{V as ye,a as Ve}from"./VTabs-423f31b3.js";import{V as be,a as K}from"./VWindowItem-1e406499.js";import{V as _e}from"./VAvatar-3ee4c690.js";import{_ as fe}from"./_plugin-vue_export-helper-c27b6911.js";import"./form-c9c578a3.js";import"./VSelect-f0a443ce.js";import"./VTextField-604d91ff.js";/* empty css                   */import"./VCounter-728f7f8c.js";import"./transition-1886cce0.js";import"./VField-6b3808ed.js";import"./easing-9f15041e.js";import"./VInput-e87890b4.js";import"./forwardRefs-8348545e.js";import"./index-7dd1f5f0.js";import"./VList-4b1bf96e.js";import"./ssrBoot-2696bccc.js";import"./createSimpleFunctional-9624028d.js";import"./dialog-transition-1ae6ec72.js";import"./VMenu-97c48b4e.js";import"./VOverlay-da001e16.js";import"./lazy-9cd674a5.js";import"./scopeId-484eb469.js";import"./VCheckboxBtn-1d552264.js";import"./VSelectionControl-e0df1dbd.js";import"./index-2898f57d.js";import"./VDataTable-1493872b.js";import"./VTable-f9bab7db.js";import"./filter-aecd5fc1.js";/* empty css              */import"./VImg-6009f8f0.js";import"./VSlideGroup-1fe3f4d3.js";const ge={class:"d-flex flex-wrap gap-4 mx-5 my-5"},ke={class:"d-flex align-center"},we={class:"d-flex gap-4 flex-wrap align-center"},De={class:"d-flex align-center justify-space-between flex-wrap gap-3 pa-5 pt-3"},Ue={class:"text-sm text-medium-emphasis mb-0"},Ie=L({__name:"ExpiredInvoiceReport",async setup(P){let m,A;a(!0),a(0),a("");const D=a();a();const V=a(),v=a(),f=a(),b=a(),_=a(),w=a("expired"),x=a(),g=a(),U=a([]),i=e=>{var n,y;k.value=e.page,$.value=(n=e.sortBy[0])==null?void 0:n.key,E.value=(y=e.sortBy[0])==null?void 0:y.order,console.log(e+0)},r=a(10),k=a(1),$=a(),E=a();a([{title:"Created",value:"created"},{title:"Pending",value:"pending"},{title:"Approved",value:"approved"},{title:"Submitted",value:"submitted"},{title:"Disbursed",value:"disbursed"},{title:"Denied",value:"denied"}]);const F=e=>e==="approved"?{text:e,color:"success"}:{text:e,color:"inactive"},S=[{title:"Vendor",key:"vendor"},{title:"Bank",key:"bank"},{title:"Anchor",key:"anchor"},{title:"Date Requested",key:"date_requested"},{title:"Invoice Amount",key:"amount"},{title:"Expiry Date",key:"expiry_date"},{title:"Invoice Due Date",key:"due_date"},{title:"Discount Amount ",key:"discount_amount"},{title:"Status",key:"status"}],{data:T,execute:C}=([m,A]=W(()=>O(X("/admin/invoices",{query:{vendor:V,anchor:v,bank:f,status:D,invoice_amount:b,expiry_date:_,expired:w,due_date:x,date_requested:g,page:k,itemsPerPage:r,sortBy:$,orderBy:E}}))),m=await m,A(),m),I=z(()=>T.value.data),B=z(()=>T.value.total);C();const u=()=>{const e=h.utils.json_to_sheet(I.value),n=h.utils.book_new();h.utils.book_append_sheet(n,e,"Expired Invoices");const y=h.write(n,{bookType:"xlsx",type:"array"});te.saveAs(new Blob([y],{type:"application/octet-stream"}),"expired_invoices.xlsx")};return(e,n)=>{const y=Z,q=Y,o=Q;return R(),le(H,null,{default:d(()=>[c("div",ge,[c("div",ke,[l(y,{modelValue:t(V),"onUpdate:modelValue":n[0]||(n[0]=p=>s(V)?V.value=p:null),class:"me-3","clear-icon":"tabler-circle-x",clearable:"",color:"primary",placeholder:"Vendor",style:{"inline-size":"200px"},type:"text"},null,8,["modelValue"]),l(y,{modelValue:t(f),"onUpdate:modelValue":n[1]||(n[1]=p=>s(f)?f.value=p:null),class:"me-3","clear-icon":"tabler-circle-x",clearable:"",color:"primary",placeholder:"Bank",style:{"inline-size":"200px"},type:"text"},null,8,["modelValue"]),l(y,{modelValue:t(v),"onUpdate:modelValue":n[2]||(n[2]=p=>s(v)?v.value=p:null),class:"me-3","clear-icon":"tabler-circle-x",clearable:"",color:"primary",placeholder:"Anchor",style:{"inline-size":"200px"},type:"text"},null,8,["modelValue"]),l(q,{modelValue:t(g),"onUpdate:modelValue":n[3]||(n[3]=p=>s(g)?g.value=p:null),class:"me-3","clear-icon":"tabler-x",clearable:"",placeholder:"Date Created",style:{"inline-size":"200px"}},null,8,["modelValue"]),l(y,{modelValue:t(b),"onUpdate:modelValue":n[4]||(n[4]=p=>s(b)?b.value=p:null),class:"me-3","clear-icon":"tabler-circle-x",clearable:"",color:"primary",placeholder:"Invoice Amount",style:{"inline-size":"200px"},type:"text"},null,8,["modelValue"]),l(q,{modelValue:t(_),"onUpdate:modelValue":n[5]||(n[5]=p=>s(_)?_.value=p:null),class:"me-3","clear-icon":"tabler-x",clearable:"",placeholder:"Expiry Date",style:{"inline-size":"200px"}},null,8,["modelValue"]),l(q,{modelValue:t(x),"onUpdate:modelValue":n[6]||(n[6]=p=>s(x)?x.value=p:null),class:"me-3","clear-icon":"tabler-x",clearable:"",placeholder:"Due Date",style:{"inline-size":"200px"}},null,8,["modelValue"])]),c("div",we,[l(o,{modelValue:t(r),"onUpdate:modelValue":n[7]||(n[7]=p=>s(r)?r.value=p:null),items:[5,10,20,25,50]},null,8,["modelValue"]),l(ae,{color:"primary","prepend-icon":"tabler-download",style:{"text-size-adjust":"auto","text-transform":"none"},onClick:n[8]||(n[8]=p=>u())})])]),l(M,null,{default:d(()=>[l(t(ne),{"items-per-page":t(r),"onUpdate:itemsPerPage":n[10]||(n[10]=p=>s(r)?r.value=p:null),page:t(k),"onUpdate:page":n[11]||(n[11]=p=>s(k)?k.value=p:null),modelValue:t(U),"onUpdate:modelValue":n[12]||(n[12]=p=>s(U)?U.value=p:null),headers:S,items:t(I),"items-length":t(B),"item-key":"id",class:"text-wrap","show-select":"","onUpdate:options":i},{"item.status":d(({item:p})=>[l(se,oe({density:"default",label:""},F(p.status),{class:"text-capitalize"}),null,16)]),bottom:d(()=>[l(G),c("div",De,[c("p",Ue,j(t(ee)({page:t(k),itemsPerPage:t(r)},t(B))),1),l(ie,{modelValue:t(k),"onUpdate:modelValue":n[9]||(n[9]=p=>s(k)?k.value=p:null),length:Math.ceil(t(B)/t(r)),"total-visible":e.$vuetify.display.xs?1:Math.min(Math.ceil(t(B)/t(r)),5),"active-color":"primary","next-icon":"tabler-caret-right","prev-icon":"tabler-caret-left"},null,8,["modelValue","length","total-visible"])])]),_:1},8,["items-per-page","page","modelValue","items","items-length"])]),_:1})]),_:1})}}}),he={class:"d-flex flex-wrap gap-4 mx-5 my-5"},Ae={class:"d-flex align-center"},ze={class:"d-flex gap-4 flex-wrap align-center"},$e={class:"d-flex align-center justify-space-between flex-wrap gap-3 pa-5 pt-3"},Be={class:"text-sm text-medium-emphasis mb-0"},Pe=L({__name:"InvoiceReports",async setup(P){let m,A;a(!0),a(0),a("");const D=a();a();const V=a(),v=a(),f=a(),b=a(),_=a(),w=a(),x=a(),g=a([]),U=u=>{var e,n;r.value=u.page,k.value=(e=u.sortBy[0])==null?void 0:e.key,$.value=(n=u.sortBy[0])==null?void 0:n.order,console.log(u+0)},i=a(10),r=a(1),k=a(),$=a();a([{title:"Created",value:"created"},{title:"Pending",value:"pending"},{title:"Approved",value:"approved"},{title:"Submitted",value:"submitted"},{title:"Disbursed",value:"disbursed"},{title:"Denied",value:"denied"}]);const E=u=>u==="approved"?{text:u,color:"success"}:{text:u,color:"inactive"},F=[{title:"Vendor",key:"vendor"},{title:"Bank",key:"bank"},{title:"Anchor",key:"anchor"},{title:"Date Requested",key:"date_requested"},{title:"Invoice Amount",key:"amount"},{title:"Expiry Date",key:"expiry_date"},{title:"Invoice Due Date",key:"due_date"},{title:"Discount Amount ",key:"discount_amount"},{title:"Status",key:"status"}],{data:S,execute:T}=([m,A]=W(()=>O(X("/admin/invoices",{query:{vendor:V,anchor:v,bank:f,status:D,invoice_amount:b,expiry_date:_,due_date:w,date_requested:x,page:r,itemsPerPage:i,sortBy:k,orderBy:$}}))),m=await m,A(),m),C=z(()=>S.value.data),I=z(()=>S.value.total);T();const B=()=>{const u=h.utils.json_to_sheet(C.value),e=h.utils.book_new();h.utils.book_append_sheet(e,u,"Invoices");const n=h.write(e,{bookType:"xlsx",type:"array"});te.saveAs(new Blob([n],{type:"application/octet-stream"}),"invoices.xlsx")};return(u,e)=>{const n=Z,y=Y,q=Q;return R(),le(H,null,{default:d(()=>[c("div",he,[c("div",Ae,[l(n,{modelValue:t(V),"onUpdate:modelValue":e[0]||(e[0]=o=>s(V)?V.value=o:null),class:"me-3","clear-icon":"tabler-circle-x",clearable:"",color:"primary",placeholder:"Vendor",style:{"inline-size":"200px"},type:"text"},null,8,["modelValue"]),l(n,{modelValue:t(f),"onUpdate:modelValue":e[1]||(e[1]=o=>s(f)?f.value=o:null),class:"me-3","clear-icon":"tabler-circle-x",clearable:"",color:"primary",placeholder:"Bank",style:{"inline-size":"200px"},type:"text"},null,8,["modelValue"]),l(n,{modelValue:t(v),"onUpdate:modelValue":e[2]||(e[2]=o=>s(v)?v.value=o:null),class:"me-3","clear-icon":"tabler-circle-x",clearable:"",color:"primary",placeholder:"Anchor",style:{"inline-size":"200px"},type:"text"},null,8,["modelValue"]),l(y,{modelValue:t(x),"onUpdate:modelValue":e[3]||(e[3]=o=>s(x)?x.value=o:null),class:"me-3","clear-icon":"tabler-x",clearable:"",placeholder:"Date Created",style:{"inline-size":"200px"}},null,8,["modelValue"]),l(n,{modelValue:t(b),"onUpdate:modelValue":e[4]||(e[4]=o=>s(b)?b.value=o:null),class:"me-3","clear-icon":"tabler-circle-x",clearable:"",color:"primary",placeholder:"Invoice Amount",style:{"inline-size":"200px"},type:"text"},null,8,["modelValue"]),l(y,{modelValue:t(_),"onUpdate:modelValue":e[5]||(e[5]=o=>s(_)?_.value=o:null),class:"me-3","clear-icon":"tabler-x",clearable:"",placeholder:"Expiry Date",style:{"inline-size":"200px"}},null,8,["modelValue"]),l(y,{modelValue:t(w),"onUpdate:modelValue":e[6]||(e[6]=o=>s(w)?w.value=o:null),class:"me-3","clear-icon":"tabler-x",clearable:"",placeholder:"Due Date",style:{"inline-size":"200px"}},null,8,["modelValue"])]),c("div",ze,[l(q,{modelValue:t(i),"onUpdate:modelValue":e[7]||(e[7]=o=>s(i)?i.value=o:null),items:[5,10,20,25,50]},null,8,["modelValue"]),l(ae,{color:"primary","prepend-icon":"tabler-download",style:{"text-size-adjust":"auto","text-transform":"none"},onClick:e[8]||(e[8]=o=>B())})])]),l(M,null,{default:d(()=>[l(t(ne),{"items-per-page":t(i),"onUpdate:itemsPerPage":e[10]||(e[10]=o=>s(i)?i.value=o:null),page:t(r),"onUpdate:page":e[11]||(e[11]=o=>s(r)?r.value=o:null),modelValue:t(g),"onUpdate:modelValue":e[12]||(e[12]=o=>s(g)?g.value=o:null),headers:F,items:t(C),"items-length":t(I),"item-key":"id",class:"text-wrap","show-select":"","onUpdate:options":U},{"item.status":d(({item:o})=>[l(se,oe({density:"default",label:""},E(o.status),{class:"text-capitalize"}),null,16)]),bottom:d(()=>[l(G),c("div",$e,[c("p",Be,j(t(ee)({page:t(r),itemsPerPage:t(i)},t(I))),1),l(ie,{modelValue:t(r),"onUpdate:modelValue":e[9]||(e[9]=o=>s(r)?r.value=o:null),length:Math.ceil(t(I)/t(i)),"total-visible":u.$vuetify.display.xs?1:Math.min(Math.ceil(t(I)/t(i)),5),"active-color":"primary","next-icon":"tabler-caret-right","prev-icon":"tabler-caret-left"},null,8,["modelValue","length","total-visible"])])]),_:1},8,["items-per-page","page","modelValue","items","items-length"])]),_:1})]),_:1})}}}),Se={class:"d-flex flex-wrap gap-4 mx-5 my-5"},Ce={class:"d-flex align-center"},qe={class:"d-flex gap-4 flex-wrap align-center"},Re={class:"d-flex align-center justify-space-between flex-wrap gap-3 pa-5 pt-3"},Ee={class:"text-sm text-medium-emphasis mb-0"},Te=L({__name:"RequestedInvoiceReport",async setup(P){let m,A;a(!0),a(0),a("");const D=a("created");a();const V=a(),v=a(),f=a(),b=a(),_=a(),w=a(),x=a(),g=a([]),U=u=>{var e,n;r.value=u.page,k.value=(e=u.sortBy[0])==null?void 0:e.key,$.value=(n=u.sortBy[0])==null?void 0:n.order,console.log(u+0)},i=a(10),r=a(1),k=a(),$=a();a([{title:"Created",value:"created"},{title:"Pending",value:"pending"},{title:"Approved",value:"approved"},{title:"Submitted",value:"submitted"},{title:"Disbursed",value:"disbursed"},{title:"Denied",value:"denied"}]);const E=u=>u==="approved"?{text:u,color:"success"}:{text:u,color:"inactive"},F=[{title:"Vendor",key:"vendor"},{title:"Bank",key:"bank"},{title:"Anchor",key:"anchor"},{title:"Date Requested",key:"date_requested"},{title:"Invoice Amount",key:"amount"},{title:"Expiry Date",key:"expiry_date"},{title:"Invoice Due Date",key:"due_date"},{title:"Discount Amount ",key:"discount_amount"},{title:"Status",key:"status"}],{data:S,execute:T}=([m,A]=W(()=>O(X("/admin/invoices",{query:{vendor:V,anchor:v,bank:f,status:D,invoice_amount:b,expiry_date:_,due_date:w,date_requested:x,page:r,itemsPerPage:i,sortBy:k,orderBy:$}}))),m=await m,A(),m),C=z(()=>S.value.data),I=z(()=>S.value.total);T();const B=()=>{const u=h.utils.json_to_sheet(C.value),e=h.utils.book_new();h.utils.book_append_sheet(e,u,"Requested Invoices");const n=h.write(e,{bookType:"xlsx",type:"array"});te.saveAs(new Blob([n],{type:"application/octet-stream"}),"requested_invoices.xlsx")};return(u,e)=>{const n=Z,y=Y,q=Q;return R(),le(H,null,{default:d(()=>[c("div",Se,[c("div",Ce,[l(n,{modelValue:t(V),"onUpdate:modelValue":e[0]||(e[0]=o=>s(V)?V.value=o:null),class:"me-3","clear-icon":"tabler-circle-x",clearable:"",color:"primary",placeholder:"Vendor",style:{"inline-size":"200px"},type:"text"},null,8,["modelValue"]),l(n,{modelValue:t(f),"onUpdate:modelValue":e[1]||(e[1]=o=>s(f)?f.value=o:null),class:"me-3","clear-icon":"tabler-circle-x",clearable:"",color:"primary",placeholder:"Bank",style:{"inline-size":"200px"},type:"text"},null,8,["modelValue"]),l(n,{modelValue:t(v),"onUpdate:modelValue":e[2]||(e[2]=o=>s(v)?v.value=o:null),class:"me-3","clear-icon":"tabler-circle-x",clearable:"",color:"primary",placeholder:"Anchor",style:{"inline-size":"200px"},type:"text"},null,8,["modelValue"]),l(y,{modelValue:t(x),"onUpdate:modelValue":e[3]||(e[3]=o=>s(x)?x.value=o:null),class:"me-3","clear-icon":"tabler-x",clearable:"",placeholder:"Date Created",style:{"inline-size":"200px"}},null,8,["modelValue"]),l(n,{modelValue:t(b),"onUpdate:modelValue":e[4]||(e[4]=o=>s(b)?b.value=o:null),class:"me-3","clear-icon":"tabler-circle-x",clearable:"",color:"primary",placeholder:"Invoice Amount",style:{"inline-size":"200px"},type:"text"},null,8,["modelValue"]),l(y,{modelValue:t(_),"onUpdate:modelValue":e[5]||(e[5]=o=>s(_)?_.value=o:null),class:"me-3","clear-icon":"tabler-x",clearable:"",placeholder:"Expiry Date",style:{"inline-size":"200px"}},null,8,["modelValue"]),l(y,{modelValue:t(w),"onUpdate:modelValue":e[6]||(e[6]=o=>s(w)?w.value=o:null),class:"me-3","clear-icon":"tabler-x",clearable:"",placeholder:"Due Date",style:{"inline-size":"200px"}},null,8,["modelValue"])]),c("div",qe,[l(q,{modelValue:t(i),"onUpdate:modelValue":e[7]||(e[7]=o=>s(i)?i.value=o:null),items:[5,10,20,25,50]},null,8,["modelValue"]),l(ae,{color:"primary","prepend-icon":"tabler-download",style:{"text-size-adjust":"auto","text-transform":"none"},onClick:e[8]||(e[8]=o=>B())})])]),l(M,null,{default:d(()=>[l(t(ne),{"items-per-page":t(i),"onUpdate:itemsPerPage":e[10]||(e[10]=o=>s(i)?i.value=o:null),page:t(r),"onUpdate:page":e[11]||(e[11]=o=>s(r)?r.value=o:null),modelValue:t(g),"onUpdate:modelValue":e[12]||(e[12]=o=>s(g)?g.value=o:null),headers:F,items:t(C),"items-length":t(I),"item-key":"id",class:"text-wrap","show-select":"","onUpdate:options":U},{"item.status":d(({item:o})=>[l(se,oe({density:"default",label:""},E(o.status),{class:"text-capitalize"}),null,16)]),bottom:d(()=>[l(G),c("div",Re,[c("p",Ee,j(t(ee)({page:t(r),itemsPerPage:t(i)},t(I))),1),l(ie,{modelValue:t(r),"onUpdate:modelValue":e[9]||(e[9]=o=>s(r)?r.value=o:null),length:Math.ceil(t(I)/t(i)),"total-visible":u.$vuetify.display.xs?1:Math.min(Math.ceil(t(I)/t(i)),5),"active-color":"primary","next-icon":"tabler-caret-right","prev-icon":"tabler-caret-left"},null,8,["modelValue","length","total-visible"])])]),_:1},8,["items-per-page","page","modelValue","items","items-length"])]),_:1})]),_:1})}}}),je=P=>(pe("data-v-157c9aa8"),P=P(),ce(),P),Fe=je(()=>c("h3",{class:"text-h3"},"Invoice Reports",-1)),Me={class:"d-flex flex-column"},He={class:"text-body-1 text-capitalize"},Ne={class:"text-h4"},Oe=L({__name:"invoice",async setup(P){let m,A;const D=a("All Uploaded Invoices"),V=["All Uploaded Invoices","Requested","Expired"],{data:v,execute:f}=([m,A]=W(()=>O(X("/admin/invoices"))),m=await m,A(),m);z(()=>v.value.data);const b=z(()=>v.value.total),_=z(()=>v.value.totalCreated),w=z(()=>v.value.totalExpired),x=a([{title:"Invoices Uploaded",value:b,icon:"tabler-mail-opened"},{title:"Invoices Requested",value:_,icon:"tabler-file-invoice"},{title:"Expired Invoices",value:w,icon:"tabler-checks"}]);return(g,U)=>(R(),N("div",null,[l(H,{class:"match-height"},{default:d(()=>[l(M,{cols:"12",md:"12",sm:"12"},{default:d(()=>[Fe]),_:1})]),_:1}),c("section",null,[l(de,{class:"mb-6"},{default:d(()=>[l(ue,{class:"px-3"},{default:d(()=>[l(H,null,{default:d(()=>[(R(!0),N(J,null,re(t(x),(i,r)=>(R(),N(J,{key:r},[l(M,{cols:"12",sm:"6",md:"4",class:"px-6"},{default:d(()=>[l(_e,{variant:"tonal",rounded:"",size:"42",class:"mb-3"},{default:d(()=>[l(me,{icon:i.icon,size:"26",color:"high-emphasis"},null,8,["icon"])]),_:2},1024),c("div",{class:ve(["d-flex justify-space-between align-center",g.$vuetify.display.xs?r!==t(x).length-1?"border-b pb-4":"":g.$vuetify.display.sm&&r<t(x).length/2?"border-b pb-4":""])},[c("div",Me,[c("span",He,j(i.title),1),c("h4",Ne,j(i.value),1)])],2)]),_:2},1024),l(G,{class:"yof-divider",vertical:"",inset:"",length:"60"})],64))),128))]),_:1})]),_:1})]),_:1}),l(de,null,{default:d(()=>[l(ye,{modelValue:t(D),"onUpdate:modelValue":U[0]||(U[0]=i=>s(D)?D.value=i:null)},{default:d(()=>[(R(),N(J,null,re(V,i=>l(Ve,{key:i,value:i},{default:d(()=>[xe(j(i),1)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"]),l(ue,null,{default:d(()=>[l(be,{modelValue:t(D),"onUpdate:modelValue":U[1]||(U[1]=i=>s(D)?D.value=i:null)},{default:d(()=>[l(K,{value:"All Uploaded Invoices"},{default:d(()=>[l(Pe)]),_:1}),l(K,{value:"Requested"},{default:d(()=>[l(Te)]),_:1}),l(K,{value:"Expired"},{default:d(()=>[l(Ie)]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})])]))}});const Ft=fe(Oe,[["__scopeId","data-v-157c9aa8"]]);export{Ft as default};
