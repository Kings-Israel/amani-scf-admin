import{_ as ie}from"./DialogCloseBtn.vue_vue_type_script_setup_true_lang-035125fd.js";import{_ as re}from"./AppSelect.vue_vue_type_script_setup_true_lang-32a0f469.js";import{_ as se}from"./AppTextField.vue_vue_type_script_setup_true_lang-93dc1e26.js";import{_ as ce}from"./edit-email-template.vue_vue_type_script_setup_true_lang-484c7150.js";import{p as ue}from"./paginationMeta-4ad053a4.js";import{u as me}from"./useApi-776c55ea.js";import{c as pe}from"./createUrl-149317bf.js";import{$ as z}from"./api-0c1dfdf3.js";import{d as de,r as a,R as h,b6 as N,o as j,c as fe,b as t,f as n,e as s,p as o,aI as m,a4 as f,x as v,y as T,t as M,a9 as P,h as ve,A as ye,F as ge,a as Ve}from"./index-75b434bc.js";import{V as _e}from"./VDataTable-c3cccdda.js";import{V as q}from"./VChip-e2ddd660.js";import{V as xe}from"./VDivider-fc890531.js";import{V as be}from"./VPagination-2b54b87a.js";import{V as E}from"./VCard-95c0d706.js";import{V as O}from"./VCardText-76f31582.js";import{V as ke}from"./VDialog-bc06d443.js";import"./form-2b416184.js";import"./VSelect-54e8b29a.js";import"./VTextField-05e93cc8.js";/* empty css                   */import"./VCounter-3e4b236e.js";import"./transition-6afda34e.js";import"./VField-82993695.js";import"./easing-9f15041e.js";import"./VInput-b46333d7.js";import"./forwardRefs-8348545e.js";import"./index-97808f23.js";import"./VList-c7d4c8b4.js";import"./ssrBoot-7f224ca6.js";import"./createSimpleFunctional-4b3a0a39.js";import"./VAvatar-071125b9.js";import"./VImg-ba4b392a.js";import"./dialog-transition-14fdab67.js";import"./VMenu-3f143933.js";import"./VOverlay-0b79a00d.js";import"./lazy-0bb5e457.js";import"./scopeId-ee2feb8e.js";import"./VCheckboxBtn-0f22f589.js";import"./VSelectionControl-e1264669.js";import"./AppStepper.vue_vue_type_style_index_0_lang-c08c6f80.js";import"./VSlideGroup-3e745b05.js";import"./VSlideGroupItem-95742265.js";import"./email-details.vue_vue_type_script_setup_true_lang-aefef72e.js";import"./TiptapEditor.vue_vue_type_style_index_0_lang-e76d5625.js";import"./index-78b172a6.js";import"./VCol-35b3d337.js";/* empty css              */import"./VRow-d6f20668.js";import"./header-footer.vue_vue_type_script_setup_true_lang-d4488e83.js";import"./VForm-e46f5921.js";import"./VWindowItem-04415d19.js";import"./index-2898f57d.js";import"./VTable-de2d1039.js";import"./filter-3bfef89c.js";const Ce={class:"d-flex flex-wrap gap-4 mx-5 my-5 align-center"},we={class:"d-flex align-center flex-wrap gap-4"},De={class:"d-flex gap-4 align-center"},he={class:"text-h6"},Te={href:"javascript:void(0)"},Pe={class:"d-flex align-center justify-space-between flex-wrap gap-3 pa-5 pt-3"},$e={class:"text-sm text-medium-emphasis mb-0"},Ue=s("br",null,null,-1),Ft=de({__name:"terms-conditions copy",async setup(Ae){let p,b;const Q=a(null),$=a(""),k=a(null),U=a(null),A=a(null),R=a(null),y=a(""),g=a(""),V=a(""),_=a(!1),c=a(!1),r=a(50),d=a(1);a(null);const G=a(null);a(null),a(null);const H=a([{title:"Active",value:"active"},{title:"Inactive",value:"inactive"}]),J=a([{title:"Dealer Financing",value:"dealer_financing"},{title:"Vendor Financing",value:"vendor_financing"},{title:"Factoring",value:"factoring"}]),K=i=>{k.value=i,c.value=!0},L=i=>{Q.value=i,_.value=!0},B=i=>i==="active"?{color:"error",icon:"tabler-circle-dot"}:{color:"primary",icon:"tabler-circle-check"},W=i=>i==="active"?{text:"Active",color:"success"}:{text:"Inactive",color:"error"},X=i=>({text:{vendor_financing:"Vendor Financing",dealer_financing:"Dealer Financing",factoring:"Factoring"}[i]||"Unknown"}),Y=[{title:"T&C Name",key:"name"},{title:"Section",key:"section"},{title:"Product Type",key:"product_type"},{title:"Status",key:"status"},{title:"Actions",key:"actions",sortable:!1}],Z=h(()=>({q:$.value,status:U.value,product:A.value,page:d.value,itemsPerPage:r.value,orderBy:G.value})),{data:F,execute:x}=([p,b]=N(()=>me(pe("/UI/configurations/terms-and-conditions",{query:Z}))),p=await p,b(),p),ee=h(()=>F.value.data),C=h(()=>F.value.total);[p,b]=N(()=>x()),await p,b();const te=async i=>{try{await z(`/UI/configurations/delete/terms-and-conditions/${i}`,{method:"POST"}),await x(),c.value=!1}catch(l){console.error(l)}},le=async i=>{await z("/UI/configurations/activate/terms-and-conditions",{method:"POST",body:{ids:i,status:R.value}}),await x()},S=async()=>{$.value=V.value,U.value=y.value,A.value=g.value,await x()},oe=()=>{V.value="",y.value="",g.value="",d.value=1,S()};return x(),(i,l)=>{const ae=se,w=re,D=Ve("IconBtn"),ne=ie;return j(),fe(ge,null,[t(E,{class:"mb-6"},{default:n(()=>[s("div",Ce,[s("div",we,[t(ae,{modelValue:o(V),"onUpdate:modelValue":l[0]||(l[0]=e=>m(V)?V.value=e:null),class:"me-3","clear-icon":"tabler-circle-x",clearable:"",color:"primary",placeholder:"Template Name",style:{"inline-size":"200px"},type:"text"},null,8,["modelValue"]),t(w,{modelValue:o(y),"onUpdate:modelValue":l[1]||(l[1]=e=>m(y)?y.value=e:null),items:o(H),class:"me-3","clear-icon":"tabler-x",clearable:"",placeholder:"Status",style:{"inline-size":"200px"}},null,8,["modelValue","items"]),t(w,{modelValue:o(g),"onUpdate:modelValue":l[2]||(l[2]=e=>m(g)?g.value=e:null),items:o(J),class:"me-3","clear-icon":"tabler-x",clearable:"",placeholder:"Product Type",style:{"inline-size":"200px"}},null,8,["modelValue","items"]),t(f,{color:"primary","prepend-icon":"tabler-search",style:{"text-size-adjust":"auto","text-transform":"none"},onClick:S}),t(f,{color:"primary","prepend-icon":"tabler-refresh",style:{"text-size-adjust":"auto","text-transform":"none"},onClick:oe})]),s("div",De,[t(w,{modelValue:o(r),"onUpdate:modelValue":l[3]||(l[3]=e=>m(r)?r.value=e:null),items:[5,10,20,25,50],style:{"inline-size":"100px"}},null,8,["modelValue"]),t(f,{color:"primary","prepend-icon":"tabler-download",style:{"text-size-adjust":"auto","text-transform":"none"}},{default:n(()=>[v(" Export ")]),_:1}),t(f,{color:"primary","prepend-icon":"tabler-plus",style:{"text-size-adjust":"auto","text-transform":"none"},onClick:l[4]||(l[4]=e=>i.$router.push("/configurations/view/add-terms-conditions"))},{default:n(()=>[v(" Add Terms & Conditions ")]),_:1})])]),t(o(_e),{headers:Y,items:o(ee),"items-per-page":o(r),class:"text-no-wrap"},{"item.name":n(({item:e})=>[s("h6",he,[s("a",Te,T(e.name),1)])]),"item.status":n(({item:e})=>[t(q,M({density:"default",label:""},W(e.status)),null,16)]),"item.product_type":n(({item:e})=>[t(q,M({density:"default",label:""},X(e.product_type)),null,16)]),"item.actions":n(({item:e})=>[t(D,{onClick:u=>L(e)},{default:n(()=>[t(P,{icon:"tabler-pencil",color:"warning"})]),_:2},1032,["onClick"]),t(D,null,{default:n(()=>{var u,I;return[t(P,{icon:(u=B(e.status))==null?void 0:u.icon,color:(I=B(e.status))==null?void 0:I.color,title:e.status,onClick:Be=>le([e.id])},null,8,["icon","color","title","onClick"])]}),_:2},1024),t(D,null,{default:n(()=>[t(P,{icon:"tabler-trash",color:"error",onClick:u=>K(e)},null,8,["onClick"])]),_:2},1024)]),bottom:n(()=>[t(xe),s("div",Pe,[s("p",$e,T(o(ue)({page:o(d),itemsPerPage:o(r)},o(C))),1),t(be,{modelValue:o(d),"onUpdate:modelValue":l[5]||(l[5]=e=>m(d)?d.value=e:null),length:Math.ceil(o(C)/o(r)),"total-visible":i.$vuetify.display.xs?1:Math.min(Math.ceil(o(C)/o(r)),5),"active-color":"primary","next-icon":"tabler-caret-right","prev-icon":"tabler-caret-left"},null,8,["modelValue","length","total-visible"])])]),_:1},8,["items","items-per-page"])]),_:1}),o(_)?(j(),ve(ce,{key:0,isDialogVisible:o(_),"onUpdate:isDialogVisible":l[6]||(l[6]=e=>m(_)?_.value=e:null),email:o(k)},null,8,["isDialogVisible","email"])):ye("",!0),t(ke,{modelValue:o(c),"onUpdate:modelValue":l[10]||(l[10]=e=>m(c)?c.value=e:null),persistent:"",class:"v-dialog-sm"},{default:n(()=>[t(ne,{onClick:l[7]||(l[7]=e=>c.value=!1)}),t(E,null,{default:n(()=>[t(O,null,{default:n(()=>{var e;return[v(" Are you sure you want to delete email template: "+T((e=o(k))==null?void 0:e.name)+"? ",1),Ue,v(" This action cannot be undone. ")]}),_:1}),t(O,{class:"d-flex justify-end gap-3 flex-wrap"},{default:n(()=>[t(f,{color:"secondary",variant:"tonal",onClick:l[8]||(l[8]=e=>c.value=!1)},{default:n(()=>[v(" Cancel ")]),_:1}),t(f,{color:"error",onClick:l[9]||(l[9]=e=>{var u;return te((u=o(k))==null?void 0:u.id)})},{default:n(()=>[v(" Delete ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}});export{Ft as default};
