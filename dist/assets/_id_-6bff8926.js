import{r as K,e as Me}from"./validators-db74a876.js";import{d as W,r as l,k as Z,l as ye,b6 as ae,R as le,o as g,c as R,b as e,f as t,x as I,p as a,aI as S,a$ as me,a4 as F,F as X,h as z,e as s,aM as ue,b7 as Re,bf as xe,w as Te,y as L,z as Fe,A as Q,aR as Ye,aS as ze,I as Ce,t as De,a9 as se,a as ke,j as Se}from"./index-75b434bc.js";import{_ as _e}from"./AppSelect.vue_vue_type_script_setup_true_lang-32a0f469.js";import{_ as ie}from"./AppTextField.vue_vue_type_script_setup_true_lang-93dc1e26.js";import{u as J}from"./useApi-776c55ea.js";import{c as te}from"./createUrl-149317bf.js";import{$ as oe}from"./api-0c1dfdf3.js";import{V as Ue}from"./VSnackbar-f21966b4.js";import{V as ne}from"./VCardText-76f31582.js";import{V as pe}from"./VForm-e46f5921.js";import{V as N}from"./VRow-d6f20668.js";import{V as o}from"./VCol-35b3d337.js";import{V as j,a as de,b as Pe}from"./VCard-95c0d706.js";import{_ as Ie}from"./DialogCloseBtn.vue_vue_type_script_setup_true_lang-035125fd.js";import{V as Ae}from"./VDialog-bc06d443.js";import{V as $e}from"./VDivider-fc890531.js";import{V as Oe,a as ge,b as Ve}from"./VList-c7d4c8b4.js";import{_ as je}from"./_plugin-vue_export-helper-c27b6911.js";import{V as be}from"./VFileInput-0c012a84.js";import{p as Le}from"./paginationMeta-4ad053a4.js";import{i as we}from"./index-4532b75c.js";import{V as He}from"./VDataTable-c3cccdda.js";import{V as qe}from"./VChip-e2ddd660.js";import{V as We}from"./VPagination-2b54b87a.js";import{_ as Qe}from"./AppAutocomplete.vue_vue_type_script_setup_true_lang-bc372057.js";import{V as Ne}from"./VDataTableServer-e9f6b4ac.js";import{_ as Je}from"./TiptapEditor.vue_vue_type_style_index_0_lang-e76d5625.js";import{_ as Ee}from"./AppDateTimePicker.vue_vue_type_style_index_0_lang-544577ba.js";import{V as Ge,a as Ke}from"./VTabs-bb433ccf.js";import{V as Xe,a as re}from"./VWindowItem-04415d19.js";import"./helpers-681711bc.js";import"./form-2b416184.js";import"./VSelect-54e8b29a.js";import"./VTextField-05e93cc8.js";/* empty css                   */import"./VCounter-3e4b236e.js";import"./transition-6afda34e.js";import"./VField-82993695.js";import"./easing-9f15041e.js";import"./VInput-b46333d7.js";import"./forwardRefs-8348545e.js";import"./index-97808f23.js";import"./dialog-transition-14fdab67.js";import"./VMenu-3f143933.js";import"./VOverlay-0b79a00d.js";import"./lazy-0bb5e457.js";import"./scopeId-ee2feb8e.js";import"./VCheckboxBtn-0f22f589.js";import"./VSelectionControl-e1264669.js";import"./index-2898f57d.js";import"./createSimpleFunctional-4b3a0a39.js";/* empty css              */import"./VAvatar-071125b9.js";import"./VImg-ba4b392a.js";import"./ssrBoot-7f224ca6.js";import"./VTable-de2d1039.js";import"./filter-3bfef89c.js";import"./index-78b172a6.js";import"./VSlideGroup-3e745b05.js";const Ze=s("label",{class:"v-label text-body-2 text-high-emphasis",for:"firstNameHorizontalIcons"},"First Name",-1),et=s("label",{class:"v-label text-body-2 text-high-emphasis",for:"emailHorizontalIcons"},"Email",-1),tt=s("label",{class:"v-label text-body-2 text-high-emphasis",for:"mobileHorizontalIcons"},"Mobile",-1),at=s("label",{class:"v-label text-body-2 text-high-emphasis",for:"firstNameHorizontalIcons"},"Role",-1),lt=W({__name:"BankAddNewUser",async setup(Y){let y,i;const _=l(""),d=l(""),x=l(),b=l(),h=Z(),k=ye(),v=l(!1),$=l(!1),U=l(!1),C=l({message:void 0,statusCode:void 0}),{data:M}=([y,i]=ae(()=>J(te("/get/UI/user/roles",{query:{module:"Bank"}}))),y=await y,i(),y),c=le(()=>M.value),m=async()=>{v.value=!0;try{const u=await oe("/add/user/bank",{method:"POST",body:{name:_.value,email:d.value,role:b.value,mobile:x.value,bank_id:h.params.id},onResponseError({response:r}){C.value=r._data.errors,U.value=!0}});$.value=!0;const{message:n}=u;await ue(()=>{k.push(`/bank/view/${h.params.id}`),k.go(0)})}catch(u){console.error(u),U.value=!0}finally{v.value=!1}};return(u,n)=>{const r=ie,p=_e;return g(),R(X,null,[e(Ue,{modelValue:a($),"onUpdate:modelValue":n[0]||(n[0]=f=>S($)?$.value=f:null),color:"success",location:"top end",variant:"flat"},{default:t(()=>[I(" New User Added Successfully ")]),_:1},8,["modelValue"]),e(Ue,{modelValue:a(U),"onUpdate:modelValue":n[1]||(n[1]=f=>S(U)?U.value=f:null),color:"error",location:"top end",variant:"flat"},{default:t(()=>[I(" Error Adding Contact. Please try again. ")]),_:1},8,["modelValue"]),e(j,{title:"Add New User"},{default:t(()=>[e(ne,null,{default:t(()=>[e(pe,{onSubmit:me(()=>{},["prevent"])},{default:t(()=>[e(N,null,{default:t(()=>[e(o,{cols:"12"},{default:t(()=>[e(N,{"no-gutters":""},{default:t(()=>[e(o,{class:"d-flex align-items-center",cols:"12",md:"3"},{default:t(()=>[Ze]),_:1}),e(o,{cols:"12",md:"9"},{default:t(()=>[e(r,{id:"firstNameHorizontalIcons",modelValue:a(_),"onUpdate:modelValue":n[2]||(n[2]=f=>S(_)?_.value=f:null),rules:["requiredValidator"in u?u.requiredValidator:a(K)],"persistent-placeholder":"",placeholder:"John","prepend-inner-icon":"tabler-user"},null,8,["modelValue","rules"])]),_:1})]),_:1})]),_:1}),e(o,{cols:"12"},{default:t(()=>[e(N,{"no-gutters":""},{default:t(()=>[e(o,{class:"d-flex align-items-center",cols:"12",md:"3"},{default:t(()=>[et]),_:1}),e(o,{cols:"12",md:"9"},{default:t(()=>[e(r,{id:"emailHorizontalIcons",modelValue:a(d),"onUpdate:modelValue":n[3]||(n[3]=f=>S(d)?d.value=f:null),rules:["requiredValidator"in u?u.requiredValidator:a(K),"emailValidator"in u?u.emailValidator:a(Me)],"persistent-placeholder":"",placeholder:"johndoe@email.com","prepend-inner-icon":"tabler-mail"},null,8,["modelValue","rules"])]),_:1})]),_:1})]),_:1}),e(o,{cols:"12"},{default:t(()=>[e(N,{"no-gutters":""},{default:t(()=>[e(o,{class:"d-flex align-items-center",cols:"12",md:"3"},{default:t(()=>[tt]),_:1}),e(o,{cols:"12",md:"9"},{default:t(()=>[e(r,{id:"mobileHorizontalIcons",modelValue:a(x),"onUpdate:modelValue":n[4]||(n[4]=f=>S(x)?x.value=f:null),rules:["requiredValidator"in u?u.requiredValidator:a(K)],"persistent-placeholder":"",placeholder:"+1 123 456 7890","prepend-inner-icon":"tabler-device-mobile",type:"number"},null,8,["modelValue","rules"])]),_:1})]),_:1})]),_:1}),e(o,{cols:"12"},{default:t(()=>[e(N,{"no-gutters":""},{default:t(()=>[e(o,{class:"d-flex align-items-center",cols:"12",md:"3"},{default:t(()=>[at]),_:1}),e(o,{cols:"12",md:"9"},{default:t(()=>[e(p,{modelValue:a(b),"onUpdate:modelValue":n[5]||(n[5]=f=>S(b)?b.value=f:null),items:a(c),rules:["requiredValidator"in u?u.requiredValidator:a(K)],label:"Item",name:"select",placeholder:"Select an Item","prepend-inner-icon":"tabler-air-balloon",require:""},null,8,["modelValue","items","rules"])]),_:1})]),_:1})]),_:1}),e(o,{class:"d-flex gap-4",cols:"12",md:"9","offset-md":"3"},{default:t(()=>[e(F,{type:"submit",loading:a(v),onClick:m,disabled:a(v)},{default:t(()=>[a(v)?(g(),z(Re,{key:1,indeterminate:"",size:"20",color:"white"})):(g(),R(X,{key:0},[I(" Submit ")],64))]),_:1},8,["loading","disabled"]),e(F,{color:"secondary",type:"reset",variant:"tonal",disabled:a(v)},{default:t(()=>[I(" Reset ")]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})],64)}}}),ot=s("p",{class:"mb-0"}," Updating user details will receive a privacy audit. ",-1),st=W({__name:"EditBank",props:{userData:{default:()=>({id:0,bank:"",url:"",contactPerson:"",email:""})},isDialogVisible:{type:Boolean}},emits:["submit","update:isDialogVisible"],setup(Y,{emit:y}){const i=Y,_=y,d=l(structuredClone(xe(i.userData)));Te(i,()=>{d.value=structuredClone(xe(i.userData))});const x=()=>{_("update:isDialogVisible",!1),_("submit",d.value)},b=()=>{d.value=structuredClone(xe(i.userData)),_("update:isDialogVisible",!1)},h=k=>{_("update:isDialogVisible",k)};return(k,v)=>{const $=Ie,U=ie;return g(),z(Ae,{"model-value":i.isDialogVisible,width:k.$vuetify.display.smAndDown?"auto":677,"onUpdate:modelValue":h},{default:t(()=>[e($,{onClick:v[0]||(v[0]=C=>h(!1))}),e(j,{class:"pa-sm-8 pa-5"},{default:t(()=>[e(de,{class:"text-center"},{default:t(()=>[e(Pe,{class:"text-h3 mb-3"},{default:t(()=>[I(" Edit User Information ")]),_:1}),ot]),_:1}),e(ne,null,{default:t(()=>[e(pe,{class:"mt-6",onSubmit:me(x,["prevent"])},{default:t(()=>[e(N,null,{default:t(()=>[e(o,{cols:"12",md:"6"},{default:t(()=>[e(U,{modelValue:a(d).bank,"onUpdate:modelValue":v[1]||(v[1]=C=>a(d).bank=C),label:"Full Name",placeholder:"John Doe"},null,8,["modelValue"])]),_:1}),e(o,{cols:"12",md:"6"},{default:t(()=>[e(U,{modelValue:a(d).email,"onUpdate:modelValue":v[2]||(v[2]=C=>a(d).email=C),label:"Billing Email",placeholder:"johndoe@email.com"},null,8,["modelValue"])]),_:1}),e(o,{cols:"12",md:"6"},{default:t(()=>[e(U,{modelValue:a(d).url,"onUpdate:modelValue":v[3]||(v[3]=C=>a(d).url=C),label:"Status",placeholder:"Active"},null,8,["modelValue"])]),_:1}),e(o,{cols:"12",md:"6"},{default:t(()=>[e(U,{modelValue:a(d).contactPerson,"onUpdate:modelValue":v[4]||(v[4]=C=>a(d).contactPerson=C),label:"Status",placeholder:"Active"},null,8,["modelValue"])]),_:1}),e(o,{class:"d-flex flex-wrap justify-center gap-4",cols:"12"},{default:t(()=>[e(F,{type:"submit"},{default:t(()=>[I(" Submit ")]),_:1}),e(F,{color:"secondary",variant:"tonal",onClick:b},{default:t(()=>[I(" Cancel ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value","width"])}}}),nt=Y=>(Ye("data-v-24cb8f66"),Y=Y(),ze(),Y),rt={class:"text-h4 mt-4"},dt=nt(()=>s("p",{class:"text-sm text-uppercase text-disabled"}," Details ",-1)),ut={class:"text-h6"},it={class:"text-body-1"},ct={class:"text-h6"},mt={class:"text-body-1"},pt={class:"text-h6"},_t={class:"text-body-1"},ft={class:"text-h6"},vt={class:"text-body-1"},gt={class:"text-h6"},bt={class:"text-body-1"},yt=W({__name:"BankBioPanel",props:{userData:{}},setup(Y){const y=Y,i=l(!1);return(_,d)=>(g(),R(X,null,[e(N,null,{default:t(()=>[e(o,{cols:"12"},{default:t(()=>[y.userData?(g(),z(j,{key:0},{default:t(()=>[e(ne,{class:"text-center pt-15"},{default:t(()=>[s("h6",rt,L(y.userData.bank),1)]),_:1}),e($e),e(ne,null,{default:t(()=>[dt,e(Oe,{class:"card-list mt-2"},{default:t(()=>[e(ge,null,{default:t(()=>[e(Ve,null,{default:t(()=>[s("h6",ut,[I(" Username: "),s("span",it,L(y.userData.bank),1)])]),_:1})]),_:1}),e(ge,null,{default:t(()=>[e(Ve,null,{default:t(()=>[s("h6",ct,[I(" Email: "),s("span",mt,L(y.userData.email),1)])]),_:1})]),_:1}),e(ge,null,{default:t(()=>[e(Ve,null,{default:t(()=>[s("h6",pt,[I(" Status: "),s("span",_t,L(y.userData.status),1)])]),_:1})]),_:1}),e(ge,null,{default:t(()=>[e(Ve,null,{default:t(()=>[s("h6",ft,[I(" URL: "),s("span",vt,L(y.userData.url),1)])]),_:1})]),_:1}),e(ge,null,{default:t(()=>[e(Ve,null,{default:t(()=>[s("h6",gt,[I(" Status: "),s("div",{class:Fe([{"overlay-success":y.userData.status==="active","overlay-warning":y.userData.status!=="active"},"status-overlay"])},[s("span",bt,L(y.userData.status==="active"?"Active":"Inactive"),1)],2)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):Q("",!0)]),_:1})]),_:1}),e(st,{isDialogVisible:a(i),"onUpdate:isDialogVisible":d[0]||(d[0]=x=>S(i)?i.value=x:null),"user-data":y.userData},null,8,["isDialogVisible","user-data"])],64))}});const ht=je(yt,[["__scopeId","data-v-24cb8f66"]]),Vt=s("p",null,"Logo",-1),xt=["src"],kt=["src"],Ut=s("p",null,"Favicon",-1),Ct=W({__name:"BankLogoConfig",emits:["update:selectedCurrencyIds","update:selectedRateIds","update:selectedTaxIds","update:offdays","update:languages","update:date_format","update:help_contact_number","update:help_contact_email"],async setup(Y,{emit:y}){let i,_;ye();const d=Z();l([]),l([]);const x=l([]),b=l(""),h=l(),k=l(150),v=l(1),$=l(),U=l(),{data:C,execute:M}=([i,_]=ae(()=>J(te(`get/UI/configurations/bank-configurations/${d.params.id}`,{query:{q:b,status:h,page:v,itemsPerPage:k,sortBy:$,orderBy:U}}))),i=await i,_(),i),c=C.value;x.value=c.value;const m=l({logo:"",favicon:"",primary_color:c.primary_color||"",secondary_color:c.secondary_color||""});Ce(()=>{M()});const u=async()=>{const n=new FormData;n.append("bank_id",d.params.id),m.value.logo&&n.append("logo",m.value.logo[0]),m.value.favicon&&n.append("favicon",m.value.favicon[0]),n.append("primary_color",m.value.primary_color),n.append("secondary_color",m.value.secondary_color);try{const r=await oe("edit/UI/configurations/bank-appearance-configurations",{method:"POST",body:n,onResponseError({response:f}){errors.value=f._data.errors}}),{message:p}=r;await ue(()=>{}),isNewContactAdded.value=!0}catch(r){console.error(r)}};return(n,r)=>{const p=ie;return g(),z(j,null,{default:t(()=>[e(de,null,{default:t(()=>[e(N,null,{default:t(()=>[e(o,{cols:"12",md:"3"},{default:t(()=>[e(p,{modelValue:m.value.primary_color,"onUpdate:modelValue":r[0]||(r[0]=f=>m.value.primary_color=f),type:"color",label:"Theme Primary Color",placeholder:"Select Primary Color"},null,8,["modelValue"])]),_:1}),e(o,{cols:"12",md:"3"},{default:t(()=>[e(p,{modelValue:m.value.secondary_color,"onUpdate:modelValue":r[1]||(r[1]=f=>m.value.secondary_color=f),type:"color",label:"Theme Secondary Color",placeholder:"Select Secondary Color"},null,8,["modelValue"])]),_:1}),e(o,{cols:"12",md:"12"},{default:t(()=>[Vt,e(o,{cols:"12",md:"2"},{default:t(()=>[a(c).logo?(g(),z(j,{key:0},{default:t(()=>[e(de,null,{default:t(()=>[s("img",{src:a(c).logo,alt:"Logo",width:"150"},null,8,xt)]),_:1})]),_:1})):Q("",!0)]),_:1}),e(be,{modelValue:m.value.logo,"onUpdate:modelValue":r[2]||(r[2]=f=>m.value.logo=f),label:"Upload logo..."},null,8,["modelValue"])]),_:1}),e(o,{cols:"12",md:"12"},{default:t(()=>[e(o,{cols:"12",md:"1"},{default:t(()=>[a(c).favicon?(g(),z(j,{key:0},{default:t(()=>[e(de,null,{default:t(()=>[s("img",{src:a(c).favicon,alt:"Favicon",width:"70"},null,8,kt)]),_:1})]),_:1})):Q("",!0)]),_:1}),Ut,e(be,{modelValue:m.value.favicon,"onUpdate:modelValue":r[3]||(r[3]=f=>m.value.favicon=f),label:"Upload favicon..."},null,8,["modelValue"])]),_:1}),e(o,{cols:"12",class:"d-flex gap-4"},{default:t(()=>[e(F,{type:"submit",onClick:u},{default:t(()=>[I(" Submit ")]),_:1}),e(F,{type:"reset",color:"secondary",variant:"tonal"},{default:t(()=>[I(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}}),wt=s("label",{class:"v-label text-body-2 text-high-emphasis"},"Name",-1),Dt=s("label",{class:"v-label text-body-2 text-high-emphasis"},"Email",-1),$t=s("label",{class:"v-label text-body-2 text-high-emphasis"},"Mobile",-1),St=s("label",{class:"v-label text-body-2 text-high-emphasis"},"Role",-1),It=W({__name:"BankMapNewUser",async setup(Y){let y,i;const _=l(""),d=l(""),x=l(),b=l(),h=Z(),k=ye(),v=l({message:void 0,statusCode:void 0}),{data:$}=([y,i]=ae(()=>J(te("/get/UI/user/roles",{query:{module:"Bank"}}))),y=await y,i(),y),U=async()=>{const{data:r,error:p}=await J(te("/get/user/data/for/mapping",{query:{name:_.value}}));if(p.value)return p.value;d.value=r.value.email,x.value=r.value.phone_number},C=l(!1),M=le(()=>$.value),{data:c}=([y,i]=ae(()=>J(te(`/get/users/for/mapping/${h.params.id}`))),y=await y,i(),y),m=le(()=>c.value),u=l(!1),n=async()=>{u.value=!0;try{const r=await oe("/post/mapped/bank/user",{method:"POST",body:{name:_.value,email:d.value,role:b.value,mobile:x.value,bank_id:h.params.id},onResponseError({response:f}){v.value=f._data.errors}});C.value=!0,console.log(r);const{message:p}=r;setInterval(()=>{k.push(`/bank/view/${h.params.id}`),k.go(0)},3e3),console.log(p),C.value=!0}catch(r){console.error(r)}finally{u.value=!1}};return Te(_,()=>{U()}),(r,p)=>{const f=_e,w=ie;return g(),R(X,null,[e(Ue,{modelValue:a(C),"onUpdate:modelValue":p[0]||(p[0]=V=>S(C)?C.value=V:null),color:"success",location:"top end",variant:"flat"},{default:t(()=>[I(" New Mapped Successfully ")]),_:1},8,["modelValue"]),e(j,{title:"Add New User"},{default:t(()=>[e(ne,null,{default:t(()=>[e(pe,{onSubmit:me(()=>{},["prevent"])},{default:t(()=>[e(N,null,{default:t(()=>[e(o,{cols:"12"},{default:t(()=>[e(N,{"no-gutters":""},{default:t(()=>[e(o,{class:"d-flex align-items-center",cols:"12",md:"3"},{default:t(()=>[wt]),_:1}),e(o,{cols:"12",md:"9"},{default:t(()=>[e(f,{modelValue:a(_),"onUpdate:modelValue":p[1]||(p[1]=V=>S(_)?_.value=V:null),items:a(m),rules:["requiredValidator"in r?r.requiredValidator:a(K)],label:"Item",name:"selectUser",placeholder:"Select an Item","prepend-inner-icon":"tabler-a-b-2"},null,8,["modelValue","items","rules"])]),_:1})]),_:1})]),_:1}),e(o,{cols:"12"},{default:t(()=>[e(N,{"no-gutters":""},{default:t(()=>[e(o,{class:"d-flex align-items-center",cols:"12",md:"3"},{default:t(()=>[Dt]),_:1}),e(o,{cols:"12",md:"9"},{default:t(()=>[e(w,{modelValue:a(d),"onUpdate:modelValue":p[2]||(p[2]=V=>S(d)?d.value=V:null),readonly:"",placeholder:"johndoe@email.com","prepend-inner-icon":"tabler-mail"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(o,{cols:"12"},{default:t(()=>[e(N,{"no-gutters":""},{default:t(()=>[e(o,{class:"d-flex align-items-center",cols:"12",md:"3"},{default:t(()=>[$t]),_:1}),e(o,{cols:"12",md:"9"},{default:t(()=>[e(w,{modelValue:a(x),"onUpdate:modelValue":p[3]||(p[3]=V=>S(x)?x.value=V:null),readonly:"",placeholder:"+1 123 456 7890","prepend-inner-icon":"tabler-device-mobile"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(o,{cols:"12"},{default:t(()=>[e(N,{"no-gutters":""},{default:t(()=>[e(o,{class:"d-flex align-items-center",cols:"12",md:"3"},{default:t(()=>[St]),_:1}),e(o,{cols:"12",md:"9"},{default:t(()=>[e(f,{modelValue:a(b),"onUpdate:modelValue":p[4]||(p[4]=V=>S(b)?b.value=V:null),items:a(M),rules:["requiredValidator"in r?r.requiredValidator:a(K)],label:"Item",name:"select",placeholder:"Select an Item","prepend-inner-icon":"tabler-air-balloon"},null,8,["modelValue","items","rules"])]),_:1})]),_:1})]),_:1}),e(o,{class:"d-flex gap-4",cols:"12",md:"9","offset-md":"3"},{default:t(()=>[e(F,{disabled:a(u),onClick:n},{default:t(()=>[a(u)?(g(),z(Re,{key:0,indeterminate:"",size:"20"})):(g(),R(X,{key:1},[I(" Submit ")],64))]),_:1},8,["disabled"]),e(F,{color:"secondary",type:"reset",variant:"tonal"},{default:t(()=>[I(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})],64)}}}),At={class:"d-flex"},Bt=s("div",{class:"flex-grow-1"},null,-1),Rt={class:"d-flex"},Tt={class:"font-weight-medium mb-0 text-no-wrap"},Pt={class:"text-xs text-medium-emphasis mb-0"},qt={class:"d-flex align-center justify-sm-space-between justify-center flex-wrap gap-3 pa-5 pt-3"},Nt={class:"text-sm text-disabled mb-0"},Et=W({__name:"BankTabAccount",setup(Y){const y=Z(),i=l(50),_=l(1),d=l(""),x=l(""),b=l(""),h=y.params.id;l(!1);const k=n=>{var r,p;_.value=n.page,d.value=((r=n.sortBy[0])==null?void 0:r.key)||"",x.value=((p=n.sortBy[0])==null?void 0:p.order)||""},v=l({itemsPerPage:5,page:1}),$=[{title:"ID",key:"id"},{title:"NAME",key:"name"},{title:"EMAIL",key:"email"},{title:"PHONE NUMBER",key:"phone_number"},{title:"CREATED AT",key:"created_at"},{title:"STATUS",key:"status",sortable:!1},{title:"ACTIONS",key:"actions",sortable:!1}],{data:U,execute:C}=J(`/get/bank/users/${h}`,{query:{q:b,page:_,itemsPerPage:i,sortBy:d,orderBy:x}}),M=le(()=>{var n;return((n=U.value)==null?void 0:n.data)||[]}),c=le(()=>{var n;return((n=U.value)==null?void 0:n.total)||0});Ce(()=>C());const m=async n=>{var r,p;try{const f=await oe("/add/user/activate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:n})});f.message==="User activated successfully"?(we.success(f.message,{position:"top-right",autoClose:3e3}),await C()):f.status===403?we.warn(f.message||"You cannot deactivate this user",{position:"top-right",autoClose:3e3}):we.error(f.message||"Something went wrong",{position:"top-right",autoClose:3e3})}catch(f){const w=((p=(r=f.response)==null?void 0:r.data)==null?void 0:p.message)||"Error deactivating the user";we.error(w,{position:"top-right",autoClose:3e3})}},u=n=>n==="Active"?{text:"Active",color:"success"}:n==="Waiting Approval"?{text:"Pending Checker",color:"info"}:{text:"Inactive",color:"error"};return(n,r)=>{const p=_e,f=ke("IconBtn");return g(),z(N,null,{default:t(()=>[e(o,{cols:"12"},{default:t(()=>[e(j,{title:"Bank Users"},{default:t(()=>[e(ne,null,{default:t(()=>[s("div",At,[e(p,{modelValue:v.value.itemsPerPage,"onUpdate:modelValue":r[0]||(r[0]=w=>v.value.itemsPerPage=w),items:[{value:5,title:"5"},{value:10,title:"10"},{value:50,title:"50"},{value:100,title:"100"}],style:{"inline-size":"6.25rem"}},null,8,["modelValue"]),Bt])]),_:1}),e($e),e(a(He),{"items-per-page":i.value,"onUpdate:itemsPerPage":r[2]||(r[2]=w=>i.value=w),page:_.value,"onUpdate:page":r[3]||(r[3]=w=>_.value=w),headers:$,items:M.value,"items-length":c.value,class:"text-no-wrap","onUpdate:options":k},{"item.status":t(({item:w})=>[e(qe,De({density:"default",label:""},u(w.status)),null,16)]),"item.name":t(({item:w})=>[s("div",Rt,[s("div",null,[s("div",Tt,L(w.name),1),s("p",Pt,L(w.email),1)])])]),"item.actions":t(({item:w})=>[w.status==="Waiting Approval"&&w.checker_status?(g(),z(f,{key:0,onClick:V=>m(w.id)},{default:t(()=>[e(se,{icon:"tabler-circle-check",color:"primary"})]),_:2},1032,["onClick"])):Q("",!0)]),bottom:t(()=>[e($e),s("div",qt,[s("p",Nt,L(a(Le)({page:_.value,itemsPerPage:i.value},c.value)),1),e(We,{modelValue:_.value,"onUpdate:modelValue":r[1]||(r[1]=w=>_.value=w),length:Math.ceil(c.value/i.value),"total-visible":n.$vuetify.display.xs?1:5},null,8,["modelValue","length","total-visible"])])]),_:1},8,["items-per-page","page","items","items-length"])]),_:1})]),_:1})]),_:1})}}}),Mt=W({__name:"BankTabConfig",emits:["update:selectedCurrencyIds","update:selectedRateIds","update:selectedTaxIds","update:offdays","update:languages","update:date_format","update:help_contact_number","update:help_contact_email"],async setup(Y,{emit:y}){let i,_;ye();const d=Z(),x=l([]);l([]);const b=l([]),h=l(""),k=l(),v=l(150),$=l(1),U=l(),C=l(),M=["Saturday","Sunday","Friday - Saturday","Saturday - Sunday","2nd and 4th Saturday and all Sundays"],c=["DD/MM/YYYY (Ex. 12/02/2020)","MM/DD/YYYY (Ex. 02/12/2020)","DD-MM-YYYY (Ex. 12-02-2020)","MM-DD-YYYY (Ex. 02-12-2020)","DD-MMM-YYYY (Ex. 12-Feb-2020)","DD MMM YYYY (Ex. 02 Feb 2020)"],{data:m,execute:u}=([i,_]=ae(()=>J(te("/UI/configurations/currencies",{query:{q:h,status:k,page:$,itemsPerPage:v,sortBy:U,orderBy:C}}))),i=await i,_(),i),{data:n,execute:r}=([i,_]=ae(()=>J(te(`get/UI/configurations/bank-configurations/${d.params.id}`,{query:{q:h,status:k,page:$,itemsPerPage:v,sortBy:U,orderBy:C}}))),i=await i,_(),i),p=[{code:"EN",name:"English"},{code:"SW",name:"Swahili"},{code:"FR",name:"French"}],f=n.value,w=le(()=>m.value.data);x.value=w.value,b.value=f.value;const V=l({page_title:f.page_title||"",selectedCurrencyIds:f.selectedCurrencyIds||l([]),defaultCurrencyId:"",offdays:f.offdays||"",languages:f.languages||l([]),date_format:f.date_format||l(""),help_contact_number:f.help_contact_number||"",help_contact_email:f.help_contact_email||""});Ce(()=>{u(),r()});const fe=le(()=>!V.value.selectedCurrencyIds.length||!x.value.length?[]:x.value.filter(O=>V.value.selectedCurrencyIds.includes(O.id))),he=async()=>{const O=new FormData;O.append("bank_id",d.params.id),O.append("page_title",V.value.page_title),O.append("selectedCurrencyIds",V.value.selectedCurrencyIds),O.append("defaultCurrencyId",V.value.defaultCurrencyId),O.append("offdays",V.value.offdays),O.append("languages",V.value.languages),O.append("date_format",V.value.date_format),O.append("help_contact_number",V.value.help_contact_number),O.append("help_contact_email",V.value.help_contact_email);try{const D=await oe("edit/UI/configurations/bank-configurations",{method:"POST",body:O,onResponseError({response:q}){errors.value=q._data.errors}}),{message:E}=D;await ue(()=>{}),console.log(E),isNewContactAdded.value=!0}catch(D){console.error(D)}};return(O,D)=>{const E=ie,q=Qe,P=_e;return g(),z(N,null,{default:t(()=>[s("div",null,[e(j,null,{default:t(()=>[e(ne,null,{default:t(()=>[e(N,null,{default:t(()=>[e(o,{cols:"12",md:"6"},{default:t(()=>[e(E,{modelValue:V.value.page_title,"onUpdate:modelValue":D[0]||(D[0]=B=>V.value.page_title=B),label:"Page Title"},null,8,["modelValue"])]),_:1}),e(o,{cols:"12",md:"6"},{default:t(()=>[e(q,{modelValue:V.value.selectedCurrencyIds,"onUpdate:modelValue":D[1]||(D[1]=B=>V.value.selectedCurrencyIds=B),chips:"","closable-chips":"",multiple:"",items:x.value,"item-title":"name","item-value":"id",placeholder:"Search Default Currency",label:"Select Currency"},{chip:t(({props:B,item:G})=>[e(qe,De(B,{text:G.raw.name}),null,16,["text"])]),item:t(({props:B,item:G})=>{var A;return[e(ge,De(B,{title:(A=G==null?void 0:G.raw)==null?void 0:A.name}),null,16,["title"])]}),_:1},8,["modelValue","items"])]),_:1}),V.value.selectedCurrencyIds.length?(g(),z(o,{key:0,cols:"12",md:"6"},{default:t(()=>[e(q,{modelValue:V.value.defaultCurrencyId,"onUpdate:modelValue":D[2]||(D[2]=B=>V.value.defaultCurrencyId=B),chips:"","closable-chips":"",items:a(fe),"item-title":"name","item-value":"id",placeholder:"Default Currency",label:"Default Currency"},null,8,["modelValue","items"])]),_:1})):Q("",!0),e(o,{cols:"12",md:"6"},{default:t(()=>[e(P,{modelValue:V.value.offdays,"onUpdate:modelValue":D[3]||(D[3]=B=>V.value.offdays=B),items:M,placeholder:"Select Week Off",label:"Weekly Off",chips:"","closable-chips":""},null,8,["modelValue"])]),_:1}),e(o,{cols:"12",md:"6"},{default:t(()=>[e(q,{modelValue:V.value.languages,"onUpdate:modelValue":D[4]||(D[4]=B=>V.value.languages=B),chips:"","closable-chips":"",multiple:"",items:p,"item-title":"name","item-value":"id",placeholder:"Languages",label:"Languages"},null,8,["modelValue"])]),_:1}),e(o,{cols:"12",md:"6"},{default:t(()=>[e(P,{modelValue:V.value.date_format,"onUpdate:modelValue":D[5]||(D[5]=B=>V.value.date_format=B),items:c,placeholder:"Date Format",label:"Select Date Format",chips:"","closable-chips":""},null,8,["modelValue"])]),_:1}),e(o,{cols:"12",md:"6"},{default:t(()=>[e(E,{modelValue:V.value.help_contact_number,"onUpdate:modelValue":D[6]||(D[6]=B=>V.value.help_contact_number=B),label:"Help Page Contact Number"},null,8,["modelValue"])]),_:1}),e(o,{cols:"12",md:"6"},{default:t(()=>[e(E,{modelValue:V.value.help_contact_email,"onUpdate:modelValue":D[7]||(D[7]=B=>V.value.help_contact_email=B),label:"Help Page Contact Email"},null,8,["modelValue"])]),_:1}),e(o,{cols:"12",class:"d-flex gap-4"},{default:t(()=>[e(F,{type:"submit",onClick:he},{default:t(()=>[I(" Submit ")]),_:1}),e(F,{type:"reset",color:"secondary",variant:"tonal"},{default:t(()=>[I(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])]),_:1})}}}),Ft={class:"text-h3 text-left mb-5"},Yt=W({__name:"EditTaxesDialog",props:{isDialogVisible:{type:Boolean},bank_id:{},tax:{}},emits:["update:isDialogVisible","update:tax"],setup(Y,{emit:y}){const i=Y,_=y,d=c=>{_("update:isDialogVisible",c)},x=l({message:void 0,statusCode:void 0}),b=l(!1),h=l(structuredClone(xe(i.tax))),k=l(h.value.tax_name),v=l(h.value.value),$=l(h.value.account_no),U=l(h.value.status);Z(),ye();const C=async()=>{try{const c=await oe("edit/UI/configurations/bank-tax-rates-configurations",{method:"POST",body:{tax_id:h.value.id,bank_id:h.value.bank_id,name:k.value,percentage:v.value,account_no:$.value,status:U.value},onResponseError({response:u}){x.value=u._data.errors}});b.value=!0,console.log(c),await ue(()=>{_("refresh",!0)});const{message:m}=c}catch(c){console.error(c)}},M=l([{title:"Active",value:"active"},{title:"In active",value:"inactive"}]);return(c,m)=>{const u=Ie,n=ie,r=_e;return g(),R(X,null,[e(Ue,{modelValue:a(b),"onUpdate:modelValue":m[0]||(m[0]=p=>S(b)?b.value=p:null),color:"success",location:"top end",variant:"flat"},{default:t(()=>[I(" Rates Updated Successfully ")]),_:1},8,["modelValue"]),e(Ae,{"model-value":i.isDialogVisible,"max-width":"900","onUpdate:modelValue":d},{default:t(()=>[e(u,{onClick:m[1]||(m[1]=p=>_("update:isDialogVisible",!1))}),e(j,{class:"refer-and-earn-dialog"},{default:t(()=>[e(ne,{class:"pa-5 pa-sm-16"},{default:t(()=>[s("h3",Ft," Update Rate: "+L(i.tax.name),1),e(pe,{onSubmit:me(()=>{},["prevent"])},{default:t(()=>[e(N,null,{default:t(()=>[e(o,{cols:"12",md:"12"},{default:t(()=>[e(n,{modelValue:a(k),"onUpdate:modelValue":m[2]||(m[2]=p=>S(k)?k.value=p:null),rules:["requiredValidator"in c?c.requiredValidator:a(K)],label:"Tax Name",placeholder:"Tax Name"},null,8,["modelValue","rules"])]),_:1}),e(o,{cols:"12",md:"12"},{default:t(()=>[e(n,{modelValue:a(v),"onUpdate:modelValue":m[3]||(m[3]=p=>S(v)?v.value=p:null),rules:["requiredValidator"in c?c.requiredValidator:a(K)],type:"number",label:"Percentage",placeholder:"%"},null,8,["modelValue","rules"])]),_:1}),e(o,{cols:"12",md:"12"},{default:t(()=>[e(n,{modelValue:a($),"onUpdate:modelValue":m[4]||(m[4]=p=>S($)?$.value=p:null),rules:["requiredValidator"in c?c.requiredValidator:a(K)],type:"number",label:"Account No",placeholder:"%"},null,8,["modelValue","rules"])]),_:1}),e(o,{cols:"12",md:"12"},{default:t(()=>[e(r,{modelValue:a(U),"onUpdate:modelValue":m[5]||(m[5]=p=>S(U)?U.value=p:null),items:a(M),class:"me-1","clear-icon":"tabler-x",clearable:"",placeholder:"Status",style:{"inline-size":"200px"}},null,8,["modelValue","items"])]),_:1}),e(o,{class:"d-flex gap-4",cols:"12",md:"9"},{default:t(()=>[e(F,{type:"submit",onClick:C},{default:t(()=>[I(" Submit ")]),_:1}),e(F,{color:"secondary",type:"reset",variant:"tonal"},{default:t(()=>[I(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"])],64)}}});const zt={class:"d-flex flex-wrap gap-4 mx-5 my-5"},Ot={class:"d-flex align-center"},jt=s("h4",{class:"text-h4"}," Taxes ",-1),Lt={class:"config-d-flex flex-wrap mx-5"},Ht=W({__name:"BankTaxesConfig",async setup(Y){let y,i;const _=[{title:"Tax Name",key:"tax_name"},{title:"Percentage",key:"value"},{title:"Account No",key:"account_no"},{title:"Status",key:"status"},{title:"Is Default",key:"is_default"},{title:"Actions",key:"actions",sortable:!1}];l(!0),l(0);const d=l(""),x=l(),b=l(50),h=l(1),k=l(),v=l();l(""),l(""),l(""),l(""),l(""),l(""),l(""),l(""),l(""),l("");const $=l(!1),U=l(!1),C=q=>{var P,B;h.value=q.page,k.value=(P=q.sortBy[0])==null?void 0:P.key,v.value=(B=q.sortBy[0])==null?void 0:B.order},M=Z(),c=l([{title:"Active",value:"active"},{title:"In active",value:"inactive"}]),{data:m,execute:u}=([y,i]=ae(()=>J(te(`get/UI/configurations/bank-taxes/${M.params.id}`,{query:{q:d,status:x,page:h,itemsPerPage:b,sortBy:k,orderBy:v}}))),y=await y,i(),y),n=le(()=>m.value.data),r=le(()=>m.value.total),p=l({message:void 0,statusCode:void 0}),f=l([]),w=()=>{f.value.push({name:"",percentage:"",account_no:"",status:"Active"})},V=q=>{f.value.splice(q,1)},fe=q=>q==="1"?{color:"success",icon:"tabler-thumb-up",title:"Is Default"}:{color:"error",icon:"tabler-thumb-down",title:"Default"},he=async()=>{try{for(const P of f.value){const B=await oe("UI/configurations/tax-rates-configurations",{method:"POST",body:{bank_id:M.params.id,name:P.name,percentage:P.percentage,account_no:P.account_no,status:P.status},onResponseError({response:G}){p.value=G._data.errors}})}f.value=[{name:"",percentage:"",account_no:"",status:""}],await ue(()=>{u()});const{message:q}=res}catch(q){console.error(q)}},O=l(null),D=l(!1),E=q=>{O.value=q,D.value=!0};return(q,P)=>{const B=ie,G=_e,A=ke("IconBtn"),ce=ke("AddCurrenciesDialog"),H=ke("AddTaxDialog");return g(),R(X,null,[e(pe,{onSubmit:me(()=>{},["prevent"])},{default:t(()=>[e(N,null,{default:t(()=>[e(o,{cols:"12",md:"12"},{default:t(()=>[e(j,{class:"d-flex flex-column"},{default:t(()=>[s("div",zt,[s("div",Ot,[e(B,{modelValue:a(d),"onUpdate:modelValue":P[0]||(P[0]=T=>S(d)?d.value=T:null),class:"me-3","clear-icon":"tabler-circle-x",clearable:"",color:"primary",placeholder:"Tax Name",style:{"inline-size":"200px"},type:"text"},null,8,["modelValue"]),e(G,{modelValue:a(x),"onUpdate:modelValue":P[1]||(P[1]=T=>S(x)?x.value=T:null),items:a(c),class:"me-3","clear-icon":"tabler-x",clearable:"",placeholder:"Status",style:{"inline-size":"200px"}},null,8,["modelValue","items"])])]),e(de,{class:"notification-section"},{default:t(()=>[jt,e(a(Ne),{"items-per-page":a(b),"onUpdate:itemsPerPage":P[2]||(P[2]=T=>S(b)?b.value=T:null),page:a(h),"onUpdate:page":P[3]||(P[3]=T=>S(h)?h.value=T:null),headers:_,items:a(n),"items-length":a(r),class:"text-no-wrap","show-select":"","onUpdate:options":C},{"item.actions":t(({item:T})=>[e(A,{onClick:ve=>E(T)},{default:t(()=>[e(se,{icon:"tabler-pencil",color:"warning"})]),_:2},1032,["onClick"]),e(A,null,{default:t(()=>[e(se,{icon:"tabler-trash",color:"danger"})]),_:1})]),"item.is_default":t(({item:T})=>{var ve;return[e(A,{title:(ve=fe(T.is_default))==null?void 0:ve.title},{default:t(()=>{var ee,Be;return[e(se,{icon:(ee=fe(T.is_default))==null?void 0:ee.icon,color:(Be=fe(T.is_default))==null?void 0:Be.color},null,8,["icon","color"])]}),_:2},1032,["title"])]}),_:1},8,["items-per-page","page","items","items-length"]),e(j,null,{default:t(()=>[e(de,null,{default:t(()=>[e(pe,{onSubmit:me(()=>{},["prevent"])},{default:t(()=>[(g(!0),R(X,null,Se(a(f),(T,ve)=>(g(),z(N,{key:ve},{default:t(()=>[s("div",Lt,[e(o,{cols:"12",md:"2"},{default:t(()=>[e(B,{modelValue:T.name,"onUpdate:modelValue":ee=>T.name=ee,label:"Name",placeholder:"Tax Name"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(o,{cols:"12",md:"3"},{default:t(()=>[e(B,{modelValue:T.percentage,"onUpdate:modelValue":ee=>T.percentage=ee,type:"number",label:"Value (%)",placeholder:"%"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(o,{cols:"12",md:"3"},{default:t(()=>[e(B,{modelValue:T.account_no,"onUpdate:modelValue":ee=>T.account_no=ee,label:"Account No",placeholder:"Account No"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(o,{cols:"12",md:"2"},{default:t(()=>[e(G,{modelValue:T.status,"onUpdate:modelValue":ee=>T.status=ee,items:a(c),class:"me-1","clear-icon":"tabler-x",clearable:"",placeholder:"Status",style:{"inline-size":"200px"}},null,8,["modelValue","onUpdate:modelValue","items"])]),_:2},1024),e(o,{cols:"12",md:"1"},{default:t(()=>[e(A,{onClick:ee=>V(ve)},{default:t(()=>[e(se,{icon:"tabler-trash",color:"error"})]),_:2},1032,["onClick"])]),_:2},1024)])]),_:2},1024))),128)),e(N,null,{default:t(()=>[e(o,{cols:"12",md:"2",class:"text-left"},{default:t(()=>[e(F,{color:"primary",onClick:w},{default:t(()=>[I(" Add New Tax ")]),_:1})]),_:1}),a(f).length>0?(g(),z(o,{key:0,class:"d-flex gap-4",cols:"12",md:"4"},{default:t(()=>[e(F,{type:"submit",onClick:he},{default:t(()=>[I(" Submit ")]),_:1}),e(F,{color:"secondary",type:"reset",variant:"tonal"},{default:t(()=>[I(" Reset ")]),_:1})]),_:1})):Q("",!0)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(ce,{"is-dialog-visible":a($),"onUpdate:isDialogVisible":P[4]||(P[4]=T=>S($)?$.value=T:null),onRefresh:q.fetchCurrencies},null,8,["is-dialog-visible","onRefresh"]),e(H,{"is-dialog-visible":a(U),"onUpdate:isDialogVisible":P[5]||(P[5]=T=>S(U)?U.value=T:null),onRefresh:a(u)},null,8,["is-dialog-visible","onRefresh"]),a(D)?(g(),z(Yt,{key:0,isDialogVisible:a(D),"onUpdate:isDialogVisible":P[6]||(P[6]=T=>S(D)?D.value=T:null),bank_id:a(M).params.id,tax:a(O)},null,8,["isDialogVisible","bank_id","tax"])):Q("",!0)],64)}}});const Wt=s("p",null,"Terms and Conditions",-1),Qt=s("p",null,"Terms and Conditions for Companies",-1),Jt=s("p",null,"Terms and Conditions for Vendors",-1),Gt=W({__name:"BankTermsConfig",props:{terms_and_conditions:{},terms_and_conditions_companies:{},terms_and_conditions_vendors:{}},emits:["update:terms_and_conditions","update:terms_and_conditions_companies","update:terms_and_conditions_vendors"],async setup(Y,{emit:y}){let i,_;const d=l(""),x=l(),b=l(150),h=l(1),k=l(),v=l(),$=Z(),{data:U,execute:C}=([i,_]=ae(()=>J(te(`get/UI/configurations/bank-configurations/${$.params.id}`,{query:{q:d,status:x,page:h,itemsPerPage:b,sortBy:k,orderBy:v}}))),i=await i,_(),i),M=U.value,c=l({terms_and_conditions:l(M.terms_and_conditions),terms_and_conditions_companies:l(M.terms_and_conditions_companies),terms_and_conditions_vendors:l(M.terms_and_conditions_vendors)}),m=async()=>{const u=new FormData;u.append("bank_id",$.params.id),u.append("terms_and_conditions",c.value.terms_and_conditions),u.append("terms_and_conditions_companies",c.value.terms_and_conditions_companies),u.append("terms_and_conditions_vendors",c.value.terms_and_conditions_vendors);try{const n=await oe("edit/UI/configurations/bank-terms-configurations",{method:"POST",body:u,onResponseError({response:p}){errors.value=p._data.errors}}),{message:r}=n;await ue(()=>{}),console.log(r)}catch(n){console.error(n)}};return Ce(()=>{C()}),(u,n)=>{const r=Je;return g(),z(j,null,{default:t(()=>[e(de,null,{default:t(()=>[e(N,null,{default:t(()=>[e(o,{cols:"12",md:"12"},{default:t(()=>[Wt,e(r,{modelValue:a(c).terms_and_conditions,"onUpdate:modelValue":n[0]||(n[0]=p=>a(c).terms_and_conditions=p),class:"border rounded basic-editor"},null,8,["modelValue"])]),_:1}),e(o,{cols:"12",md:"12"},{default:t(()=>[Qt,e(r,{modelValue:a(c).terms_and_conditions_companies,"onUpdate:modelValue":n[1]||(n[1]=p=>a(c).terms_and_conditions_companies=p),class:"border rounded basic-editor"},null,8,["modelValue"])]),_:1}),e(o,{cols:"12",md:"12"},{default:t(()=>[Jt,e(r,{modelValue:a(c).terms_and_conditions_vendors,"onUpdate:modelValue":n[2]||(n[2]=p=>a(c).terms_and_conditions_vendors=p),class:"border rounded basic-editor"},null,8,["modelValue"])]),_:1}),e(o,{cols:"12",class:"d-flex gap-4"},{default:t(()=>[e(F,{type:"submit",onClick:m},{default:t(()=>[I(" Submit ")]),_:1}),e(F,{type:"reset",color:"secondary",variant:"tonal"},{default:t(()=>[I(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}}),Kt=s("p",null,"Bank User Manual",-1),Xt={key:0},Zt=["href"],ea=s("p",null,"Anchor User Manual",-1),ta={key:0},aa=["href"],la=s("p",null,"Vendor User Manual",-1),oa={key:0},sa=["href"],na=s("p",null,"Dealer User Manual",-1),ra={key:0},da=["href"],ua=W({__name:"BankUserManual",props:{bank_user_manual:{},anchor_user_manual:{},vendor_user_manual:{},dealer_user_manual:{}},emits:["update:bank_user_manual","update:anchor_user_manual","update:vendor_user_manual","update:dealer_user_manual"],async setup(Y,{emit:y}){let i,_;const d=l({bank_user_manual:l(""),anchor_user_manual:l(""),vendor_user_manual:l(""),dealer_user_manual:l("")}),x=l(""),b=l(),h=l(150),k=l(1),v=l(),$=l(),U=Z(),{data:C,execute:M}=([i,_]=ae(()=>J(te(`get/UI/configurations/bank-configurations/${U.params.id}`,{query:{q:x,status:b,page:k,itemsPerPage:h,sortBy:v,orderBy:$}}))),i=await i,_(),i),c=C.value,m=async()=>{const u=new FormData;u.append("bank_id",U.params.id),u.append("bank_user_manual",d.value.bank_user_manual[0]),u.append("anchor_user_manual",d.value.anchor_user_manual[0]),u.append("vendor_user_manual",d.value.vendor_user_manual[0]),u.append("dealer_user_manual",d.value.dealer_user_manual[0]);try{const n=await oe("edit/UI/configurations/bank-manuals-configurations",{method:"POST",body:u,onResponseError({response:p}){errors.value=p._data.errors}}),{message:r}=n;await ue(()=>{}),console.log(r)}catch(n){console.error(n)}};return Ce(()=>{M()}),(u,n)=>(g(),z(j,null,{default:t(()=>[e(de,null,{default:t(()=>[e(N,null,{default:t(()=>[e(o,{cols:"12",md:"12"},{default:t(()=>[Kt,a(c).bank_user_manual?(g(),R("p",Xt,[s("a",{href:a(c).bank_user_manual,target:"_blank"},L(a(c).bank_user_manual),9,Zt)])):Q("",!0),e(be,{modelValue:a(d).bank_user_manual,"onUpdate:modelValue":n[0]||(n[0]=r=>a(d).bank_user_manual=r),label:"Upload file..."},null,8,["modelValue"])]),_:1}),e(o,{cols:"12",md:"12"},{default:t(()=>[ea,a(c).anchor_user_manual?(g(),R("p",ta,[s("a",{href:a(c).anchor_user_manual,target:"_blank"},L(a(c).anchor_user_manual),9,aa)])):Q("",!0),e(be,{modelValue:a(d).anchor_user_manual,"onUpdate:modelValue":n[1]||(n[1]=r=>a(d).anchor_user_manual=r),label:"Upload file..."},null,8,["modelValue"])]),_:1}),e(o,{cols:"12",md:"12"},{default:t(()=>[la,a(c).vendor_user_manual?(g(),R("p",oa,[s("a",{href:a(c).vendor_user_manual,target:"_blank"},L(a(c).vendor_user_manual),9,sa)])):Q("",!0),e(be,{modelValue:a(d).vendor_user_manual,"onUpdate:modelValue":n[2]||(n[2]=r=>a(d).vendor_user_manual=r),label:"Upload file..."},null,8,["modelValue"])]),_:1}),e(o,{cols:"12",md:"12"},{default:t(()=>[na,a(c).dealer_user_manual?(g(),R("p",ra,[s("a",{href:a(c).dealer_user_manual,target:"_blank"},L(a(c).dealer_user_manual),9,da)])):Q("",!0),e(be,{modelValue:a(d).dealer_user_manual,"onUpdate:modelValue":n[3]||(n[3]=r=>a(d).dealer_user_manual=r),label:"Upload file..."},null,8,["modelValue"])]),_:1}),e(o,{cols:"12",class:"d-flex gap-4"},{default:t(()=>[e(F,{type:"submit",onClick:m},{default:t(()=>[I(" Submit ")]),_:1}),e(F,{type:"reset",color:"secondary",variant:"tonal"},{default:t(()=>[I(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}}),ia={class:"text-h3 text-left mb-5"},ca=W({__name:"EditRatesDialog",props:{isDialogVisible:{type:Boolean},bank_id:{},rate:{}},emits:["update:isDialogVisible","update:rate"],setup(Y,{emit:y}){const i=Y,_=y,d=m=>{_("update:isDialogVisible",m)},x=l({message:void 0,statusCode:void 0}),b=l(!1),h=l(structuredClone(xe(i.rate))),k=l(h.value.name),v=l(h.value.rate),$=l(h.value.future_rate),U=l(h.value.effective_date),C=l(h.value.status);Z(),ye();const M=async()=>{try{const m=await oe("edit/UI/configurations/bank-rates-configurations",{method:"POST",body:{rate_id:h.value.id,bank_id:h.value.bank_id,rate_code:k.value,rate:v.value,future_rate:$.value,effective_date:U.value,status:C.value},onResponseError({response:n}){x.value=n._data.errors}});b.value=!0,console.log(m),await ue(()=>{_("refresh",!0)});const{message:u}=m}catch(m){console.error(m)}},c=l([{title:"Active",value:"active"},{title:"In active",value:"inactive"}]);return(m,u)=>{const n=Ie,r=ie,p=Ee,f=_e;return g(),R(X,null,[e(Ue,{modelValue:a(b),"onUpdate:modelValue":u[0]||(u[0]=w=>S(b)?b.value=w:null),color:"success",location:"top end",variant:"flat"},{default:t(()=>[I(" Rates Updated Successfully ")]),_:1},8,["modelValue"]),e(Ae,{"model-value":i.isDialogVisible,"max-width":"900","onUpdate:modelValue":d},{default:t(()=>[e(n,{onClick:u[1]||(u[1]=w=>_("update:isDialogVisible",!1))}),e(j,{class:"refer-and-earn-dialog"},{default:t(()=>[e(ne,{class:"pa-5 pa-sm-16"},{default:t(()=>[s("h3",ia," Update Rate: "+L(i.rate.name),1),e(pe,{onSubmit:me(()=>{},["prevent"])},{default:t(()=>[e(N,null,{default:t(()=>[e(o,{cols:"12",md:"12"},{default:t(()=>[e(r,{modelValue:a(k),"onUpdate:modelValue":u[2]||(u[2]=w=>S(k)?k.value=w:null),rules:["requiredValidator"in m?m.requiredValidator:a(K)],label:"Rate Code",placeholder:"Rate (%)"},null,8,["modelValue","rules"])]),_:1}),e(o,{cols:"12",md:"12"},{default:t(()=>[e(r,{modelValue:a(v),"onUpdate:modelValue":u[3]||(u[3]=w=>S(v)?v.value=w:null),rules:["requiredValidator"in m?m.requiredValidator:a(K)],type:"number",label:"Rate",placeholder:"%"},null,8,["modelValue","rules"])]),_:1}),e(o,{cols:"12",md:"12"},{default:t(()=>[e(r,{modelValue:a($),"onUpdate:modelValue":u[4]||(u[4]=w=>S($)?$.value=w:null),rules:["requiredValidator"in m?m.requiredValidator:a(K)],type:"number",label:"Future Rate",placeholder:"%"},null,8,["modelValue","rules"])]),_:1}),e(o,{cols:"12",md:"12"},{default:t(()=>[e(p,{modelValue:a(U),"onUpdate:modelValue":u[5]||(u[5]=w=>S(U)?U.value=w:null),"append-inner-icon":"tabler-calendar-due",label:"Date",placeholder:"Select Date"},null,8,["modelValue"])]),_:1}),e(o,{cols:"12",md:"12"},{default:t(()=>[e(f,{modelValue:a(C),"onUpdate:modelValue":u[6]||(u[6]=w=>S(C)?C.value=w:null),items:a(c),class:"me-1","clear-icon":"tabler-x",clearable:"",placeholder:"Status",style:{"inline-size":"200px"}},null,8,["modelValue","items"])]),_:1}),e(o,{class:"d-flex gap-4",cols:"12",md:"9"},{default:t(()=>[e(F,{type:"submit",onClick:M},{default:t(()=>[I(" Submit ")]),_:1}),e(F,{color:"secondary",type:"reset",variant:"tonal"},{default:t(()=>[I(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"])],64)}}});const ma={class:"d-flex flex-wrap gap-4 mx-5 my-5"},pa={class:"d-flex align-center"},_a={class:"config-d-flex flex-wrap mx-5"},fa=W({__name:"BaseRatesConfig",async setup(Y){let y,i;l(!0),l(0);const _=l(""),d=l(),x=l(!1),b=l(50),h=l(1),k=l(),v=l(),$=Z(),U=[{title:"Rate Code",key:"name"},{title:"Rate",key:"rate"},{title:"Status",key:"status"},{title:"Is Default",key:"is_default"},{title:"Actions",key:"actions",sortable:!1}],C=D=>D==="1"?{color:"success",icon:"tabler-thumb-up",title:"Is Default"}:{color:"error",icon:"tabler-thumb-down",title:"Default"},M=D=>{var E,q;h.value=D.page,k.value=(E=D.sortBy[0])==null?void 0:E.key,v.value=(q=D.sortBy[0])==null?void 0:q.order},c=l([{title:"Active",value:"active"},{title:"In active",value:"inactive"}]),{data:m,execute:u}=([y,i]=ae(()=>J(te(`/get/UI/configurations/bank-rates/${$.params.id}`,{query:{q:_,status:d,page:h,itemsPerPage:b,sortBy:k,orderBy:v}}))),y=await y,i(),y),n=le(()=>m.value.data),r=le(()=>m.value.total),p=l(null),f=D=>{p.value=D,x.value=!0},w=l({message:void 0,statusCode:void 0}),V=l([]),fe=()=>{V.value.push({rate_code:"",rate:"",future_rate:"",effective_date:"Active"})},he=D=>{V.value.splice(D,1)},O=async()=>{try{for(const E of V.value){const q=await oe("/UI/configurations/bank-rates-configurations",{method:"POST",body:{bank_id:$.params.id,rate_code:E.rate_code,rate:E.rate,future_rate:E.future_rate,effective_date:E.effective_date},onResponseError({response:P}){w.value=P._data.errors}})}V.value=[{rate_code:"",rate:"",future_rate:"",effective_date:""}],await ue(()=>{u()});const{message:D}=res}catch(D){console.error(D)}};return(D,E)=>{const q=ie,P=_e,B=ke("IconBtn"),G=Ee;return g(),R(X,null,[e(N,null,{default:t(()=>[e(o,{cols:"12",md:"12"},{default:t(()=>[e(j,{class:"mt-5"},{default:t(()=>[e(ne,null,{default:t(()=>[s("div",ma,[s("div",pa,[e(q,{modelValue:a(_),"onUpdate:modelValue":E[0]||(E[0]=A=>S(_)?_.value=A:null),class:"me-3","clear-icon":"tabler-circle-x",clearable:"",color:"primary",placeholder:"Rate Code",style:{"inline-size":"200px"},type:"text"},null,8,["modelValue"]),e(P,{modelValue:a(d),"onUpdate:modelValue":E[1]||(E[1]=A=>S(d)?d.value=A:null),items:a(c),class:"me-3","clear-icon":"tabler-x",clearable:"",placeholder:"Status",style:{"inline-size":"200px"}},null,8,["modelValue","items"])])]),e(a(Ne),{"items-per-page":a(b),"onUpdate:itemsPerPage":E[2]||(E[2]=A=>S(b)?b.value=A:null),page:a(h),"onUpdate:page":E[3]||(E[3]=A=>S(h)?h.value=A:null),headers:U,items:a(n),"items-length":a(r),class:"text-no-wrap","show-select":"","onUpdate:options":M},{"item.actions":t(({item:A})=>[e(B,{onClick:ce=>f(A)},{default:t(()=>[e(se,{icon:"tabler-pencil",color:"warning"})]),_:2},1032,["onClick"]),e(B,null,{default:t(()=>[e(se,{icon:"tabler-trash",color:"danger"})]),_:1})]),"item.is_default":t(({item:A})=>{var ce;return[e(B,{title:(ce=C(A.is_default))==null?void 0:ce.title},{default:t(()=>{var H,T;return[e(se,{icon:(H=C(A.is_default))==null?void 0:H.icon,color:(T=C(A.is_default))==null?void 0:T.color},null,8,["icon","color"])]}),_:2},1032,["title"])]}),_:1},8,["items-per-page","page","items","items-length"]),e(j,null,{default:t(()=>[e(de,null,{default:t(()=>[e(pe,{onSubmit:me(()=>{},["prevent"])},{default:t(()=>[(g(!0),R(X,null,Se(a(V),(A,ce)=>(g(),z(N,{key:ce},{default:t(()=>[s("div",_a,[e(o,{cols:"12",md:"2"},{default:t(()=>[e(q,{modelValue:A.rate_code,"onUpdate:modelValue":H=>A.rate_code=H,label:"Rate Code",placeholder:"Rate Code"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(o,{cols:"12",md:"2"},{default:t(()=>[e(q,{modelValue:A.rate,"onUpdate:modelValue":H=>A.rate=H,type:"number",label:"Rate (%)",placeholder:"%"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(o,{cols:"12",md:"2"},{default:t(()=>[e(q,{modelValue:A.future_rate,"onUpdate:modelValue":H=>A.future_rate=H,label:"Future Rate",placeholder:"Future Rate"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(o,{cols:"12",md:"3"},{default:t(()=>[e(G,{modelValue:A.effective_date,"onUpdate:modelValue":H=>A.effective_date=H,"append-inner-icon":"tabler-calendar-due",label:"Date",placeholder:"Select Date"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(o,{cols:"12",md:"2"},{default:t(()=>[e(P,{modelValue:A.status,"onUpdate:modelValue":H=>A.status=H,items:a(c),class:"me-1","clear-icon":"tabler-x",clearable:"",placeholder:"Status",style:{"inline-size":"200px"}},null,8,["modelValue","onUpdate:modelValue","items"])]),_:2},1024),e(o,{cols:"12",md:"1"},{default:t(()=>[e(B,{onClick:H=>he(ce)},{default:t(()=>[e(se,{icon:"tabler-trash",color:"error"})]),_:2},1032,["onClick"])]),_:2},1024)])]),_:2},1024))),128)),e(N,null,{default:t(()=>[e(o,{cols:"12",md:"2",class:"text-left"},{default:t(()=>[e(F,{color:"primary",onClick:fe},{default:t(()=>[I(" Add New Rate ")]),_:1})]),_:1}),a(V).length>0?(g(),z(o,{key:0,class:"d-flex gap-4",cols:"12",md:"4"},{default:t(()=>[e(F,{type:"submit",onClick:O},{default:t(()=>[I(" Submit ")]),_:1}),e(F,{color:"secondary",type:"reset",variant:"tonal"},{default:t(()=>[I(" Reset ")]),_:1})]),_:1})):Q("",!0)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),a(x)?(g(),z(ca,{key:0,isDialogVisible:a(x),"onUpdate:isDialogVisible":E[4]||(E[4]=A=>S(x)?x.value=A:null),bank_id:a($).params.id,rate:a(p)},null,8,["isDialogVisible","bank_id","rate"])):Q("",!0)],64)}}});const va={key:0},ga={key:1},ba=s("div",{style:{display:"flex","justify-content":"center","align-items":"center",height:"100%"}},[s("div",{role:"alert",style:{width:"70%","max-width":"500px",height:"60%","max-height":"300px","text-align":"center","background-color":"rgba(255, 0, 0, 0.1)",border:"1px solid red","border-radius":"50px",padding:"20px"}},[s("strong",{style:{color:"red"}},"Bank has not been Approved"),s("p",null,"Please check back later or contact support for more information.")])],-1),ya=[ba],ha={key:0},Va={key:1},xa=s("div",{style:{display:"flex","justify-content":"center","align-items":"center",height:"100%"}},[s("div",{role:"alert",style:{width:"70%","max-width":"500px",height:"60%","max-height":"300px","text-align":"center","background-color":"rgba(255, 0, 0, 0.1)",border:"1px solid red","border-radius":"50px",padding:"20px"}},[s("strong",{style:{color:"red"}},"Bank has not been Approved"),s("p",null,"Please check back later or contact support for more information.")])],-1),ka=[xa],Ua={key:0},Ca={key:1},wa=s("div",{style:{display:"flex","justify-content":"center","align-items":"center",height:"100%"}},[s("div",{role:"alert",style:{width:"70%","max-width":"500px",height:"60%","max-height":"300px","text-align":"center","background-color":"rgba(255, 0, 0, 0.1)",border:"1px solid red","border-radius":"50px",padding:"20px"}},[s("strong",{style:{color:"red"}},"Bank has not been Approved"),s("p",null,"Please check back later or contact support for more information.")])],-1),Da=[wa],$a={key:0},Sa={key:1},Ia=s("div",{style:{display:"flex","justify-content":"center","align-items":"center",height:"100%"}},[s("div",{role:"alert",style:{width:"70%","max-width":"500px",height:"60%","max-height":"300px","text-align":"center","background-color":"rgba(255, 0, 0, 0.1)",border:"1px solid red","border-radius":"50px",padding:"20px"}},[s("strong",{style:{color:"red"}},"Bank has not been Approved"),s("p",null,"Please check back later or contact support for more information.")])],-1),Aa=[Ia],Ba={key:0},Ra={key:1},Ta=s("div",{style:{display:"flex","justify-content":"center","align-items":"center",height:"100%"}},[s("div",{role:"alert",style:{width:"70%","max-width":"500px",height:"60%","max-height":"300px","text-align":"center","background-color":"rgba(255, 0, 0, 0.1)",border:"1px solid red","border-radius":"50px",padding:"20px"}},[s("strong",{style:{color:"red"}},"Bank has not been Approved"),s("p",null,"Please check back later or contact support for more information.")])],-1),Pa=[Ta],qa={key:0},Na={key:1},Ea=s("div",{style:{display:"flex","justify-content":"center","align-items":"center",height:"100%"}},[s("div",{role:"alert",style:{width:"70%","max-width":"500px",height:"60%","max-height":"300px","text-align":"center","background-color":"rgba(255, 0, 0, 0.1)",border:"1px solid red","border-radius":"50px",padding:"20px"}},[s("strong",{style:{color:"red"}},"Bank has not been Approved"),s("p",null,"Please check back later or contact support for more information.")])],-1),Ma=[Ea],Fa={key:0},Ya={key:1},za=s("div",{style:{display:"flex","justify-content":"center","align-items":"center",height:"100%"}},[s("div",{role:"alert",style:{width:"70%","max-width":"500px",height:"60%","max-height":"300px","text-align":"center","background-color":"rgba(255, 0, 0, 0.1)",border:"1px solid red","border-radius":"50px",padding:"20px"}},[s("strong",{style:{color:"red"}},"Bank has not been Approved"),s("p",null,"Please check back later or contact support for more information.")])],-1),Oa=[za],ja={key:0},La={key:1},Ha=s("div",{style:{display:"flex","justify-content":"center","align-items":"center",height:"100%"}},[s("div",{role:"alert",style:{width:"70%","max-width":"500px",height:"60%","max-height":"300px","text-align":"center","background-color":"rgba(255, 0, 0, 0.1)",border:"1px solid red","border-radius":"50px",padding:"20px"}},[s("strong",{style:{color:"red"}},"Bank has not been Approved"),s("p",null,"Please check back later or contact support for more information.")])],-1),Wa=[Ha],Zl=W({__name:"[id]",async setup(Y){let y,i;const _=Z(),d=l(0),x=[{icon:"tabler-user-check",title:"Account"},{icon:"tabler-affiliate",title:"Add New User"},{icon:"tabler-arrow-left-right",title:"Map a User"},{icon:"tabler-arrow-left-right",title:"Configurations"},{icon:"tabler-arrow-left-right",title:"Logo & Appearance"},{icon:"tabler-arrow-left-right",title:"Base Rates"},{icon:"tabler-arrow-left-right",title:"Taxes"},{icon:"tabler-arrow-left-right",title:"User Manuals"}],{data:b}=([y,i]=ae(()=>J(`/get/bank/${_.params.id}`)),y=await y,i(),y);return(h,k)=>a(b)?(g(),z(N,{key:0},{default:t(()=>[e(o,{cols:"12",lg:"4",md:"5"},{default:t(()=>[e(ht,{"user-data":a(b)},null,8,["user-data"])]),_:1}),e(o,{cols:"12",lg:"8",md:"7"},{default:t(()=>[e(Ge,{modelValue:a(d),"onUpdate:modelValue":k[0]||(k[0]=v=>S(d)?d.value=v:null),class:"v-tabs-pill"},{default:t(()=>[(g(),R(X,null,Se(x,v=>e(Ke,{key:v.icon},{default:t(()=>[e(se,{icon:v.icon,size:18,class:"me-1"},null,8,["icon"]),s("span",null,L(v.title),1)]),_:2},1024)),64))]),_:1},8,["modelValue"]),e(Xe,{modelValue:a(d),"onUpdate:modelValue":k[1]||(k[1]=v=>S(d)?d.value=v:null),touch:!1,class:"mt-6 disable-tab-transition"},{default:t(()=>[e(re,null,{default:t(()=>[e(Et)]),_:1}),e(re,null,{default:t(()=>[a(b).status==="active"?(g(),R("div",va,[e(lt)])):(g(),R("div",ga,ya))]),_:1}),e(re,null,{default:t(()=>[a(b).status==="active"?(g(),R("div",ha,[e(It)])):(g(),R("div",Va,ka))]),_:1}),e(re,null,{default:t(()=>[a(b).status==="active"?(g(),R("div",Ua,[e(Mt)])):(g(),R("div",Ca,Da))]),_:1}),e(re,null,{default:t(()=>[a(b).status==="active"?(g(),R("div",$a,[e(Ct)])):(g(),R("div",Sa,Aa))]),_:1}),e(re,null,{default:t(()=>[a(b).status==="active"?(g(),R("div",Ba,[e(fa)])):(g(),R("div",Ra,Pa))]),_:1}),e(re,null,{default:t(()=>[a(b).status==="active"?(g(),R("div",qa,[e(Ht)])):(g(),R("div",Na,Ma))]),_:1}),e(re,null,{default:t(()=>[a(b).status==="active"?(g(),R("div",Fa,[e(ua)])):(g(),R("div",Ya,Oa))]),_:1}),e(re,null,{default:t(()=>[a(b).status==="active"?(g(),R("div",ja,[e(Gt)])):(g(),R("div",La,Wa))]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})):(g(),z(j,{key:1},{default:t(()=>[e(Pe,{class:"text-center"},{default:t(()=>[I(" No User Found ")]),_:1})]),_:1}))}});export{Zl as default};
