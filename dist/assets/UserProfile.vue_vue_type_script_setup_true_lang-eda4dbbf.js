import{P as g}from"./vue3-perfect-scrollbar.esm-ba9c318d.js";import{d as I,l as h,b4 as n,p as a,o as r,h as l,f as e,b as o,a9 as i,x as c,y as u,c as m,F as f,j as C,A as x}from"./index-5caaa453.js";import{u as L}from"./useAbility-d1794150.js";import{V as d}from"./VAvatar-3ee4c690.js";import{V as p}from"./VImg-6009f8f0.js";import{V as A}from"./VMenu-97c48b4e.js";import{V as w,a as v,b as y,c as P}from"./VList-4b1bf96e.js";import{V as S}from"./VListItemAction-86de27dc.js";import{V as _}from"./VBadge-7defb6dc.js";import{V as B}from"./VDivider-d40713ce.js";const K=I({__name:"UserProfile",setup(D){const V=h(),b=L(),t=n("userData"),k=[{type:"navItem",icon:"tabler-settings",title:"Settings",to:{name:"settings-tab",params:{tab:"account"}}},{type:"navItem",icon:"tabler-logout",title:"Logout",onClick:async()=>{n("adminAccessToken").value=null,t.value=null,await V.push("/login"),n("yofAbilities").value=null,localStorage.setItem("permissions",""),b.update([])}}];return(T,F)=>a(t)?(r(),l(_,{key:0,bordered:"",color:"success",dot:"",location:"bottom right","offset-x":"3","offset-y":"3"},{default:e(()=>[o(d,{color:a(t)&&a(t).avatar?void 0:"primary",variant:a(t)&&a(t).avatar?void 0:"tonal",class:"cursor-pointer"},{default:e(()=>[a(t)&&a(t).avatar?(r(),l(p,{key:0,src:a(t).avatar},null,8,["src"])):(r(),l(i,{key:1,icon:"tabler-user"})),o(A,{activator:"parent",location:"bottom end",offset:"14px",width:"230"},{default:e(()=>[o(w,null,{default:e(()=>[o(v,null,{prepend:e(()=>[o(S,{start:""},{default:e(()=>[o(_,{bordered:"",color:"success",dot:"",location:"bottom right","offset-x":"3","offset-y":"3"},{default:e(()=>[o(d,{color:a(t)&&a(t).avatar?void 0:"primary",variant:a(t)&&a(t).avatar?void 0:"tonal"},{default:e(()=>[a(t)&&a(t).avatar?(r(),l(p,{key:0,src:a(t).avatar},null,8,["src"])):(r(),l(i,{key:1,icon:"tabler-user"}))]),_:1},8,["color","variant"])]),_:1})]),_:1})]),default:e(()=>[o(y,{class:"font-weight-medium"},{default:e(()=>[c(u(a(t).fullName||a(t).username),1)]),_:1}),o(P,null,{default:e(()=>[c(u(a(t).role),1)]),_:1})]),_:1}),o(a(g),{options:{wheelPropagation:!1}},{default:e(()=>[(r(),m(f,null,C(k,s=>(r(),m(f,{key:s.title},[s.type==="navItem"?(r(),l(v,{key:0,to:s.to,onClick:$=>s.onClick&&s.onClick()},{prepend:e(()=>[o(i,{icon:s.icon,class:"me-2",size:"22"},null,8,["icon"])]),default:e(()=>[o(y,null,{default:e(()=>[c(u(s.title),1)]),_:2},1024)]),_:2},1032,["to","onClick"])):(r(),l(B,{key:1,class:"my-2"}))],64))),64))]),_:1})]),_:1})]),_:1})]),_:1},8,["color","variant"])]),_:1})):x("",!0)}});export{K as _};
