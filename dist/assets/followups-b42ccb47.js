import{_ as L}from"./AppSelect.vue_vue_type_script_setup_true_lang-67ce80f3.js";import{_ as z}from"./AppTextField.vue_vue_type_script_setup_true_lang-298ad98d.js";import{_ as R}from"./FollowUpModal.vue_vue_type_script_setup_true_lang-611c7657.js";import{u as O}from"./useApi-c9327355.js";import{c as q}from"./createUrl-3e678c2b.js";import{V as Y}from"./VSnackbar-ea7773d7.js";import{V as G}from"./VCardText-3b4da816.js";import{V as Q}from"./VRow-e44df108.js";import{V as h}from"./VCard-1a5b2c5e.js";import{V as j}from"./VSpacer-a56288e5.js";import{V as H}from"./VDataTable-1493872b.js";import{V as S}from"./VChip-49676f7d.js";import{d as J,r as i,b6 as K,R as W,w as X,o as Z,c as ee,b as a,f as l,x,e as s,p as b,y as n,a9 as te,F as oe,a as ae}from"./index-5caaa453.js";import"./form-c9c578a3.js";import"./VSelect-f0a443ce.js";import"./VTextField-604d91ff.js";/* empty css                   */import"./VCounter-728f7f8c.js";import"./transition-1886cce0.js";import"./VField-6b3808ed.js";import"./easing-9f15041e.js";import"./VInput-e87890b4.js";import"./forwardRefs-8348545e.js";import"./index-7dd1f5f0.js";import"./VList-4b1bf96e.js";import"./ssrBoot-2696bccc.js";import"./createSimpleFunctional-9624028d.js";import"./VAvatar-3ee4c690.js";import"./VImg-6009f8f0.js";import"./VDivider-d40713ce.js";import"./dialog-transition-1ae6ec72.js";import"./VMenu-97c48b4e.js";import"./VOverlay-da001e16.js";import"./lazy-9cd674a5.js";import"./scopeId-484eb469.js";import"./VCheckboxBtn-1d552264.js";import"./VSelectionControl-e0df1dbd.js";import"./AppTextarea.vue_vue_type_script_setup_true_lang-bddf1338.js";import"./VTextarea-92d5209d.js";import"./AppDateTimePicker.vue_vue_type_style_index_0_lang-56955411.js";import"./DialogCloseBtn.vue_vue_type_script_setup_true_lang-9e7a34d5.js";import"./api-44dd0fa9.js";import"./index-2898f57d.js";import"./VForm-ed4803d2.js";import"./VCol-bcc5388c.js";/* empty css              */import"./VRadioGroup-ceb4b39c.js";import"./VDialog-808ce03e.js";import"./VTable-f9bab7db.js";import"./filter-aecd5fc1.js";const le={class:"app-user-search-filter d-flex align-center flex-wrap gap-4"},se={class:"d-flex flex-wrap gap-4 mx-5"},ie={class:"d-flex align-center"},ne={class:"v-data-table__tr"},re=["colspan"],ce={class:"my-1"},pe={class:"my-1"},de={class:"d-flex align-center"},me={class:"d-flex flex-column ms-3"},ue={class:"d-block font-weight-medium text-high-emphasis text-truncate"},fe={class:"d-flex gap-1"},ut=J({__name:"followups",async setup(ve){let c,g;const u=i(""),k=i(),C=i(),f=i(),v=i(),T=i(10),U=i(1),P=i(),N=i(),y=[{title:"",key:"data-table-expand"},{title:"TITLE",key:"title"},{title:"START",key:"start"},{title:"END",key:"end"},{title:"URL",key:"url"},{title:"Done",key:"done"},{title:"TYPE",key:"status"},{title:"Action",key:"actions"}],{data:F,execute:V}=([c,g]=K(()=>O(q("/all/UI/data/followups",{query:{q:u,status:f,plan:C,role:k,calendar:v,itemsPerPage:T,page:U,sortBy:P,orderBy:N}}))),c=await c,g(),c),M=i([{title:"Done",value:"1"},{title:"Not Done",value:"0"}]),A=i([{title:"Physical Meeting",value:"Physical Meeting"},{title:"Online Meeting",value:"Online Meeting"},{title:"Follow Ups",value:"Follow Ups"},{title:"Activity",value:"Activity"},{title:"ETC",value:"ETC"}]),E=W(()=>{var t;return(t=F.value)==null?void 0:t.data});V();const w=t=>t==="Physical Meetings"?{color:"primary",text:"Physical Meetings"}:t==="Online Meetings"?{color:"success",text:"Online Meetings"}:t==="Corporate Events"?{color:"error",text:"Corporate Events"}:t==="Follow ups"?{color:"warning",text:"Follow ups"}:{color:"info",text:"ETC"},D=t=>t==="1"?{color:"success",text:"Done"}:{color:"error",text:"Not Done"},p=i({id:0,date:"",checked:"done",touchPoint:"Physical Meeting",remarks:"",veryNextStep:""});function B(){const t=new Date,o=t.getFullYear(),_=String(t.getMonth()+1).padStart(2,"0"),m=String(t.getDate()).padStart(2,"0");return`${o}-${_}-${m}`}const r=i(!1);X(r,t=>{V(),console.log(t)});const d=i(!1),I=t=>{p.value.id=t.id,p.value.date=B(),d.value=!d.value};return(t,o)=>{const _=z,m=L,$=ae("IconBtn");return Z(),ee(oe,null,[a(Y,{modelValue:r.value,"onUpdate:modelValue":o[0]||(o[0]=e=>r.value=e),color:"success",location:"top end",variant:"flat"},{default:l(()=>[x(" New Note added successfully ")]),_:1},8,["modelValue"]),a(R,{"interaction-type":p.value,"onUpdate:interactionType":o[1]||(o[1]=e=>p.value=e),isDialogVisible:d.value,"onUpdate:isDialogVisible":o[2]||(o[2]=e=>d.value=e),isSavedData:r.value,"onUpdate:isSavedData":o[3]||(o[3]=e=>r.value=e)},null,8,["interaction-type","isDialogVisible","isSavedData"]),a(h,{class:"mb-6",title:"Filters"},{default:l(()=>[a(G,null,{default:l(()=>[a(Q,null,{default:l(()=>[s("div",le,[s("div",se,[s("div",ie,[a(_,{modelValue:u.value,"onUpdate:modelValue":o[4]||(o[4]=e=>u.value=e),class:"me-3",density:"compact",placeholder:"Search",style:{"inline-size":"200px"}},null,8,["modelValue"]),a(m,{modelValue:f.value,"onUpdate:modelValue":o[5]||(o[5]=e=>f.value=e),items:M.value,"clear-icon":"tabler-x",clearable:"",placeholder:"Status",style:{"inline-size":"200px"}},null,8,["modelValue","items"]),a(m,{modelValue:v.value,"onUpdate:modelValue":o[6]||(o[6]=e=>v.value=e),items:A.value,"clear-icon":"tabler-x",clearable:"",placeholder:"Type",style:{"inline-size":"200px"}},null,8,["modelValue","items"])])])])]),_:1})]),_:1})]),_:1}),a(j),a(h,null,{default:l(()=>[a(b(H),{headers:y,items:b(E),"items-per-page":5,"expand-on-click":""},{"expanded-row":l(e=>[s("tr",ne,[s("td",{colspan:y.length},[s("p",ce," Guests: "+n(e.item.extendedProps.guests),1),s("p",pe," Location: "+n(e.item.extendedProps.location),1),s("p",null,"Description: "+n(e.item.extendedProps.description),1)],8,re)])]),"item.title":l(({item:e})=>[s("div",de,[s("div",me,[s("span",ue,n(e.title),1),s("small",null,n(new Date(e.start).toLocaleDateString()),1)])])]),"item.start":l(({item:e})=>[s("span",null,n(new Date(e.start).toLocaleDateString()),1)]),"item.end":l(({item:e})=>[s("span",null,n(new Date(e.end).toLocaleDateString()),1)]),"item.status":l(({item:e})=>[a(S,{color:w(e.extendedProps.calendar).color,class:"font-weight-medium",size:"small"},{default:l(()=>[x(n(w(e.extendedProps.calendar).text),1)]),_:2},1032,["color"])]),"item.done":l(({item:e})=>[a(S,{color:D(e.done).color,class:"font-weight-medium",size:"small"},{default:l(()=>[x(n(D(e.done).text),1)]),_:2},1032,["color"])]),"item.actions":l(({item:e})=>[s("div",fe,[a($,{onClick:_e=>I(e)},{default:l(()=>[a(te,{icon:"tabler-arrow-autofit-width"})]),_:2},1032,["onClick"])])]),_:1},8,["items"])]),_:1})],64)}}});export{ut as default};
