import{_ as L}from"./AppSelect.vue_vue_type_script_setup_true_lang-32a0f469.js";import{_ as z}from"./AppTextField.vue_vue_type_script_setup_true_lang-93dc1e26.js";import{_ as R}from"./FollowUpModal.vue_vue_type_script_setup_true_lang-5866ea6c.js";import{u as O}from"./useApi-776c55ea.js";import{c as q}from"./createUrl-149317bf.js";import{V as Y}from"./VSnackbar-f21966b4.js";import{V as G}from"./VCardText-76f31582.js";import{V as Q}from"./VRow-d6f20668.js";import{V as h}from"./VCard-95c0d706.js";import{V as j}from"./VSpacer-6f8dff92.js";import{V as H}from"./VDataTable-c3cccdda.js";import{V as S}from"./VChip-e2ddd660.js";import{d as J,r as i,b6 as K,R as W,w as X,o as Z,c as ee,b as a,f as l,x,e as s,p as b,y as n,a9 as te,F as oe,a as ae}from"./index-75b434bc.js";import"./form-2b416184.js";import"./VSelect-54e8b29a.js";import"./VTextField-05e93cc8.js";/* empty css                   */import"./VCounter-3e4b236e.js";import"./transition-6afda34e.js";import"./VField-82993695.js";import"./easing-9f15041e.js";import"./VInput-b46333d7.js";import"./forwardRefs-8348545e.js";import"./index-97808f23.js";import"./VList-c7d4c8b4.js";import"./ssrBoot-7f224ca6.js";import"./createSimpleFunctional-4b3a0a39.js";import"./VAvatar-071125b9.js";import"./VImg-ba4b392a.js";import"./VDivider-fc890531.js";import"./dialog-transition-14fdab67.js";import"./VMenu-3f143933.js";import"./VOverlay-0b79a00d.js";import"./lazy-0bb5e457.js";import"./scopeId-ee2feb8e.js";import"./VCheckboxBtn-0f22f589.js";import"./VSelectionControl-e1264669.js";import"./AppTextarea.vue_vue_type_script_setup_true_lang-c557234d.js";import"./VTextarea-86010cd2.js";import"./AppDateTimePicker.vue_vue_type_style_index_0_lang-544577ba.js";import"./DialogCloseBtn.vue_vue_type_script_setup_true_lang-035125fd.js";import"./api-0c1dfdf3.js";import"./index-2898f57d.js";import"./VForm-e46f5921.js";import"./VCol-35b3d337.js";/* empty css              */import"./VRadioGroup-869c346f.js";import"./VDialog-bc06d443.js";import"./VTable-de2d1039.js";import"./filter-3bfef89c.js";const le={class:"app-user-search-filter d-flex align-center flex-wrap gap-4"},se={class:"d-flex flex-wrap gap-4 mx-5"},ie={class:"d-flex align-center"},ne={class:"v-data-table__tr"},re=["colspan"],ce={class:"my-1"},pe={class:"my-1"},de={class:"d-flex align-center"},me={class:"d-flex flex-column ms-3"},ue={class:"d-block font-weight-medium text-high-emphasis text-truncate"},fe={class:"d-flex gap-1"},ut=J({__name:"followups",async setup(ve){let c,g;const u=i(""),k=i(),C=i(),f=i(),v=i(),T=i(50),U=i(1),P=i(),N=i(),y=[{title:"",key:"data-table-expand"},{title:"TITLE",key:"title"},{title:"START",key:"start"},{title:"END",key:"end"},{title:"URL",key:"url"},{title:"Done",key:"done"},{title:"TYPE",key:"status"},{title:"Action",key:"actions"}],{data:F,execute:V}=([c,g]=K(()=>O(q("/all/UI/data/followups",{query:{q:u,status:f,plan:C,role:k,calendar:v,itemsPerPage:T,page:U,sortBy:P,orderBy:N}}))),c=await c,g(),c),M=i([{title:"Done",value:"1"},{title:"Not Done",value:"0"}]),A=i([{title:"Physical Meeting",value:"Physical Meeting"},{title:"Online Meeting",value:"Online Meeting"},{title:"Follow Ups",value:"Follow Ups"},{title:"Activity",value:"Activity"},{title:"ETC",value:"ETC"}]),E=W(()=>{var t;return(t=F.value)==null?void 0:t.data});V();const w=t=>t==="Physical Meetings"?{color:"primary",text:"Physical Meetings"}:t==="Online Meetings"?{color:"success",text:"Online Meetings"}:t==="Corporate Events"?{color:"error",text:"Corporate Events"}:t==="Follow ups"?{color:"warning",text:"Follow ups"}:{color:"info",text:"ETC"},D=t=>t==="1"?{color:"success",text:"Done"}:{color:"error",text:"Not Done"},p=i({id:0,date:"",checked:"done",touchPoint:"Physical Meeting",remarks:"",veryNextStep:""});function B(){const t=new Date,o=t.getFullYear(),_=String(t.getMonth()+1).padStart(2,"0"),m=String(t.getDate()).padStart(2,"0");return`${o}-${_}-${m}`}const r=i(!1);X(r,t=>{V(),console.log(t)});const d=i(!1),I=t=>{p.value.id=t.id,p.value.date=B(),d.value=!d.value};return(t,o)=>{const _=z,m=L,$=ae("IconBtn");return Z(),ee(oe,null,[a(Y,{modelValue:r.value,"onUpdate:modelValue":o[0]||(o[0]=e=>r.value=e),color:"success",location:"top end",variant:"flat"},{default:l(()=>[x(" New Note added successfully ")]),_:1},8,["modelValue"]),a(R,{"interaction-type":p.value,"onUpdate:interactionType":o[1]||(o[1]=e=>p.value=e),isDialogVisible:d.value,"onUpdate:isDialogVisible":o[2]||(o[2]=e=>d.value=e),isSavedData:r.value,"onUpdate:isSavedData":o[3]||(o[3]=e=>r.value=e)},null,8,["interaction-type","isDialogVisible","isSavedData"]),a(h,{class:"mb-6",title:"Filters"},{default:l(()=>[a(G,null,{default:l(()=>[a(Q,null,{default:l(()=>[s("div",le,[s("div",se,[s("div",ie,[a(_,{modelValue:u.value,"onUpdate:modelValue":o[4]||(o[4]=e=>u.value=e),class:"me-3",density:"compact",placeholder:"Search",style:{"inline-size":"200px"}},null,8,["modelValue"]),a(m,{modelValue:f.value,"onUpdate:modelValue":o[5]||(o[5]=e=>f.value=e),items:M.value,"clear-icon":"tabler-x",clearable:"",placeholder:"Status",style:{"inline-size":"200px"}},null,8,["modelValue","items"]),a(m,{modelValue:v.value,"onUpdate:modelValue":o[6]||(o[6]=e=>v.value=e),items:A.value,"clear-icon":"tabler-x",clearable:"",placeholder:"Type",style:{"inline-size":"200px"}},null,8,["modelValue","items"])])])])]),_:1})]),_:1})]),_:1}),a(j),a(h,null,{default:l(()=>[a(b(H),{headers:y,items:b(E),"items-per-page":5,"expand-on-click":""},{"expanded-row":l(e=>[s("tr",ne,[s("td",{colspan:y.length},[s("p",ce," Guests: "+n(e.item.extendedProps.guests),1),s("p",pe," Location: "+n(e.item.extendedProps.location),1),s("p",null,"Description: "+n(e.item.extendedProps.description),1)],8,re)])]),"item.title":l(({item:e})=>[s("div",de,[s("div",me,[s("span",ue,n(e.title),1),s("small",null,n(new Date(e.start).toLocaleDateString()),1)])])]),"item.start":l(({item:e})=>[s("span",null,n(new Date(e.start).toLocaleDateString()),1)]),"item.end":l(({item:e})=>[s("span",null,n(new Date(e.end).toLocaleDateString()),1)]),"item.status":l(({item:e})=>[a(S,{color:w(e.extendedProps.calendar).color,class:"font-weight-medium",size:"small"},{default:l(()=>[x(n(w(e.extendedProps.calendar).text),1)]),_:2},1032,["color"])]),"item.done":l(({item:e})=>[a(S,{color:D(e.done).color,class:"font-weight-medium",size:"small"},{default:l(()=>[x(n(D(e.done).text),1)]),_:2},1032,["color"])]),"item.actions":l(({item:e})=>[s("div",fe,[a($,{onClick:_e=>I(e)},{default:l(()=>[a(te,{icon:"tabler-arrow-autofit-width"})]),_:2},1032,["onClick"])])]),_:1},8,["items"])]),_:1})],64)}}});export{ut as default};
