import{_ as S}from"./AppStepper.vue_vue_type_style_index_0_lang-c08c6f80.js";import{_ as V}from"./bank-details.vue_vue_type_script_setup_true_lang-b6b19cb1.js";import{_ as h}from"./discount-fees.vue_vue_type_script_setup_true_lang-769ebd05.js";import{_ as L}from"./email-mobile-details.vue_vue_type_script_setup_true_lang-8576578b.js";import{_ as R}from"./program-details.vue_vue_type_script_setup_true_lang-2c6db555.js";import{d as E,l as H,k as $,r as d,b6 as q,I as j,o as y,c as J,b as r,f as s,x as c,p as o,aI as m,y as z,z as M,e as W,a4 as _,a9 as O,h as x,F as G,aM as K}from"./index-75b434bc.js";import{u as Q}from"./useApi-776c55ea.js";import{c as X}from"./createUrl-149317bf.js";import{$ as Y}from"./api-0c1dfdf3.js";import{V as k}from"./VSnackbar-f21966b4.js";import{V as Z}from"./VRow-d6f20668.js";import{V as U}from"./VCol-35b3d337.js";import{V as T}from"./VCardText-76f31582.js";import{V as aa}from"./VForm-e46f5921.js";import{V as ea,a as v}from"./VWindowItem-04415d19.js";import{V as ta}from"./VCard-95c0d706.js";import"./VSlideGroup-3e745b05.js";import"./VSlideGroupItem-95742265.js";import"./AppTextField.vue_vue_type_script_setup_true_lang-93dc1e26.js";import"./form-2b416184.js";import"./VTextField-05e93cc8.js";/* empty css                   */import"./VCounter-3e4b236e.js";import"./transition-6afda34e.js";import"./VField-82993695.js";import"./easing-9f15041e.js";import"./VInput-b46333d7.js";import"./forwardRefs-8348545e.js";import"./index-97808f23.js";import"./AppSelect.vue_vue_type_script_setup_true_lang-32a0f469.js";import"./VSelect-54e8b29a.js";import"./VList-c7d4c8b4.js";import"./ssrBoot-7f224ca6.js";import"./createSimpleFunctional-4b3a0a39.js";import"./VAvatar-071125b9.js";import"./VImg-ba4b392a.js";import"./VDivider-fc890531.js";import"./dialog-transition-14fdab67.js";import"./VMenu-3f143933.js";import"./VOverlay-0b79a00d.js";import"./lazy-0bb5e457.js";import"./scopeId-ee2feb8e.js";import"./VCheckboxBtn-0f22f589.js";import"./VSelectionControl-e1264669.js";import"./VChip-e2ddd660.js";import"./AppDateTimePicker.vue_vue_type_style_index_0_lang-544577ba.js";import"./VFileInput-0c012a84.js";import"./index-2898f57d.js";/* empty css              */const oa={class:"d-flex flex-wrap gap-4 justify-sm-space-between justify-center mt-8"},ae=E({__name:"[id]",async setup(na){let D,f;const I=H(),F=[{title:"Program Details",icon:"tabler-file-description",subtitle:"Name/Anchor/Type"},{title:"Discount & Fee Details",icon:"tabler-user"},{title:"Email & Mobile Details",icon:"tabler-link"},{title:"Bank Details",icon:"tabler-link"}],C=$(),b=d(C.params.id),u=d(0);d(!1),d(!1);const p=d(!1),g=d(!1),P=d({message:void 0,statusCode:void 0}),A=d(""),{data:i,execute:w}=([D,f]=q(()=>Q(X(`/all/UI/program/${b.value}/details`))),D=await D,f(),D),a=d({anchor:i.value.data.anchor.name,programName:i.value.data.program.name,productType:i.value.data.program.program_type.name,productCode:i.value.data.program.code,eligibility:i.value.data.program.eligibility,totalProgramLimit:i.value.data.program.program_limit,programApprovalDate:i.value.data.program.approved_date,limitExpiryDate:i.value.data.program.limit_expiry_date,maximumLimitPerAccount:i.value.data.program.max_limit_per_account,requestAutoFinance:i.value.data.program.request_auto_finance,minimumFinancingDays:i.value.data.program.min_financing_days,maximumFinancingDays:i.value.data.program.max_financing_days,staleInvoicePeriod:i.value.data.program.stale_invoice_period,stopSupply:i.value.data.program.stop_supply,autoDebitAnchorForFinancedInvoices:i.value.data.program.auto_debit_anchor_financed_invoices,autoDebitAnchorForNonFinancedInvoices:i.value.data.program.auto_debit_anchor_non_financed_invoices,allowAnchorToChangeDueDate:i.value.data.program.anchor_can_change_due_date,maximumNoOfDaysForInvoiceDueDateExtensions:i.value.data.program.max_days_due_date_extension,noOfDaysLimitForChangingInvoiceDueDate:i.value.data.program.days_limit_for_due_date_change,defaultPaymentTerms:i.value.data.program.default_payment_terms,allowAnchorToChangePaymentTerms:i.value.data.program.anchor_can_change_payment_term,recourse:i.value.data.program.recourse,mandatoryForInvoiceAttachment:i.value.data.program.mandatory_invoice_attachment,dueDateCalculatedFrom:i.value.data.program.due_date_calculated_from,companyBoardResolutionAttachment:i.value.data.program.board_resolution_attachment,status:i.value.data.program.account_status,benchmarkTitle:i.value.data.program.discount_details[0].benchmark_title,currentBaseRate:i.value.data.program.discount_details[0].benchmark_rate,rawDiscounts:[],rawFees:[],anchorDetails:[],bankUserDetails:[],banksAsPerBank:[],taxOnDiscount:i.value.data.program.discount_details[0].tax_on_discount,limitBlockOverdueDays:i.value.data.program.discount_details[0].limit_block_overdue_days,penalDiscountOnPrinciple:i.value.data.program.discount_details[0].penal_discount_on_principle,discountOnPostedDiscountSpread:i.value.data.program.discount_details[0].discount_on_posted_discount_spread,discountOnPostedDiscount:i.value.data.program.discount_details[0].discount_on_posted_discount,discountType:i.value.data.program.discount_details[0].discount_type,gracePeriodDays:i.value.data.program.discount_details[0].grace_period,gracePeriodDiscount:i.value.data.program.discount_details[0].grace_period_discount,maturityHandlingOnHolidays:i.value.data.program.discount_details[0].maturity_handling_on_holidays}),l=i.value.data.program,B=async()=>{const n=new FormData;n.append("program_id",b.value),n.append("anchor",a.value.anchor),n.append("name",a.value.programName),n.append("productType",a.value.productType),n.append("code",a.value.productCode),n.append("eligibility",a.value.eligibility),n.append("program_limit",a.value.totalProgramLimit),n.append("approved_date",a.value.programApprovalDate),n.append("limit_expiry_date",a.value.limitExpiryDate),n.append("max_limit_per_account",a.value.maximumLimitPerAccount),n.append("request_auto_finance",a.value.requestAutoFinance),n.append("min_financing_days",a.value.minimumFinancingDays==null?"0":a.value.minimumFinancingDays),n.append("max_financing_days",a.value.maximumFinancingDays==null?"0":a.value.maximumFinancingDays),n.append("stale_invoice_period",a.value.staleInvoicePeriod),n.append("stop_supply",a.value.stopSupply??0),n.append("auto_debit_anchor_financed_invoices",a.value.autoDebitAnchorForFinancedInvoices),n.append("auto_debit_anchor_non_financed_invoices",a.value.autoDebitAnchorForNonFinancedInvoices),n.append("anchor_can_change_due_date",a.value.allowAnchorToChangeDueDate===!0?"1":"0"),n.append("max_days_due_date_extension",a.value.maximumNoOfDaysForInvoiceDueDateExtensions),n.append("days_limit_for_due_date_change",a.value.noOfDaysLimitForChangingInvoiceDueDate),n.append("default_payment_terms",a.value.defaultPaymentTerms),n.append("anchor_can_change_payment_term",a.value.allowAnchorToChangePaymentTerms),n.append("recourse",a.value.recourse),n.append("mandatory_invoice_attachment",a.value.mandatoryForInvoiceAttachment),n.append("due_date_calculated_from",a.value.dueDateCalculatedFrom),n.append("companyBoardResolutionAttachment",a.value.companyBoardResolutionAttachment),n.append("account_status",a.value.status),n.append("discounts",JSON.stringify(Object.values(a.value.rawDiscounts))),n.append("benchmark_title",a.value.benchmarkTitle),n.append("benchmark_rate",a.value.currentBaseRate),n.append("discount_posted",a.value.taxOnDiscount),n.append("limit_block_overdue_days",a.value.limitBlockOverdueDays),n.append("penal_discount_on_principle",a.value.penalDiscountOnPrinciple??0),n.append("discount_on_posted_discount_spread",a.value.discountOnPostedDiscountSpread??""),n.append("discount_on_posted_discount",a.value.discountOnPostedDiscount??""),n.append("discount_type",a.value.discountType),n.append("grace_period",a.value.gracePeriodDays),n.append("grace_period_discount",a.value.gracePeriodDiscount),n.append("maturity_handling_on_holidays",a.value.maturityHandlingOnHolidays),n.append("fees",JSON.stringify(Object.values(a.value.rawFees))),n.append("anchor_emails",JSON.stringify(Object.values(a.value.anchorDetails))),n.append("bank_user_emails",JSON.stringify(Object.values(a.value.bankUserDetails))),n.append("bank_names_as_per_banks",JSON.stringify(Object.values(a.value.banksAsPerBank))),await Y("/programs/update",{method:"POST",body:n,onResponseError({response:e}){P.value=e._data.message,p.value=!1,g.value=!0,A.value=JSON.stringify(P.value,null,2)}}),p.value=!0,setTimeout(async()=>await K(()=>{I.push({path:"/programs"})}),1e3)};return j(()=>{w()}),(n,e)=>{const N=S;return y(),J(G,null,[r(k,{modelValue:o(p),"onUpdate:modelValue":e[0]||(e[0]=t=>m(p)?p.value=t:null),color:"success",location:"top end",variant:"flat"},{default:s(()=>[c(" Program Updated Successfully ")]),_:1},8,["modelValue"]),r(k,{modelValue:o(g),"onUpdate:modelValue":e[1]||(e[1]=t=>m(g)?g.value=t:null),color:"error",location:"top end",variant:"flat"},{default:s(()=>[c(z(o(A)),1)]),_:1},8,["modelValue"]),r(ta,null,{default:s(()=>[r(Z,null,{default:s(()=>[r(U,{cols:"12",md:"4",class:M(n.$vuetify.display.smAndDown?"border-b":"border-e")},{default:s(()=>[r(T,null,{default:s(()=>[r(N,{"current-step":o(u),"onUpdate:currentStep":e[2]||(e[2]=t=>m(u)?u.value=t:null),direction:"vertical",items:F,"icon-size":"24",class:"stepper-icon-step-bg"},null,8,["current-step"])]),_:1})]),_:1},8,["class"]),r(U,{cols:"12",md:"8"},{default:s(()=>[r(T,null,{default:s(()=>[r(aa,null,{default:s(()=>[r(ea,{modelValue:o(u),"onUpdate:modelValue":e[48]||(e[48]=t=>m(u)?u.value=t:null),class:"disable-tab-transition"},{default:s(()=>[r(v,null,{default:s(()=>[r(R,{anchor:o(a).anchor,"onUpdate:anchor":e[3]||(e[3]=t=>o(a).anchor=t),programName:o(a).programName,"onUpdate:programName":e[4]||(e[4]=t=>o(a).programName=t),productType:o(a).productType,"onUpdate:productType":e[5]||(e[5]=t=>o(a).productType=t),productCode:o(a).productCode,"onUpdate:productCode":e[6]||(e[6]=t=>o(a).productCode=t),eligibility:o(a).eligibility,"onUpdate:eligibility":e[7]||(e[7]=t=>o(a).eligibility=t),totalProgramLimit:o(a).totalProgramLimit,"onUpdate:totalProgramLimit":e[8]||(e[8]=t=>o(a).totalProgramLimit=t),programApprovalDate:o(a).programApprovalDate,"onUpdate:programApprovalDate":e[9]||(e[9]=t=>o(a).programApprovalDate=t),limitExpiryDate:o(a).limitExpiryDate,"onUpdate:limitExpiryDate":e[10]||(e[10]=t=>o(a).limitExpiryDate=t),maximumLimitPerAccount:o(a).maximumLimitPerAccount,"onUpdate:maximumLimitPerAccount":e[11]||(e[11]=t=>o(a).maximumLimitPerAccount=t),requestAutoFinance:o(a).requestAutoFinance,"onUpdate:requestAutoFinance":e[12]||(e[12]=t=>o(a).requestAutoFinance=t),minimumFinancingDays:o(a).minimumFinancingDays,"onUpdate:minimumFinancingDays":e[13]||(e[13]=t=>o(a).minimumFinancingDays=t),maximumFinancingDays:o(a).maximumFinancingDays,"onUpdate:maximumFinancingDays":e[14]||(e[14]=t=>o(a).maximumFinancingDays=t),staleInvoicePeriod:o(a).staleInvoicePeriod,"onUpdate:staleInvoicePeriod":e[15]||(e[15]=t=>o(a).staleInvoicePeriod=t),stopSupply:o(a).stopSupply,"onUpdate:stopSupply":e[16]||(e[16]=t=>o(a).stopSupply=t),autoDebitAnchorForFinancedInvoices:o(a).autoDebitAnchorForFinancedInvoices,"onUpdate:autoDebitAnchorForFinancedInvoices":e[17]||(e[17]=t=>o(a).autoDebitAnchorForFinancedInvoices=t),autoDebitAnchorForNonFinancedInvoices:o(a).autoDebitAnchorForNonFinancedInvoices,"onUpdate:autoDebitAnchorForNonFinancedInvoices":e[18]||(e[18]=t=>o(a).autoDebitAnchorForNonFinancedInvoices=t),allowAnchorToChangeDueDate:o(a).allowAnchorToChangeDueDate,"onUpdate:allowAnchorToChangeDueDate":e[19]||(e[19]=t=>o(a).allowAnchorToChangeDueDate=t),maximumNoOfDaysForInvoiceDueDateExtensions:o(a).maximumNoOfDaysForInvoiceDueDateExtensions,"onUpdate:maximumNoOfDaysForInvoiceDueDateExtensions":e[20]||(e[20]=t=>o(a).maximumNoOfDaysForInvoiceDueDateExtensions=t),noOfDaysLimitForChangingInvoiceDueDate:o(a).noOfDaysLimitForChangingInvoiceDueDate,"onUpdate:noOfDaysLimitForChangingInvoiceDueDate":e[21]||(e[21]=t=>o(a).noOfDaysLimitForChangingInvoiceDueDate=t),defaultPaymentTerms:o(a).defaultPaymentTerms,"onUpdate:defaultPaymentTerms":e[22]||(e[22]=t=>o(a).defaultPaymentTerms=t),allowAnchorToChangePaymentTerms:o(a).allowAnchorToChangePaymentTerms,"onUpdate:allowAnchorToChangePaymentTerms":e[23]||(e[23]=t=>o(a).allowAnchorToChangePaymentTerms=t),recourse:o(a).recourse,"onUpdate:recourse":e[24]||(e[24]=t=>o(a).recourse=t),mandatoryForInvoiceAttachment:o(a).mandatoryForInvoiceAttachment,"onUpdate:mandatoryForInvoiceAttachment":e[25]||(e[25]=t=>o(a).mandatoryForInvoiceAttachment=t),dueDateCalculatedFrom:o(a).dueDateCalculatedFrom,"onUpdate:dueDateCalculatedFrom":e[26]||(e[26]=t=>o(a).dueDateCalculatedFrom=t),companyBoardResolutionAttachment:o(a).companyBoardResolutionAttachment,"onUpdate:companyBoardResolutionAttachment":e[27]||(e[27]=t=>o(a).companyBoardResolutionAttachment=t),status:o(a).status,"onUpdate:status":e[28]||(e[28]=t=>o(a).status=t)},null,8,["anchor","programName","productType","productCode","eligibility","totalProgramLimit","programApprovalDate","limitExpiryDate","maximumLimitPerAccount","requestAutoFinance","minimumFinancingDays","maximumFinancingDays","staleInvoicePeriod","stopSupply","autoDebitAnchorForFinancedInvoices","autoDebitAnchorForNonFinancedInvoices","allowAnchorToChangeDueDate","maximumNoOfDaysForInvoiceDueDateExtensions","noOfDaysLimitForChangingInvoiceDueDate","defaultPaymentTerms","allowAnchorToChangePaymentTerms","recourse","mandatoryForInvoiceAttachment","dueDateCalculatedFrom","companyBoardResolutionAttachment","status"])]),_:1}),r(v,null,{default:s(()=>[r(h,{benchmarkTitle:o(a).benchmarkTitle,"onUpdate:benchmarkTitle":e[29]||(e[29]=t=>o(a).benchmarkTitle=t),currentBaseRate:o(a).currentBaseRate,"onUpdate:currentBaseRate":e[30]||(e[30]=t=>o(a).currentBaseRate=t),taxOnDiscount:o(a).taxOnDiscount,"onUpdate:taxOnDiscount":e[31]||(e[31]=t=>o(a).taxOnDiscount=t),limitBlockOverdueDays:o(a).limitBlockOverdueDays,"onUpdate:limitBlockOverdueDays":e[32]||(e[32]=t=>o(a).limitBlockOverdueDays=t),penalDiscountOnPrinciple:o(a).penalDiscountOnPrinciple,"onUpdate:penalDiscountOnPrinciple":e[33]||(e[33]=t=>o(a).penalDiscountOnPrinciple=t),discountOnPostedDiscountSpread:o(a).discountOnPostedDiscountSpread,"onUpdate:discountOnPostedDiscountSpread":e[34]||(e[34]=t=>o(a).discountOnPostedDiscountSpread=t),discountOnPostedDiscount:o(a).discountOnPostedDiscount,"onUpdate:discountOnPostedDiscount":e[35]||(e[35]=t=>o(a).discountOnPostedDiscount=t),discountType:o(a).discountType,"onUpdate:discountType":e[36]||(e[36]=t=>o(a).discountType=t),gracePeriodDays:o(a).gracePeriodDays,"onUpdate:gracePeriodDays":e[37]||(e[37]=t=>o(a).gracePeriodDays=t),gracePeriodDiscount:o(a).gracePeriodDiscount,"onUpdate:gracePeriodDiscount":e[38]||(e[38]=t=>o(a).gracePeriodDiscount=t),maturityHandlingOnHolidays:o(a).maturityHandlingOnHolidays,"onUpdate:maturityHandlingOnHolidays":e[39]||(e[39]=t=>o(a).maturityHandlingOnHolidays=t),programsdata:o(l),"onUpdate:programsdata":e[40]||(e[40]=t=>m(l)?l.value=t:null),rawDiscounts:o(a).rawDiscounts,"onUpdate:rawDiscounts":e[41]||(e[41]=t=>o(a).rawDiscounts=t),rawFees:o(a).rawFees,"onUpdate:rawFees":e[42]||(e[42]=t=>o(a).rawFees=t)},null,8,["benchmarkTitle","currentBaseRate","taxOnDiscount","limitBlockOverdueDays","penalDiscountOnPrinciple","discountOnPostedDiscountSpread","discountOnPostedDiscount","discountType","gracePeriodDays","gracePeriodDiscount","maturityHandlingOnHolidays","programsdata","rawDiscounts","rawFees"])]),_:1}),r(v,null,{default:s(()=>[r(L,{programsdata:o(l),"onUpdate:programsdata":e[43]||(e[43]=t=>m(l)?l.value=t:null),anchorDetails:o(a).anchorDetails,"onUpdate:anchorDetails":e[44]||(e[44]=t=>o(a).anchorDetails=t),bankUserDetails:o(a).bankUserDetails,"onUpdate:bankUserDetails":e[45]||(e[45]=t=>o(a).bankUserDetails=t)},null,8,["programsdata","anchorDetails","bankUserDetails"])]),_:1}),r(v,null,{default:s(()=>[r(V,{programsdata:o(l),"onUpdate:programsdata":e[46]||(e[46]=t=>m(l)?l.value=t:null),banksAsPerBank:o(a).banksAsPerBank,"onUpdate:banksAsPerBank":e[47]||(e[47]=t=>o(a).banksAsPerBank=t)},null,8,["programsdata","banksAsPerBank"])]),_:1})]),_:1},8,["modelValue"]),W("div",oa,[r(_,{color:"secondary",variant:"tonal",disabled:o(u)===0,onClick:e[49]||(e[49]=t=>u.value--)},{default:s(()=>[r(O,{icon:"tabler-arrow-left",start:"",class:"flip-in-rtl"}),c(" Previous ")]),_:1},8,["disabled"]),F.length-1===o(u)?(y(),x(_,{key:0,color:"success",onClick:B},{default:s(()=>[c(" submit ")]),_:1})):(y(),x(_,{key:1,onClick:e[50]||(e[50]=t=>u.value++)},{default:s(()=>[c(" Next "),r(O,{icon:"tabler-arrow-right",end:"",class:"flip-in-rtl"})]),_:1}))])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})],64)}}});export{ae as default};
