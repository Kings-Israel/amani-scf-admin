import{r as m}from"./validators-db74a876.js";import{_ as ae}from"./AppTextField.vue_vue_type_script_setup_true_lang-298ad98d.js";import{_ as le}from"./AppSelect.vue_vue_type_script_setup_true_lang-67ce80f3.js";import{_ as te}from"./AppAutocomplete.vue_vue_type_script_setup_true_lang-2f5f92ce.js";import{d as ue,l as de,r,w as p,b6 as S,R as h,I as re,o as q,h as C,f as s,b as u,p as o,t as V,A as M}from"./index-5caaa453.js";import{u as U}from"./useApi-c9327355.js";import{c as E}from"./createUrl-3e678c2b.js";import{V as k}from"./VChip-49676f7d.js";import{a as D}from"./VList-4b1bf96e.js";import{V as f}from"./VCol-bcc5388c.js";import{V as se}from"./VRow-e44df108.js";const ge=ue({__name:"configuration",emits:["update:selectedCurrencyIds","update:selectedRateIds","update:selectedTaxIds","update:defaultCurrencyId","update:defaultRateId","update:defaultTaxId","update:offdays","update:languages","update:date_format","update:help_contact_number","update:help_contact_email"],async setup(oe,{emit:P}){let n,I;const i=P;de();const a=r({selectedCurrencyIds:r([]),selectedRateIds:r([]),selectedTaxIds:r([]),defaultCurrencyId:"",defaultRateId:"",defaultTaxId:"",offdays:"",languages:r([]),date_format:r(""),help_contact_number:"",help_contact_email:""});p(()=>a.value.selectedCurrencyIds,e=>i("update:selectedCurrencyIds",e)),p(()=>a.value.selectedRateIds,e=>i("update:selectedRateIds",e)),p(()=>a.value.selectedTaxIds,e=>i("update:selectedTaxIds",e)),p(()=>a.value.defaultCurrencyId,e=>i("update:defaultCurrencyId",e)),p(()=>a.value.defaultRateId,e=>i("update:defaultRateId",e)),p(()=>a.value.defaultTaxId,e=>i("update:defaultTaxId",e)),p(()=>a.value.offdays,e=>i("update:offdays",e)),p(()=>a.value.languages,e=>i("update:languages",e)),p(()=>a.value.date_format,e=>i("update:date_format",e)),p(()=>a.value.help_contact_number,e=>i("update:help_contact_number",e)),p(()=>a.value.help_contact_email,e=>i("update:help_contact_email",e));const B=[{code:"EN",name:"English"},{code:"SW",name:"Swahili"},{code:"FR",name:"French"}],g=r([]),_=r([]),b=r([]),R=r(""),Y=r(),F=r(150),x=r(1),T=r(),w=r(),N=["Saturday","Sunday","Friday - Saturday","Saturday - Sunday","2nd and 4th Saturday and all Sundays"],L=["DD/MM/YYYY (Ex. 12/02/2020)","MM/DD/YYYY (Ex. 02/12/2020)","DD-MM-YYYY (Ex. 12-02-2020)","MM-DD-YYYY (Ex. 02-12-2020)","DD-MMM-YYYY (Ex. 12-Feb-2020)","DD MMM YYYY (Ex. 02 Feb 2020)"],{data:W,execute:H}=([n,I]=S(()=>U(E("/UI/configurations/currencies",{query:{q:R,status:Y,page:x,itemsPerPage:F,sortBy:T,orderBy:w}}))),n=await n,I(),n),{data:O,execute:Q}=([n,I]=S(()=>U(E("/UI/configurations/base-rates",{query:{q:R,status:Y,page:x,sortBy:T,orderBy:w}}))),n=await n,I(),n),{data:j,execute:z}=([n,I]=S(()=>U(E("/UI/configurations/taxes",{query:{q:R,status:Y,page:x,itemsPerPage:F,sortBy:T,orderBy:w}}))),n=await n,I(),n),G=h(()=>!a.value.selectedCurrencyIds.length||!g.value.length?[]:g.value.filter(e=>a.value.selectedCurrencyIds.includes(e.id))),J=h(()=>!a.value.selectedRateIds.length||!_.value.length?[]:_.value.filter(e=>a.value.selectedRateIds.includes(e.id))),K=h(()=>!a.value.selectedTaxIds.length||!b.value.length?[]:b.value.filter(e=>a.value.selectedTaxIds.includes(e.id))),X=h(()=>j.value.data),Z=h(()=>O.value.data),ee=h(()=>W.value.data);return g.value=ee.value,_.value=Z.value,b.value=X.value,re(()=>{H(),Q(),z()}),r([]),r(""),r(""),r(""),(e,d)=>{const v=te,A=le,$=ae;return q(),C(se,null,{default:s(()=>[u(f,{cols:"12",md:"6"},{default:s(()=>[u(v,{modelValue:a.value.selectedCurrencyIds,"onUpdate:modelValue":d[0]||(d[0]=l=>a.value.selectedCurrencyIds=l),chips:"","closable-chips":"",multiple:"",items:g.value,"item-title":"name","item-value":"id",placeholder:"Search Default Currency",label:"Select Currency",rules:["requiredValidator"in e?e.requiredValidator:o(m)]},{chip:s(({props:l,item:t})=>[u(k,V(l,{text:t.raw.name}),null,16,["text"])]),item:s(({props:l,item:t})=>{var c;return[u(D,V(l,{title:(c=t==null?void 0:t.raw)==null?void 0:c.name}),null,16,["title"])]}),_:1},8,["modelValue","items","rules"])]),_:1}),a.value.selectedCurrencyIds.length?(q(),C(f,{key:0,cols:"12",md:"6"},{default:s(()=>[u(v,{modelValue:a.value.defaultCurrencyId,"onUpdate:modelValue":d[1]||(d[1]=l=>a.value.defaultCurrencyId=l),chips:"","closable-chips":"",items:o(G),"item-title":"name","item-value":"id",placeholder:"Default Currency",label:"Default Currency",rules:["requiredValidator"in e?e.requiredValidator:o(m)]},null,8,["modelValue","items","rules"])]),_:1})):M("",!0),u(f,{cols:"12",md:"6"},{default:s(()=>[u(v,{modelValue:a.value.selectedRateIds,"onUpdate:modelValue":d[2]||(d[2]=l=>a.value.selectedRateIds=l),chips:"","closable-chips":"",multiple:"",items:_.value,"item-title":"rate_code","item-value":"id",placeholder:"Search Rates",label:"Select Rates",rules:["requiredValidator"in e?e.requiredValidator:o(m)]},{chip:s(({props:l,item:t})=>[u(k,V(l,{text:t.raw.rate_code}),null,16,["text"])]),item:s(({props:l,item:t})=>{var c;return[u(D,V(l,{title:(c=t==null?void 0:t.raw)==null?void 0:c.rate_code}),null,16,["title"])]}),_:1},8,["modelValue","items","rules"])]),_:1}),a.value.selectedRateIds.length?(q(),C(f,{key:1,cols:"12",md:"6"},{default:s(()=>[u(v,{modelValue:a.value.defaultRateId,"onUpdate:modelValue":d[3]||(d[3]=l=>a.value.defaultRateId=l),chips:"","closable-chips":"",items:o(J),"item-title":"rate_code","item-value":"id",placeholder:"Default Rate",label:"Default Rate",rules:["requiredValidator"in e?e.requiredValidator:o(m)]},null,8,["modelValue","items","rules"])]),_:1})):M("",!0),u(f,{cols:"12",md:"6"},{default:s(()=>[u(v,{modelValue:a.value.selectedTaxIds,"onUpdate:modelValue":d[4]||(d[4]=l=>a.value.selectedTaxIds=l),chips:"","closable-chips":"",multiple:"",items:b.value,"item-title":"name","item-value":"id",placeholder:"Search Taxes",label:"Select Tax",rules:["requiredValidator"in e?e.requiredValidator:o(m)]},{chip:s(({props:l,item:t})=>[u(k,V(l,{text:t.raw.name}),null,16,["text"])]),item:s(({props:l,item:t})=>{var c,y;return[u(D,V(l,{title:`${(c=t==null?void 0:t.raw)==null?void 0:c.name} (${(y=t==null?void 0:t.raw)==null?void 0:y.percentage}%)`}),null,16,["title"])]}),_:1},8,["modelValue","items","rules"])]),_:1}),a.value.selectedTaxIds.length?(q(),C(f,{key:2,cols:"12",md:"6"},{default:s(()=>[u(v,{modelValue:a.value.defaultTaxId,"onUpdate:modelValue":d[5]||(d[5]=l=>a.value.defaultTaxId=l),chips:"","closable-chips":"",items:o(K),"item-title":"name","item-value":"id",placeholder:"Default Tax",label:"Default Tax",rules:["requiredValidator"in e?e.requiredValidator:o(m)]},{item:s(({props:l,item:t})=>{var c,y;return[u(D,V(l,{title:`${(c=t==null?void 0:t.raw)==null?void 0:c.name} (${(y=t==null?void 0:t.raw)==null?void 0:y.percentage}%)`}),null,16,["title"])]}),_:1},8,["modelValue","items","rules"])]),_:1})):M("",!0),u(f,{cols:"12",md:"6"},{default:s(()=>[u(A,{modelValue:a.value.offdays,"onUpdate:modelValue":d[6]||(d[6]=l=>a.value.offdays=l),items:N,placeholder:"Select Week Off",label:"Weekly Off",chips:"","closable-chips":"",rules:["requiredValidator"in e?e.requiredValidator:o(m)]},null,8,["modelValue","rules"])]),_:1}),u(f,{cols:"12",md:"6"},{default:s(()=>[u(v,{modelValue:a.value.languages,"onUpdate:modelValue":d[7]||(d[7]=l=>a.value.languages=l),chips:"","closable-chips":"",multiple:"",items:B,"item-title":"name","item-value":"id",placeholder:"Languages",label:"Languages",rules:["requiredValidator"in e?e.requiredValidator:o(m)]},null,8,["modelValue","rules"])]),_:1}),u(f,{cols:"12",md:"6"},{default:s(()=>[u(A,{modelValue:a.value.date_format,"onUpdate:modelValue":d[8]||(d[8]=l=>a.value.date_format=l),items:L,placeholder:"Date Format",label:"Select Date Format",chips:"","closable-chips":"",rules:["requiredValidator"in e?e.requiredValidator:o(m)]},null,8,["modelValue","rules"])]),_:1}),u(f,{cols:"12",md:"6"},{default:s(()=>[u($,{modelValue:a.value.help_contact_number,"onUpdate:modelValue":d[9]||(d[9]=l=>a.value.help_contact_number=l),label:"Help Page Contact Number",rules:["requiredValidator"in e?e.requiredValidator:o(m)]},null,8,["modelValue","rules"])]),_:1}),u(f,{cols:"12",md:"6"},{default:s(()=>[u($,{modelValue:a.value.help_contact_email,"onUpdate:modelValue":d[10]||(d[10]=l=>a.value.help_contact_email=l),label:"Help Page Contact Email",rules:["requiredValidator"in e?e.requiredValidator:o(m)]},null,8,["modelValue","rules"])]),_:1})]),_:1})}}});export{ge as _};
