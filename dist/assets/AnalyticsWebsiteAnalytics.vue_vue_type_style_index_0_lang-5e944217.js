import{q as W}from"./vue3-apexcharts-fbda9a54.js";import{d as R,ay as q,R as j,bb as v,o as _,h as w,f as t,b as e,x as y,e as a,y as n,p,c as C,j as L,F as T,a9 as k,a_ as N,b6 as B,aR as Q,aS as X,aN as Z}from"./index-5caaa453.js";import{b as ee,d as te,a as ae,V as z}from"./VCard-1a5b2c5e.js";import{V as A}from"./VRow-e44df108.js";import{V as c}from"./VCol-bcc5388c.js";import{V as M}from"./VChip-49676f7d.js";import{V}from"./VCardText-3b4da816.js";import{V as D}from"./VAvatar-3ee4c690.js";import{_ as E}from"./MoreBtn.vue_vue_type_script_setup_true_lang-9b51d22c.js";import{u as P}from"./useApi-c9327355.js";import{c as F}from"./createUrl-3e678c2b.js";import{V as K,a as Y,b as H,c as U}from"./VList-4b1bf96e.js";import{_ as G}from"./_plugin-vue_export-helper-c27b6911.js";import{V as O}from"./VDivider-d40713ce.js";import{s as se,V as oe,a as le}from"./VCarouselItem-40c6f0c4.js";const ne=a("div",{class:"mt-n4 me-n2"},null,-1),re={class:"d-flex align-center gap-2 mb-2 pb-1 flex-wrap"},ie={class:"text-4xl font-weight-medium"},ce=a("p",{class:"text-sm"}," You informed of last month ",-1),de={class:"border rounded mt-3 px-5 py-4"},ue={class:"d-flex align-center"},pe={class:"text-base font-weight-medium"},_e={class:"text-h4 my-3"},at=R({__name:"AnalyticsEarningReportsWeeklyOverview",props:{reports:{}},setup(m){const o=m,r=q(),s=o.reports,$=s.weeklydata.totalAmount.toLocaleString(),i=s.totaldiscount.toLocaleString(),h=s.totalDisbursed.toLocaleString(),x=s.totalDrawdown.toLocaleString(),f=[{data:s.weeklydata.data}],d=j(()=>{const u=r.current.value.colors,l=r.current.value.variables;return{chart:{parentHeightOffset:0,type:"bar",toolbar:{show:!1}},plotOptions:{bar:{barHeight:"60%",columnWidth:"55%",startingShape:"rounded",endingShape:"rounded",borderRadius:4,distributed:!0}},grid:{show:!1,padding:{top:-30,bottom:0,left:-10,right:-10}},colors:[`rgba(${v(u.primary)},${l["pressed-opacity"]})`,`rgba(${v(u.primary)},${l["pressed-opacity"]})`,`rgba(${v(u.primary)},${l["pressed-opacity"]})`,`rgba(${v(u.primary)},${l["pressed-opacity"]})`,`rgba(${v(u.primary)}, 1)`,`rgba(${v(u.primary)},${l["pressed-opacity"]})`,`rgba(${v(u.primary)},${l["pressed-opacity"]})`],dataLabels:{enabled:!1},legend:{show:!1},xaxis:{categories:["Mo","Tu","We","Th","Fr","Sa","Su"],axisBorder:{show:!1},axisTicks:{show:!1},labels:{style:{colors:`rgba(${v(u["on-surface"])},${l["disabled-opacity"]})`,fontSize:"13px",fontFamily:"Public Sans"}}},yaxis:{labels:{show:!1}},tooltip:{enabled:!1},responsive:[{breakpoint:1025,options:{chart:{height:199}}}]}}),b=[{color:"primary",icon:"tabler-currency-dollar",title:"Total Discounts & Fees",amount:`Ksh ${i}`,progress:"55"},{color:"info",icon:"tabler-chart-pie-2",title:"Total Requested",amount:`${x}`,progress:"25"},{color:"error",icon:"tabler-brand-paypal",title:"Total Disbursed",amount:`Ksh ${h}`,progress:"65"}];return(u,l)=>{const S=W;return _(),w(z,null,{default:t(()=>[e(ae,{class:"pb-sm-0"},{append:t(()=>[ne]),default:t(()=>[e(ee,null,{default:t(()=>[y("Earning Reports")]),_:1}),e(te,null,{default:t(()=>[y("Mothly Earnings Overview")]),_:1})]),_:1}),e(V,{class:"mt-sm-n6"},{default:t(()=>[e(A,null,{default:t(()=>[e(c,{cols:"12",sm:"5",class:"d-flex flex-column align-self-end"},{default:t(()=>[a("div",re,[a("h4",ie," Ksh "+n(p($)),1),e(M,{label:"",color:"success"},{default:t(()=>[y(" +4.2% ")]),_:1})]),ce]),_:1}),e(c,{cols:"12",sm:"7",class:"pt-0"},{default:t(()=>[e(S,{options:p(d),series:f,height:"190"},null,8,["options"])]),_:1})]),_:1}),a("div",de,[e(A,null,{default:t(()=>[(_(),C(T,null,L(b,g=>e(c,{key:g.title,cols:"12",sm:"4"},{default:t(()=>[a("div",ue,[e(D,{rounded:"",size:"26",color:g.color,variant:"tonal",class:"me-2"},{default:t(()=>[e(k,{size:"18",icon:g.icon},null,8,["icon"])]),_:2},1032,["color"]),a("h6",pe,n(g.title),1)]),a("h4",_e,n(g.amount),1),e(N,{"model-value":g.progress,color:g.color,height:"4",rounded:"","rounded-bar":""},null,8,["model-value","color"])]),_:2},1024)),64))]),_:1})])]),_:1})]),_:1})}}}),me={class:"mt-n4 me-n2"},he=R({__name:"AnalyticsSalesByCountries",async setup(m){let o,r;const{data:s,execute:$}=([o,r]=B(()=>P(F("/admin/reports/anchors"))),o=await o,r(),o),i=s.value.data;console.log(i);const h=[{title:"Refresh",value:"refresh"},{title:"Download",value:"download"},{title:"View All",value:"View All"}];return(x,f)=>{const d=E;return _(),w(z,{title:"Most Financed Anchors",subtitle:"By limit utilisation (%)"},{append:t(()=>[a("div",me,[e(d,{"menu-list":h})])]),default:t(()=>[e(V,null,{default:t(()=>[e(K,{class:"card-list"},{default:t(()=>[(_(!0),C(T,null,L(p(i),b=>(_(),w(Y,{key:b.id},{prepend:t(()=>[e(D,{size:"34",color:"secondary"})]),default:t(()=>[e(H,{class:"font-weight-medium"},{default:t(()=>[y(n(b.percentage_utilized),1)]),_:2},1024),e(U,{class:"text-disabled"},{default:t(()=>[y(n(b.programe_name),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})}}});const st=G(he,[["__scopeId","data-v-33f386a1"]]),fe=a("div",{class:"d-flex align-center justify-space-between"},[a("span",{class:"text-sm text-disabled"},"Invoice"),a("span",{class:"text-success"},"+18.2%")],-1),ve={class:"text-h4"},be={class:"d-flex align-center mb-3"},ge=a("span",null,"Active",-1),ye={class:"text-h5"},xe={class:"text-sm text-disabled"},we={class:"d-flex flex-column align-center justify-center h-100"},$e={class:"pa-1"},Ae=a("span",{class:"text-xs pa-1"},"VS",-1),Ve={class:"d-flex align-center justify-end mb-3"},Se=a("span",{class:"me-2"},"Pending",-1),Ie={class:"text-h5"},Ce={class:"text-sm text-disabled"},Le={class:"mt-6"},ot=R({__name:"AnalyticsSalesOverview",async setup(m){let o,r;const{data:s,execute:$}=([o,r]=B(()=>P(F("/admin/reports/invoices"))),o=await o,r(),o),i=s.value,h=i.totalInvoiceAmount.toLocaleString(),x=i.totalApprovedInvoiceAmount.toLocaleString(),f=i.totalInactiveInvoiceAmount.toLocaleString(),d=i.approvedPercentage.toFixed(2),b=i.inactivePercentage.toFixed(2);return(u,l)=>(_(),w(z,null,{default:t(()=>[e(V,{class:"pa-5"},{default:t(()=>[fe,a("h4",ve," Ksh "+n(p(h)),1)]),_:1}),e(V,{class:"pa-5"},{default:t(()=>[e(A,{"no-gutters":""},{default:t(()=>[e(c,{cols:"5"},{default:t(()=>[a("div",be,[e(D,{color:"info",variant:"tonal",size:24,rounded:"",class:"me-2"},{default:t(()=>[e(k,{size:"18",icon:"tabler-shopping-cart"})]),_:1}),ge]),a("h5",ye,n(p(d))+"% ",1),a("span",xe,n(p(x)),1)]),_:1}),e(c,{cols:"2"},{default:t(()=>[a("div",we,[e(O,{vertical:"",class:"mx-auto"}),a("div",$e,[e(M,{size:"20"},{default:t(()=>[Ae]),_:1})]),e(O,{vertical:"",class:"mx-auto"})])]),_:1}),e(c,{cols:"5",class:"text-end"},{default:t(()=>[a("div",Ve,[Se,e(D,{color:"primary",variant:"tonal",size:24,rounded:""},{default:t(()=>[e(k,{size:"18",icon:"tabler-link"})]),_:1})]),a("h5",Ie,n(p(b))+"% ",1),a("span",Ce,n(p(f)),1)]),_:1})]),_:1}),a("div",Le,[e(N,{"model-value":"80",color:"info",height:"8",rounded:""})])]),_:1})]),_:1}))}}),Te=m=>(Q("data-v-aa502d65"),m=m(),X(),m),ke={class:"mt-n4 me-n2"},De={class:"mb-6"},Re={class:"text-h1"},ze=Te(()=>a("p",null," Total Invoices ",-1)),Be=R({__name:"AnalyticsSupportTracker",props:{reports:{}},setup(m){const o=m,r=q(),s=o.reports,$=s.totalLastMonthCreated.toLocaleString();s.totalDisbursedLastMonth.toLocaleString();const i=s.totalDrawdownLastMonth.toLocaleString(),h=s.invoicesRequested.toLocaleString(),x=s.invoicesApproved.toLocaleString(),d=[s.disbursedPercentage.toFixed(2)],b=j(()=>{const l=r.current.value.colors,S=r.current.value.variables;return{labels:["Disbursed Invoices"],chart:{type:"radialBar"},plotOptions:{radialBar:{offsetY:10,startAngle:-140,endAngle:130,hollow:{size:"65%"},track:{background:l.surface,strokeWidth:"100%"},dataLabels:{name:{offsetY:-20,color:`rgba(${v(l["on-background"])},${S["disabled-opacity"]})`,fontSize:"13px",fontWeight:"400",fontFamily:"Public Sans"},value:{offsetY:10,color:`rgba(${v(l["on-background"])},${S["high-emphasis-opacity"]})`,fontSize:"38px",fontWeight:"400",fontFamily:"Public Sans"}}}},colors:[l.primary],fill:{type:"gradient",gradient:{shade:"dark",shadeIntensity:.5,gradientToColors:[l.primary],inverseColors:!0,opacityFrom:1,opacityTo:.6,stops:[30,70,100]}},stroke:{dashArray:10},grid:{padding:{top:-20,bottom:5}},states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}},responsive:[{breakpoint:960,options:{chart:{height:340}}}]}}),u=[{avatarColor:"primary",avatarIcon:"tabler-ticket",title:"Invoices Requested",subtitle:h},{avatarColor:"warning",avatarIcon:"tabler-circle-check",title:"Invoices Approved",subtitle:x},{avatarColor:"info",avatarIcon:"tabler-circle-check",title:"Total Disbursed",subtitle:i}];return(l,S)=>{const g=E,J=W;return _(),w(z,{title:"Request Tracker",subtitle:"Last 30 Days"},{append:t(()=>[a("div",ke,[e(g,{"menu-list":[{title:"View More",value:"View More"},{title:"Delete",value:"Delete"}]})])]),default:t(()=>[e(V,null,{default:t(()=>[e(A,null,{default:t(()=>[e(c,{cols:"12",md:"5",sm:"6",class:"mt-auto"},{default:t(()=>[a("div",De,[a("h4",Re,n(p($)),1),ze]),e(K,{class:"card-list"},{default:t(()=>[(_(),C(T,null,L(u,I=>e(Y,{key:I.title},{prepend:t(()=>[e(D,{rounded:"",size:"34",color:I.avatarColor,variant:"tonal"},{default:t(()=>[e(k,{icon:I.avatarIcon},null,8,["icon"])]),_:2},1032,["color"])]),default:t(()=>[e(H,{class:"font-weight-medium"},{default:t(()=>[y(n(I.title),1)]),_:2},1024),e(U,{class:"text-disabled"},{default:t(()=>[y(n(I.subtitle),1)]),_:2},1024)]),_:2},1024)),64))]),_:1})]),_:1}),e(c,{cols:"12",md:"7",sm:"6"},{default:t(()=>[e(J,{options:p(b),series:d,height:"340"},null,8,["options"])]),_:1})]),_:1})]),_:1})]),_:1})}}});const lt=G(Be,[["__scopeId","data-v-aa502d65"]]),Me=a("h5",{class:"text-h5 text-white mb-1"}," This Month Count ",-1),Pe=a("p",{class:"text-sm mb-0"}," This month's analytics ",-1),Fe={class:"font-weight-medium mb-1"},Oe=["href"],We=["src"],nt=R({__name:"AnalyticsWebsiteAnalytics",async setup(m){let o,r;const{data:s,execute:$}=([o,r]=B(()=>P(F("/admin/reports"))),o=await o,r(),o),i=[{slideImg:se,data:[{number:s.value.data.vendorCount,text:"Vendors",url:"/admin/vendors"},{number:s.value.data.anchorCount,text:"Programs",url:"/admin/programs"},{number:s.value.data.buyerCount,text:"Buyers",url:"/admin/buyers"},{number:s.value.data.leadsCount,text:"New Leads",url:"/admin/pipeline/leads/Leads"},{number:s.value.data.dealerCount,text:"Dealers",url:"/admin/dealers"}]}];return(h,x)=>(_(),w(z,{color:"primary"},{default:t(()=>[e(oe,{cycle:"",continuous:!1,"show-arrows":!1,"hide-delimiter-background":"","delimiter-icon":()=>("h"in h?h.h:p(Z))(p(k),{icon:"fa-circle",size:"10"}),height:"auto",class:"carousel-delimiter-top-end web-analytics-carousel"},{default:t(()=>[(_(),C(T,null,L(i,f=>e(le,{key:f.name},{default:t(()=>[e(V,null,{default:t(()=>[e(A,null,{default:t(()=>[e(c,{cols:"12"},{default:t(()=>[Me,Pe]),_:1}),e(c,{cols:"12",sm:"6",order:"2","order-sm":"1"},{default:t(()=>[e(A,null,{default:t(()=>[e(c,{cols:"12",class:"pb-0 pt-1"},{default:t(()=>[a("p",Fe,n(f.name),1)]),_:2},1024),(_(!0),C(T,null,L(f.data,d=>(_(),w(c,{key:d.number,cols:"6",class:"text-no-wrap pb-2"},{default:t(()=>[e(M,{label:"",variant:"flat",size:"default",color:"rgba(var(--v-theme-on-surface), 0.12)",class:"font-weight-medium text-white rounded me-2"},{default:t(()=>[y(n(d.number),1)]),_:2},1024),a("a",{href:d.url,class:"text-white"},[a("span",null,n(d.text),1)],8,Oe)]),_:2},1024))),128))]),_:2},1024)]),_:2},1024),e(c,{cols:"12",sm:"6",order:"1","order-sm":"2",class:"position-relative text-center"},{default:t(()=>[a("img",{src:f.slideImg,class:"card-website-analytics-img",style:{filter:"drop-shadow(0 4px 40px rgba(0, 0, 0, 40%))"}},null,8,We)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)),64))]),_:1},8,["delimiter-icon"])]),_:1}))}});export{lt as A,nt as _,ot as a,at as b,st as c};
