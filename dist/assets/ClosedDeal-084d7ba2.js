import{_ as P}from"./AppTextField.vue_vue_type_script_setup_true_lang-298ad98d.js";import{u as S}from"./useApi-c9327355.js";import{c as v}from"./createUrl-3e678c2b.js";import{V as z}from"./VCardText-3b4da816.js";import{V as E}from"./VDataTable-1493872b.js";import{V as y}from"./VChip-49676f7d.js";import{V as N}from"./VCard-1a5b2c5e.js";import{d as L,r as e,b6 as O,R,o as p,h as j,f as s,b as l,e as o,p as m,aI as q,c as g,F as I,j as Q,x as h,y as c}from"./index-5caaa453.js";import"./form-c9c578a3.js";import"./VTextField-604d91ff.js";/* empty css                   */import"./VCounter-728f7f8c.js";import"./transition-1886cce0.js";import"./VField-6b3808ed.js";import"./easing-9f15041e.js";import"./VInput-e87890b4.js";import"./forwardRefs-8348545e.js";import"./index-7dd1f5f0.js";import"./index-2898f57d.js";import"./createSimpleFunctional-9624028d.js";import"./VSelect-f0a443ce.js";import"./VList-4b1bf96e.js";import"./ssrBoot-2696bccc.js";import"./VAvatar-3ee4c690.js";import"./VImg-6009f8f0.js";import"./VDivider-d40713ce.js";import"./dialog-transition-1ae6ec72.js";import"./VMenu-97c48b4e.js";import"./VOverlay-da001e16.js";import"./lazy-9cd674a5.js";import"./scopeId-484eb469.js";import"./VCheckboxBtn-1d552264.js";import"./VSelectionControl-e0df1dbd.js";import"./VTable-f9bab7db.js";import"./filter-aecd5fc1.js";const $={class:"d-flex flex-wrap justify-space-between align-center gap-4"},G=o("h5",{class:"text-h5 font-weight-medium"}," Closed Deals ",-1),H=["colspan"],J={class:"my-1"},K={class:"my-1"},Pe=L({__name:"ClosedDeal",async setup(M){let i,d;const n=e(""),V=e(),w=e(),C=e(),k=e(10),D=e(1),T=e(),b=e(),u=[{title:"",key:"data-table-expand"},{title:"Name",key:"name"},{title:"Company",key:"company"},{title:"Product Type",key:"product"},{title:"Stage",key:"stage"},{title:"Creation Date",key:"createdAt"}],{data:A,execute:B}=([i,d]=O(()=>S(v("/get/UI/closed/deals/reports",{query:{q:n,status:C,plan:w,role:V,itemsPerPage:k,page:D,sortBy:T,orderBy:b}}))),i=await i,d(),i),F=R(()=>A.value);B();const f=t=>t==="Contact"?{color:"primary",text:"Contact"}:t==="Lead"?{color:"success",text:"Lead"}:t==="Emailing Documents"?{color:"info",text:"Emailing Documents"}:t==="Opportunity"?{color:"success",text:"Opportunity"}:{color:"error",text:"Error"},_=t=>t==="dealer financing"?{text:"Dealer Financing",color:"primary"}:{text:"Vendor Financing",color:"success"};return(t,x)=>{const U=P;return p(),j(N,null,{default:s(()=>[l(z,null,{default:s(()=>[o("div",$,[G,o("div",null,[l(U,{modelValue:m(n),"onUpdate:modelValue":x[0]||(x[0]=r=>q(n)?n.value=r:null),placeholder:"Search",style:{"max-inline-size":"200px","min-inline-size":"200px"}},null,8,["modelValue"])])])]),_:1}),l(m(E),{headers:u,items:m(F),"items-per-page":5,"expand-on-click":""},{"expanded-row":s(r=>[(p(!0),g(I,null,Q(r.item.activities,a=>(p(),g("tr",{key:a.id,class:"v-data-table__tr"},[o("td",{colspan:u.length},[o("p",J,[l(y,{color:f(a.section).color,class:"font-weight-medium",size:"small"},{default:s(()=>[h(c(f(a.section).text),1)]),_:2},1032,["color"])]),o("p",K," Turn Around Time: "+c(a.tatDays),1),o("p",null,"Occurred at: "+c(a.createdAt),1)],8,H)]))),128))]),"item.product":s(({item:r})=>[l(y,{color:_(r.product).color,class:"font-weight-medium",size:"small"},{default:s(()=>[h(c(_(r.product).text),1)]),_:2},1032,["color"])]),_:1},8,["items"])]),_:1})}}});export{Pe as default};
