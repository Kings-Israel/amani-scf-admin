import{a as Z,p as ee}from"./formatters-92bc75d8.js";import{_ as te}from"./AppTextField.vue_vue_type_script_setup_true_lang-93dc1e26.js";import{_ as le}from"./AppSelect.vue_vue_type_script_setup_true_lang-32a0f469.js";import{p as ae}from"./paginationMeta-4ad053a4.js";import{u as se}from"./useApi-776c55ea.js";import{c as oe}from"./createUrl-149317bf.js";import{$ as ie}from"./api-0c1dfdf3.js";import{V as D}from"./VRow-d6f20668.js";import{V as w}from"./VCardText-76f31582.js";import{V as k}from"./VCol-35b3d337.js";import{V as C}from"./VCard-95c0d706.js";import{V as re}from"./VSpacer-6f8dff92.js";import{d as ne,r as n,b6 as ce,R as N,o as v,c as P,e as o,b as e,f as l,F as ue,j as pe,p as s,aI as f,a4 as _,x as p,h as E,y as r,a9 as d,t as W,a as j,z as de}from"./index-75b434bc.js";import{V as F}from"./VDivider-fc890531.js";import{V as me}from"./VDataTableServer-e9f6b4ac.js";import{V as S}from"./VAvatar-071125b9.js";import{V as fe}from"./VImg-ba4b392a.js";import{V as ve}from"./VChip-e2ddd660.js";import{V as _e}from"./VMenu-3f143933.js";import{V as Ve,a as z,b as A}from"./VList-c7d4c8b4.js";import{V as ge}from"./VPagination-2b54b87a.js";import"./helpers-681711bc.js";import"./form-2b416184.js";import"./VTextField-05e93cc8.js";/* empty css                   */import"./VCounter-3e4b236e.js";import"./transition-6afda34e.js";import"./VField-82993695.js";import"./easing-9f15041e.js";import"./VInput-b46333d7.js";import"./forwardRefs-8348545e.js";import"./index-97808f23.js";import"./VSelect-54e8b29a.js";import"./dialog-transition-14fdab67.js";import"./VOverlay-0b79a00d.js";import"./lazy-0bb5e457.js";import"./scopeId-ee2feb8e.js";import"./VCheckboxBtn-0f22f589.js";import"./VSelectionControl-e1264669.js";import"./index-2898f57d.js";/* empty css              */import"./createSimpleFunctional-4b3a0a39.js";import"./VDataTable-c3cccdda.js";import"./VTable-de2d1039.js";import"./filter-3bfef89c.js";import"./ssrBoot-7f224ca6.js";const xe={class:"d-flex mb-6"},he={class:"d-flex justify-space-between"},be={class:"d-flex flex-column gap-y-1"},ye={class:"text-body-1 text-medium-emphasis"},ke={class:"text-h4"},Ue={class:"text-sm"},we={class:"me-3 d-flex gap-3"},Ce={class:"app-user-search-filter d-flex align-center flex-wrap gap-4"},Pe={style:{"inline-size":"10rem"}},Se={class:"d-flex align-center"},ze={key:1},Ae={class:"d-flex flex-column"},Be={class:"text-base"},Le={class:"text-sm text-medium-emphasis"},Re={class:"d-flex align-center gap-4"},Ie={class:"text-capitalize"},Te={class:"text-capitalize font-weight-medium"},$e={class:"d-flex align-center justify-sm-space-between justify-center flex-wrap gap-3 pa-5 pt-3"},De={class:"text-sm text-disabled mb-0"},Bt=ne({__name:"index",async setup(Ne){let V,B;const g=n(""),x=n(),h=n(),b=n(),c=n(50),u=n(1),L=n(),R=n(),M=i=>{var a,m;u.value=i.page,L.value=(a=i.sortBy[0])==null?void 0:a.key,R.value=(m=i.sortBy[0])==null?void 0:m.order},q=[{title:"User",key:"user"},{title:"Role",key:"role"},{title:"Plan",key:"plan"},{title:"Billing",key:"billing"},{title:"Status",key:"status"},{title:"Actions",key:"actions",sortable:!1}],{data:I,execute:O}=([V,B]=ce(()=>se(oe("/users/UI/list",{query:{q:g,status:b,plan:h,role:x,itemsPerPage:c,page:u,sortBy:L,orderBy:R}}))),V=await V,B(),V),Q=N(()=>I.value.users),y=N(()=>I.value.totalUsers),G=[{title:"Pending",value:"pending"},{title:"Active",value:"active"},{title:"Inactive",value:"inactive"}],H=i=>{const a=i.toLowerCase();return a==="pending"?"warning":a==="active"?"success":a==="inactive"?"secondary":"primary"},J=n(!1),T=async i=>{await ie(`/apps/users/${i}`,{method:"DELETE"}),O()},K=n([{title:"Session",value:"21,459",change:29,desc:"Total Users",icon:"tabler-user",iconColor:"primary"},{title:"Paid Users",value:"4,567",change:18,desc:"Last Week Analytics",icon:"tabler-user-plus",iconColor:"error"},{title:"Active Users",value:"19,860",change:-14,desc:"Last Week Analytics",icon:"tabler-user-check",iconColor:"success"},{title:"Pending Users",value:"237",change:42,desc:"Last Week Analytics",icon:"tabler-user-exclamation",iconColor:"warning"}]);return(i,a)=>{const m=le,X=te,Y=j("RouterLink"),$=j("IconBtn");return v(),P("section",null,[o("div",xe,[e(D,null,{default:l(()=>[(v(!0),P(ue,null,pe(s(K),(t,U)=>(v(),E(k,{key:U,cols:"12",md:"3",sm:"6"},{default:l(()=>[e(C,null,{default:l(()=>[e(w,null,{default:l(()=>[o("div",he,[o("div",be,[o("span",ye,r(t.title),1),o("div",null,[o("h4",ke,[p(r(t.value)+" ",1),o("span",{class:de([t.change>0?"text-success":"text-error","text-base"])},"("+r(("prefixWithPlus"in i?i.prefixWithPlus:s(ee))(t.change))+"%)",3)])]),o("span",Ue,r(t.desc),1)]),e(S,{color:t.iconColor,rounded:"",size:"38",variant:"tonal"},{default:l(()=>[e(d,{icon:t.icon,size:"26"},null,8,["icon"])]),_:2},1032,["color"])])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),e(C,{class:"mb-6",title:"Filters"},{default:l(()=>[e(w,null,{default:l(()=>[e(D,null,{default:l(()=>[e(k,{cols:"12",sm:"4"},{default:l(()=>[e(m,{modelValue:s(x),"onUpdate:modelValue":a[0]||(a[0]=t=>f(x)?x.value=t:null),items:i.roles,"clear-icon":"tabler-x",clearable:"",label:"Select Role",placeholder:"Select Role"},null,8,["modelValue","items"])]),_:1}),e(k,{cols:"12",sm:"4"},{default:l(()=>[e(m,{modelValue:s(h),"onUpdate:modelValue":a[1]||(a[1]=t=>f(h)?h.value=t:null),items:i.plans,"clear-icon":"tabler-x",clearable:"",label:"Select Plan",placeholder:"Select Plan"},null,8,["modelValue","items"])]),_:1}),e(k,{cols:"12",sm:"4"},{default:l(()=>[e(m,{modelValue:s(b),"onUpdate:modelValue":a[2]||(a[2]=t=>f(b)?b.value=t:null),items:G,"clear-icon":"tabler-x",clearable:"",label:"Select Status",placeholder:"Select Status"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),e(C,null,{default:l(()=>[e(w,{class:"d-flex flex-wrap py-4 gap-4"},{default:l(()=>[o("div",we,[e(m,{items:[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"All"}],"model-value":s(c),style:{"inline-size":"6.25rem"},"onUpdate:modelValue":a[3]||(a[3]=t=>c.value=parseInt(t,10))},null,8,["model-value"])]),e(re),o("div",Ce,[o("div",Pe,[e(X,{modelValue:s(g),"onUpdate:modelValue":a[4]||(a[4]=t=>f(g)?g.value=t:null),density:"compact",placeholder:"Search"},null,8,["modelValue"])]),e(_,{color:"secondary","prepend-icon":"tabler-screen-share",variant:"tonal"},{default:l(()=>[p(" Export ")]),_:1}),e(_,{"prepend-icon":"tabler-plus",onClick:a[5]||(a[5]=t=>J.value=!0)},{default:l(()=>[p(" Add New User ")]),_:1})])]),_:1}),e(F),e(s(me),{"items-per-page":s(c),"onUpdate:itemsPerPage":a[7]||(a[7]=t=>f(c)?c.value=t:null),page:s(u),"onUpdate:page":a[8]||(a[8]=t=>f(u)?u.value=t:null),headers:q,items:s(Q),"items-length":s(y),class:"text-no-wrap","onUpdate:options":M},{"item.user":l(({item:t})=>[o("div",Se,[e(S,{class:"me-3",color:"primary",size:"34",variant:"tonal"},{default:l(()=>[t.avatar?(v(),E(fe,{key:0,src:t.avatar},null,8,["src"])):(v(),P("span",ze,r(("avatarText"in i?i.avatarText:s(Z))(t.fullName)),1))]),_:2},1024),o("div",Ae,[o("h6",Be,[e(Y,{to:{name:"apps-user-view-id",params:{id:t.id}},class:"font-weight-medium text-link"},{default:l(()=>[p(r(t.fullName),1)]),_:2},1032,["to"])]),o("span",Le,r(t.email),1)])])]),"item.role":l(({item:t})=>[o("div",Re,[e(S,{color:i.resolveUserRoleVariant(t.role).color,size:30,variant:"tonal"},{default:l(()=>[e(d,{icon:i.resolveUserRoleVariant(t.role).icon,size:20},null,8,["icon"])]),_:2},1032,["color"]),o("span",Ie,r(t.role)+" rolessss",1)])]),"item.plan":l(({item:t})=>[o("span",Te,r(t.currentPlan),1)]),"item.status":l(({item:t})=>[e(ve,{color:H(t.status),class:"text-capitalize",label:"",size:"small"},{default:l(()=>[p(r(t.status),1)]),_:2},1032,["color"])]),"item.actions":l(({item:t})=>[e($,{onClick:U=>T(t.id)},{default:l(()=>[e(d,{icon:"tabler-trash"})]),_:2},1032,["onClick"]),e($,null,{default:l(()=>[e(d,{icon:"tabler-edit"})]),_:1}),e(_,{color:"medium-emphasis",icon:"",size:"small",variant:"text"},{default:l(()=>[e(d,{icon:"tabler-dots-vertical",size:"24"}),e(_e,{activator:"parent"},{default:l(()=>[e(Ve,null,{default:l(()=>[e(z,{to:{name:"apps-user-view-id",params:{id:t.id}}},{prepend:l(()=>[e(d,{icon:"tabler-eye"})]),default:l(()=>[e(A,null,{default:l(()=>[p("View")]),_:1})]),_:2},1032,["to"]),e(z,{link:""},{prepend:l(()=>[e(d,{icon:"tabler-pencil"})]),default:l(()=>[e(A,null,{default:l(()=>[p("Edit")]),_:1})]),_:1}),e(z,{onClick:U=>T(t.id)},{prepend:l(()=>[e(d,{icon:"tabler-trash"})]),default:l(()=>[e(A,null,{default:l(()=>[p("Delete")]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),bottom:l(()=>[e(F),o("div",$e,[o("p",De,r(s(ae)({page:s(u),itemsPerPage:s(c)},s(y))),1),e(ge,{modelValue:s(u),"onUpdate:modelValue":a[6]||(a[6]=t=>f(u)?u.value=t:null),length:Math.ceil(s(y)/s(c)),"total-visible":i.$vuetify.display.xs?1:Math.ceil(s(y)/s(c))},{prev:l(t=>[e(_,W({color:"default"},t,{variant:"tonal"}),null,16)]),next:l(t=>[e(_,W({color:"default"},t,{variant:"tonal"}),null,16)]),_:1},8,["modelValue","length","total-visible"])])]),_:1},8,["items-per-page","page","items","items-length"])]),_:1})])}}});export{Bt as default};
