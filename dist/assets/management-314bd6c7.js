import{_ as ue}from"./AppDateTimePicker.vue_vue_type_style_index_0_lang-56955411.js";import{_ as Te}from"./AppSelect.vue_vue_type_script_setup_true_lang-67ce80f3.js";import{_ as at}from"./AppAutocomplete.vue_vue_type_script_setup_true_lang-2f5f92ce.js";import{_ as de}from"./AppTextField.vue_vue_type_script_setup_true_lang-298ad98d.js";import{r as Q}from"./validators-db74a876.js";import{d as pe,r as i,w as me,b4 as Ie,o as D,h as P,f as o,b as t,p as a,aI as u,a$ as Ee,a4 as q,x as c,aM as te,b6 as ne,R as z,c as ee,e as r,A as T,y as $,K as ke,t as j,a9 as he,a as ot}from"./index-5caaa453.js";import{_ as Be}from"./AppDrawerHeaderSection.vue_vue_type_script_setup_true_lang-be308735.js";import{P as ze}from"./vue3-perfect-scrollbar.esm-ba9c318d.js";import{V as ce}from"./VCard-1a5b2c5e.js";import{V as le}from"./VCardText-3b4da816.js";import{V as Me}from"./VForm-ed4803d2.js";import{V as Fe}from"./VRow-e44df108.js";import{V as C}from"./VCol-bcc5388c.js";import{V as je}from"./VFileInput-cab9861f.js";import{V as Le}from"./VTextarea-92d5209d.js";import{V as Xe}from"./VNavigationDrawer-edab2f77.js";import{p as De}from"./paginationMeta-4ad053a4.js";import{F as Ue}from"./FileSaver.min-162ac943.js";import{X as I}from"./xlsx-d63df831.js";import{u as se}from"./useApi-c9327355.js";import{c as re}from"./createUrl-3e678c2b.js";import{$ as M}from"./api-44dd0fa9.js";import{V as nt,a as Ae}from"./VTabs-423f31b3.js";import{V as ie}from"./VDivider-d40713ce.js";import{V as st,a as Ce}from"./VWindowItem-1e406499.js";import{V as Se}from"./VSpacer-a56288e5.js";import{V as Ne}from"./VDataTableServer-64dc84b4.js";import{V as qe}from"./VChip-49676f7d.js";import{V as $e}from"./VMenu-97c48b4e.js";import{V as Pe,a as L}from"./VList-4b1bf96e.js";import{V as Re}from"./VPagination-4169e3c5.js";import"./VField-6b3808ed.js";import"./form-c9c578a3.js";import"./easing-9f15041e.js";import"./VInput-e87890b4.js";import"./transition-1886cce0.js";import"./VSelect-f0a443ce.js";import"./VTextField-604d91ff.js";/* empty css                   */import"./VCounter-728f7f8c.js";import"./forwardRefs-8348545e.js";import"./index-7dd1f5f0.js";import"./dialog-transition-1ae6ec72.js";import"./VOverlay-da001e16.js";import"./lazy-9cd674a5.js";import"./scopeId-484eb469.js";import"./VCheckboxBtn-1d552264.js";import"./VSelectionControl-e0df1dbd.js";import"./filter-aecd5fc1.js";import"./helpers-681711bc.js";import"./createSimpleFunctional-9624028d.js";import"./VAvatar-3ee4c690.js";import"./VImg-6009f8f0.js";/* empty css              */import"./ssrBoot-2696bccc.js";import"./index-2898f57d.js";import"./VSlideGroup-1fe3f4d3.js";import"./VDataTable-1493872b.js";import"./VTable-f9bab7db.js";const Oe=[{title:"Requested By",key:"user",sortable:!1},{title:"Lead Name",key:"lead_name"},{title:"Activity",key:"activity"},{title:"Amount",key:"amount"},{title:"Approval Date",key:"approved_date",sortable:!1},{title:"Request Date",key:"date",sortable:!1},{title:"Status",key:"status"},{title:"Actions",key:"actions",sortable:!1}],rt=[{title:"Lead Name",key:"lead_name"},{title:"Amount",key:"amount"},{title:"Approval Date",key:"approval_date",sortable:!1},{title:"Request Date",key:"date",sortable:!1},{title:"Status",key:"status"},{title:"Actions",key:"actions",sortable:!1}],it=pe({__name:"NewExpense",props:{isDrawerOpen:{type:Boolean}},emits:["update:isDrawerOpen","userData"],setup(G,{emit:_}){const R=G,V=_,m=i(),S=i(!0);me(m,()=>{S.value=!m.value[0]});const X=Ie("userData"),O=i(!1),w=i(),b=i(""),y=i(""),k=i(""),v=i(""),h=i(""),p=()=>{V("update:isDrawerOpen",!1),te(()=>{var d,s;(d=w.value)==null||d.reset(),(s=w.value)==null||s.resetValidation()})},f=()=>{var d;(d=w.value)==null||d.validate().then(({valid:s})=>{s&&(V("userData",{leadName:b.value,file:m.value!==void 0?m.value[0]:null,activity:k.value,requestDate:y.value,amount:v.value,notes:h.value,user_id:X.value.id}),V("update:isDrawerOpen",!1),te(()=>{var N,U;(N=w.value)==null||N.reset(),(U=w.value)==null||U.resetValidation()}))})},E=d=>{V("update:isDrawerOpen",d)};return(d,s)=>{const N=Be,U=de,H=Te,g=ue;return D(),P(Xe,{"model-value":R.isDrawerOpen,width:400,class:"scrollable-content",location:"end",temporary:"","onUpdate:modelValue":E},{default:o(()=>[t(N,{title:"New Expense",onCancel:p}),t(a(ze),{options:{wheelPropagation:!1}},{default:o(()=>[t(ce,{flat:""},{default:o(()=>[t(le,null,{default:o(()=>[t(a(Me),{ref_key:"refForm",ref:w,modelValue:a(O),"onUpdate:modelValue":s[6]||(s[6]=x=>u(O)?O.value=x:null),onSubmit:Ee(f,["prevent"])},{default:o(()=>[t(Fe,null,{default:o(()=>[t(C,{cols:"12"},{default:o(()=>[t(U,{modelValue:a(b),"onUpdate:modelValue":s[0]||(s[0]=x=>u(b)?b.value=x:null),rules:["requiredValidator"in d?d.requiredValidator:a(Q)],label:"Lead Name",placeholder:"Lead Name"},null,8,["modelValue","rules"])]),_:1}),t(C,{cols:"12"},{default:o(()=>[t(H,{modelValue:a(k),"onUpdate:modelValue":s[1]||(s[1]=x=>u(k)?k.value=x:null),items:["Airtime","Accomodation","Travel","Internet"],rules:["requiredValidator"in d?d.requiredValidator:a(Q)],label:"Select Expense Purpose",placeholder:"Accomodation"},null,8,["modelValue","rules"])]),_:1}),t(C,{cols:"12"},{default:o(()=>[t(g,{modelValue:a(y),"onUpdate:modelValue":s[2]||(s[2]=x=>u(y)?y.value=x:null),"append-inner-icon":"tabler-calendar-due",label:"Date",placeholder:"Select Date"},null,8,["modelValue"])]),_:1}),t(C,{cols:"12"},{default:o(()=>[t(je,{modelValue:a(m),"onUpdate:modelValue":s[3]||(s[3]=x=>u(m)?m.value=x:null),loading:a(S),"append-inner-icon":"tabler-paperclip",color:"primary",label:"Attatch Document","prepend-icon":""},null,8,["modelValue","loading"])]),_:1}),t(C,{cols:"12"},{default:o(()=>[t(U,{modelValue:a(v),"onUpdate:modelValue":s[4]||(s[4]=x=>u(v)?v.value=x:null),rules:["requiredValidator"in d?d.requiredValidator:a(Q)],label:"Amount",placeholder:"Amount",type:"number"},null,8,["modelValue","rules"])]),_:1}),t(C,{cols:"12"},{default:o(()=>[t(Le,{modelValue:a(h),"onUpdate:modelValue":s[5]||(s[5]=x=>u(h)?h.value=x:null),"auto-grow":"",label:"Notes",placeholder:"Any Additional Details",rows:"2"},null,8,["modelValue"])]),_:1}),t(C,{cols:"12"},{default:o(()=>[t(q,{class:"me-3",type:"submit"},{default:o(()=>[c(" Submit ")]),_:1}),t(q,{color:"secondary",type:"reset",variant:"outlined",onClick:p},{default:o(()=>[c(" Cancel ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"])}}}),ut=pe({__name:"NewReimbursement",props:{isDrawerOpen:{type:Boolean}},emits:["update:isDrawerOpen","userData"],setup(G,{emit:_}){const R=G,V=_,m=i(),S=i(!0);me(m,()=>{S.value=!m.value[0]});const X=Ie("userData"),O=i(!1),w=i(),b=i(""),y=i(""),k=i(""),v=i(""),h=i(""),p=()=>{V("update:isDrawerOpen",!1),te(()=>{var d,s;(d=w.value)==null||d.reset(),(s=w.value)==null||s.resetValidation()})},f=()=>{var d;(d=w.value)==null||d.validate().then(({valid:s})=>{s&&(V("userData",{leadName:b.value,file:m.value!==void 0?m.value[0]:null,activity:k.value,requestDate:y.value,amount:v.value,notes:h.value,user_id:X.value.id}),V("update:isDrawerOpen",!1),te(()=>{var N,U;(N=w.value)==null||N.reset(),(U=w.value)==null||U.resetValidation()}))})},E=d=>{V("update:isDrawerOpen",d)};return(d,s)=>{const N=Be,U=de,H=ue;return D(),P(Xe,{"model-value":R.isDrawerOpen,width:400,class:"scrollable-content",location:"end",temporary:"","onUpdate:modelValue":E},{default:o(()=>[t(N,{title:"New Reimbursement",onCancel:p}),t(a(ze),{options:{wheelPropagation:!1}},{default:o(()=>[t(ce,{flat:""},{default:o(()=>[t(le,null,{default:o(()=>[t(a(Me),{ref_key:"refForm",ref:w,modelValue:a(O),"onUpdate:modelValue":s[5]||(s[5]=g=>u(O)?O.value=g:null),onSubmit:Ee(f,["prevent"])},{default:o(()=>[t(Fe,null,{default:o(()=>[t(C,{cols:"12"},{default:o(()=>[t(U,{modelValue:a(b),"onUpdate:modelValue":s[0]||(s[0]=g=>u(b)?b.value=g:null),rules:["requiredValidator"in d?d.requiredValidator:a(Q)],label:"Lead Name",placeholder:"Lead Name"},null,8,["modelValue","rules"])]),_:1}),t(C,{cols:"12"},{default:o(()=>[t(H,{modelValue:a(y),"onUpdate:modelValue":s[1]||(s[1]=g=>u(y)?y.value=g:null),"append-inner-icon":"tabler-calendar-due",label:"Date",placeholder:"Select Date"},null,8,["modelValue"])]),_:1}),t(C,{cols:"12"},{default:o(()=>[t(je,{modelValue:a(m),"onUpdate:modelValue":s[2]||(s[2]=g=>u(m)?m.value=g:null),loading:a(S),"append-inner-icon":"tabler-paperclip",color:"primary",label:"Attatch Document","prepend-icon":""},null,8,["modelValue","loading"])]),_:1}),t(C,{cols:"12"},{default:o(()=>[t(U,{modelValue:a(v),"onUpdate:modelValue":s[3]||(s[3]=g=>u(v)?v.value=g:null),rules:["requiredValidator"in d?d.requiredValidator:a(Q)],label:"Amount",placeholder:"Amount",type:"number"},null,8,["modelValue","rules"])]),_:1}),t(C,{cols:"12"},{default:o(()=>[t(Le,{modelValue:a(h),"onUpdate:modelValue":s[4]||(s[4]=g=>u(h)?h.value=g:null),"auto-grow":"",label:"Notes",placeholder:"Any Additional Details",rows:"2"},null,8,["modelValue"])]),_:1}),t(C,{cols:"12"},{default:o(()=>[t(q,{class:"me-3",type:"submit"},{default:o(()=>[c(" Submit ")]),_:1}),t(q,{color:"secondary",type:"reset",variant:"outlined",onClick:p},{default:o(()=>[c(" Cancel ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"])}}}),dt=r("h4",{class:"text-h4 text-high-emphasis mb-1"}," Expense Management ",-1),pt=r("h5",{class:"text-h5"}," Expenses ",-1),mt=r("h5",{class:"text-h5"}," Reimbursements ",-1),ct={class:"d-flex flex-wrap gap-4 mx-5"},ft={class:"d-flex align-center"},vt={class:"d-flex gap-4 flex-wrap align-center"},Vt={class:"v-data-table__tr"},bt=["colspan"],yt={class:"my-2"},_t=r("strong",null,"Requested By:",-1),wt=r("strong",null,"Lead Name:",-1),gt=r("strong",null,"Activity:",-1),xt=r("strong",null,"Amount:",-1),kt=r("strong",null,"Request Date:",-1),ht=r("strong",null,"Approval Date:",-1),Dt=r("strong",null,"Notes:",-1),Ut={key:0},At=r("strong",null,"Attachment:",-1),Ct=["href"],St=r("td",null,null,-1),Nt=r("td",null,null,-1),qt=r("td",null,null,-1),$t=["href"],Pt={key:1},Rt={class:"d-flex align-center justify-sm-space-between justify-center flex-wrap gap-3 pa-5 pt-3"},Ot={class:"text-sm text-disabled mb-0"},Tt={class:"d-flex flex-wrap gap-4 mx-5"},It={class:"d-flex align-center"},Et={class:"d-flex gap-4 flex-wrap align-center"},Bt=["href"],zt={key:1},Mt={class:"d-flex align-center justify-sm-space-between justify-center flex-wrap gap-3 pa-5 pt-3"},Ft={class:"text-sm text-disabled mb-0"},Ql=pe({__name:"management",async setup(G){let _,R;const V={action:"manage",subject:"View Expenses"},m=i(""),S=i(!0),X=i(0),O=i(),w=i(),b=i(),y=i(),k=i();i();const v=i([]),h=i(),p=i(10),f=i(1),E=i(),d=i(),s=n=>{var l,A;f.value=n.page,E.value=(l=n.sortBy[0])==null?void 0:l.key,d.value=(A=n.sortBy[0])==null?void 0:A.order},N=()=>{S.value=!S.value},U=()=>{m.value=""},H=()=>{X.value=0},g=()=>{H(),U()},x=i([{title:"Approved",value:"approved"},{title:"Pending",value:"pending"}]),He=i([{title:"Approve",value:"approved"},{title:"Close",value:"closed"},{title:"Reject",value:"rejected"}]),{data:fe,execute:W}=([_,R]=ne(()=>se(re("/expense/management",{query:{q:m,status:b,requestedBy:k,plan:w,role:O,date:y,itemsPerPage:p,page:f,sortBy:E,orderBy:d}}))),_=await _,R(),_),{data:ve,execute:J}=([_,R]=ne(()=>se(re("/expense/reimbursements",{query:{q:m,status:b,requestedBy:k,plan:w,date:y,role:O,itemsPerPage:p,page:f,sortBy:E,orderBy:d}}))),_=await _,R(),_),Ve=z(()=>fe.value.data),B=z(()=>fe.value.total),be=z(()=>ve.value.data),We=z(()=>ve.value.total),ye=n=>{const l=n.toLowerCase();return l==="pending"?{text:"Pending",color:"warning"}:l==="pending_checker_approval"?{text:"Pending Checker Approval",color:"warning"}:l==="approved"?{text:"Approved",color:"success"}:l==="inactive"?{text:"Inactive",color:"secondary"}:{text:n,color:"primary"}};z(()=>v.value.length<1),z(()=>v.value.length<1);const Y=i(!1),Z=i(!1),Ke=async n=>{const l=new FormData;l.append("leadName",n.leadName),n.file&&l.append("file",n.file),l.append("requestDate",n.requestDate),l.append("notes",n.notes),l.append("amount",n.amount.toString());try{await M("/new/UI/reimbursement",{method:"POST",body:l}),await J()}catch(A){console.error("Error adding expense:",A)}},Qe=async n=>{const l=new FormData;l.append("leadName",n.leadName),n.file&&l.append("file",n.file),l.append("activity",n.activity),l.append("requestDate",n.requestDate),l.append("notes",n.notes),l.append("amount",n.amount.toString()),console.log(l);try{await M("/new/UI/expenses",{method:"POST",body:l}),await W()}catch(A){console.error("Error adding expense:",A)}},Ge=async n=>{await M("/approve/UI/expense",{method:"POST",body:{id:n}}),await W()},Je=async n=>{await M("/approve/UI/reimbursement",{method:"POST",body:{id:n}}),await J()},Ye=async n=>{await M("/close/UI/expense",{method:"POST",body:{id:n}}),await W()},Ze=async n=>{await M("/close/UI/reimbursement",{method:"POST",body:{id:n}}),await J()},et=async n=>{await M("/update/UI/expenses/status",{method:"POST",body:{ids:n,status:h.value}}),await W()};me(h,n=>{n&&v.value.length&&et(v.value)});const F=i("item-1"),{data:ae,execute:jt}=([_,R]=ne(()=>se(re("/users/UI/list?itemsPerPage=100"))),_=await _,R(),_),_e=z(()=>!ae.value||!ae.value.users?[]:ae.value.users);W(),J();const tt=()=>{const n=I.utils.json_to_sheet(Ve.value),l=I.utils.book_new();I.utils.book_append_sheet(l,n,"Expenses");const A=I.write(l,{bookType:"xlsx",type:"array"});Ue.saveAs(new Blob([A],{type:"application/octet-stream"}),"Expenses.xlsx")},lt=()=>{const n=I.utils.json_to_sheet(be.value),l=I.utils.book_new();I.utils.book_append_sheet(l,n,"Reimbursements");const A=I.write(l,{bookType:"xlsx",type:"array"});Ue.saveAs(new Blob([A],{type:"application/octet-stream"}),"Reimbursements.xlsx")};return(n,l)=>{const A=de,we=at,K=Te,ge=ue,xe=ot("IconBtn");return D(),ee("section",null,[dt,t(ce,null,{default:o(()=>[t(nt,{modelValue:a(F),"onUpdate:modelValue":l[0]||(l[0]=e=>u(F)?F.value=e:null)},{default:o(()=>[t(Ae,null,{default:o(()=>[pt]),_:1}),t(Ae,null,{default:o(()=>[mt]),_:1})]),_:1},8,["modelValue"]),t(ie),t(st,{modelValue:a(F),"onUpdate:modelValue":l[23]||(l[23]=e=>u(F)?F.value=e:null)},{default:o(()=>[t(Ce,null,{default:o(()=>[t(le,{class:"d-flex flex-wrap py-4 gap-4"},{default:o(()=>[r("div",ct,[r("div",ft,[t(A,{modelValue:a(m),"onUpdate:modelValue":l[1]||(l[1]=e=>u(m)?m.value=e:null),"append-inner-icon":a(S)?"tabler-search":"tabler-map-pin-off",class:"me-3","clear-icon":"tabler-circle-x",clearable:"",color:"primary",placeholder:"Search",style:{"inline-size":"200px"},type:"text","onClick:appendInner":N,"onClick:append":g},null,8,["modelValue","append-inner-icon"]),t(we,{modelValue:a(k),"onUpdate:modelValue":l[2]||(l[2]=e=>u(k)?k.value=e:null),"item-title":e=>e.fullName,"item-value":e=>e.id,items:a(_e),style:{"inline-size":"200px"},class:"me-3",placeholder:"Requested By"},null,8,["modelValue","item-title","item-value","items"]),t(K,{modelValue:a(b),"onUpdate:modelValue":l[3]||(l[3]=e=>u(b)?b.value=e:null),items:a(x),class:"me-3","clear-icon":"tabler-x",clearable:"",placeholder:"Status",style:{"inline-size":"200px"}},null,8,["modelValue","items"]),t(ge,{modelValue:a(y),"onUpdate:modelValue":l[4]||(l[4]=e=>u(y)?y.value=e:null),"append-inner-icon":a(S)?"tabler-calendar":"tabler-map-pin-off",class:"me-3","clear-icon":"tabler-x",clearable:"",placeholder:"Select Date",style:{"inline-size":"200px"}},null,8,["modelValue","append-inner-icon"])]),t(Se),r("div",vt,[n.$can("manage","Expenses Checker")?(D(),P(K,{key:0,modelValue:a(h),"onUpdate:modelValue":l[5]||(l[5]=e=>u(h)?h.value=e:null),items:a(He),"item-title":"title","item-value":"value",class:"me-1","clear-icon":"tabler-x",clearable:"",chips:"",placeholder:"Bulk Actions",style:{"inline-size":"200px"}},null,8,["modelValue","items"])):T("",!0),t(K,{modelValue:a(p),"onUpdate:modelValue":l[6]||(l[6]=e=>u(p)?p.value=e:null),items:[5,10,20,25,50]},null,8,["modelValue"]),t(q,{color:"primary","prepend-icon":"tabler-download",style:{"text-size-adjust":"auto","text-transform":"none"},onClick:l[7]||(l[7]=e=>tt())})]),n.$can(V.action,"Expenses Maker")?(D(),P(q,{key:0,"prepend-icon":"tabler-plus",onClick:l[8]||(l[8]=e=>Y.value=!0)},{default:o(()=>[c(" Request Expense ")]),_:1})):T("",!0)])]),_:1}),t(a(Ne),{modelValue:a(v),"onUpdate:modelValue":l[10]||(l[10]=e=>u(v)?v.value=e:null),"items-per-page":a(p),"onUpdate:itemsPerPage":l[11]||(l[11]=e=>u(p)?p.value=e:null),page:a(f),"onUpdate:page":l[12]||(l[12]=e=>u(f)?f.value=e:null),headers:a(Oe),items:a(Ve),"items-length":a(B),class:"text-no-wrap","show-select":"","expand-on-click":"","onUpdate:options":s},{"expanded-row":o(e=>[r("tr",Vt,[r("td",{colspan:a(Oe).length},[r("div",yt,[r("p",null,[_t,c(" "+$(e.item.user),1)]),r("p",null,[wt,c(" "+$(e.item.lead_name),1)]),r("p",null,[gt,c(" "+$(e.item.activity),1)]),r("p",null,[xt,c(" "+$(e.item.amount),1)]),r("p",null,[kt,c(" "+$(e.item.date),1)]),r("p",null,[ht,c(" "+$(e.item.approved_date),1)]),r("p",null,[Dt,c(" "+$(e.item.notes),1)]),e.item.attachment?(D(),ee("p",Ut,[At,c(),r("a",{href:e.item.attachment,target:"_blank",rel:"noopener noreferrer"},"View Attachment",8,Ct)])):T("",!0)])],8,bt),St,Nt,qt])]),"item.amount":o(({item:e})=>[r("span",{style:ke({color:`${n.$vuetify.theme.global.current.colors.success}`})},$(e.amount),5)]),"item.status":o(({item:e})=>[t(qe,j({class:"text-capitalize",size:"small"},ye(e.status)),null,16)]),"item.actions":o(({item:e})=>[n.$can(V.action,"Expenses Checker")?(D(),P(xe,{key:0},{default:o(()=>[t(he,{icon:"tabler-dots-vertical"}),t($e,{activator:"parent"},{default:o(()=>[t(Pe,null,{default:o(()=>[e.attachment?(D(),P(L,{key:0,"prepend-icon":"tabler-eye"},{default:o(()=>[r("a",{href:e.attachment,target:"_blank",rel:"noopener noreferrer"},"View Attachment",8,$t)]),_:2},1024)):T("",!0),n.$can(V.action,V.subject)?(D(),P(L,{key:1,value:"delete","prepend-icon":"tabler-thumb-up",onClick:oe=>Ge(e.id)},{default:o(()=>[c(" Approve ")]),_:2},1032,["onClick"])):T("",!0),n.$can(V.action,V.subject)?(D(),P(L,{key:2,value:"approve","prepend-icon":"tabler-check",onClick:oe=>Ye(e.id)},{default:o(()=>[c(" Close ")]),_:2},1032,["onClick"])):T("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):(D(),ee("p",Pt," Insufficient Permissions "))]),bottom:o(()=>[t(ie),r("div",Rt,[r("p",Ot,$(a(De)({page:a(f),itemsPerPage:a(p)},a(B))),1),t(Re,{modelValue:a(f),"onUpdate:modelValue":l[9]||(l[9]=e=>u(f)?f.value=e:null),length:Math.ceil(a(B)/a(p)),"total-visible":n.$vuetify.display.xs?1:Math.ceil(a(B)/a(p))},{prev:o(e=>[t(q,j({color:"default"},e,{variant:"tonal"}),{default:o(()=>[c(" Previous ")]),_:2},1040)]),next:o(e=>[t(q,j({color:"default"},e,{variant:"tonal"}),{default:o(()=>[c(" Next ")]),_:2},1040)]),_:1},8,["modelValue","length","total-visible"])])]),_:1},8,["modelValue","items-per-page","page","headers","items","items-length"])]),_:1}),t(Ce,null,{default:o(()=>[t(le,{class:"d-flex flex-wrap py-4 gap-4"},{default:o(()=>[r("div",Tt,[r("div",It,[t(A,{modelValue:a(m),"onUpdate:modelValue":l[13]||(l[13]=e=>u(m)?m.value=e:null),"append-inner-icon":a(S)?"tabler-search":"tabler-map-pin-off",class:"me-3","clear-icon":"tabler-circle-x",clearable:"",color:"primary",placeholder:"Search",style:{"inline-size":"200px"},type:"text","onClick:appendInner":N,"onClick:append":g},null,8,["modelValue","append-inner-icon"]),t(we,{modelValue:a(k),"onUpdate:modelValue":l[14]||(l[14]=e=>u(k)?k.value=e:null),"item-title":e=>e.fullName,"item-value":e=>e.id,items:a(_e),style:{"inline-size":"200px"},class:"me-3",placeholder:"Requested By"},null,8,["modelValue","item-title","item-value","items"]),t(K,{modelValue:a(b),"onUpdate:modelValue":l[15]||(l[15]=e=>u(b)?b.value=e:null),items:a(x),class:"me-3","clear-icon":"tabler-x",clearable:"",placeholder:"Status",style:{"inline-size":"200px"}},null,8,["modelValue","items"]),t(ge,{modelValue:a(y),"onUpdate:modelValue":l[16]||(l[16]=e=>u(y)?y.value=e:null),"append-inner-icon":a(S)?"tabler-calendar":"tabler-map-pin-off",class:"me-3","clear-icon":"tabler-x",clearable:"",placeholder:"Select Date",style:{"inline-size":"200px"}},null,8,["modelValue","append-inner-icon"])]),t(Se),r("div",Et,[t(K,{modelValue:a(p),"onUpdate:modelValue":l[17]||(l[17]=e=>u(p)?p.value=e:null),items:[5,10,20,25,50]},null,8,["modelValue"]),t(q,{color:"primary","prepend-icon":"tabler-download",style:{"text-size-adjust":"auto","text-transform":"none"},onClick:lt})]),n.$can(V.action,"Reimbursements Maker")?(D(),P(q,{key:0,"prepend-icon":"tabler-plus",onClick:l[18]||(l[18]=e=>Z.value=!0)},{default:o(()=>[c(" Request Reimbursement ")]),_:1})):T("",!0)])]),_:1}),t(a(Ne),{modelValue:a(v),"onUpdate:modelValue":l[20]||(l[20]=e=>u(v)?v.value=e:null),"items-per-page":a(p),"onUpdate:itemsPerPage":l[21]||(l[21]=e=>u(p)?p.value=e:null),page:a(f),"onUpdate:page":l[22]||(l[22]=e=>u(f)?f.value=e:null),headers:a(rt),items:a(be),"items-length":a(We),class:"text-no-wrap","show-select":"","onUpdate:options":s},{"item.amount":o(({item:e})=>[r("span",{style:ke({color:`${n.$vuetify.theme.global.current.colors.success}`})},$(e.amount),5)]),"item.status":o(({item:e})=>[t(qe,j({class:"text-capitalize",size:"small"},ye(e.status)),null,16)]),"item.actions":o(({item:e})=>[n.$can(V.action,"Reimbursements Checker")?(D(),P(xe,{key:0},{default:o(()=>[t(he,{icon:"tabler-dots-vertical"}),t($e,{activator:"parent"},{default:o(()=>[t(Pe,null,{default:o(()=>[e.attachment?(D(),P(L,{key:0,"prepend-icon":"tabler-eye"},{default:o(()=>[r("a",{href:e.attachment,target:"_blank",rel:"noopener noreferrer"},"View Attachment",8,Bt)]),_:2},1024)):T("",!0),t(L,{value:"approve","prepend-icon":"tabler-thumb-up",onClick:oe=>Je(e.id)},{default:o(()=>[c(" Approve ")]),_:2},1032,["onClick"]),t(L,{value:"approve","prepend-icon":"tabler-check",onClick:oe=>Ze(e.id)},{default:o(()=>[c(" Close ")]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)):(D(),ee("p",zt," Insufficient Permissions "))]),bottom:o(()=>[t(ie),r("div",Mt,[r("p",Ft,$(a(De)({page:a(f),itemsPerPage:a(p)},a(B))),1),t(Re,{modelValue:a(f),"onUpdate:modelValue":l[19]||(l[19]=e=>u(f)?f.value=e:null),length:Math.ceil(a(B)/a(p)),"total-visible":n.$vuetify.display.xs?1:Math.ceil(a(B)/a(p))},{prev:o(e=>[t(q,j({color:"default"},e,{variant:"tonal"}),{default:o(()=>[c(" Previous ")]),_:2},1040)]),next:o(e=>[t(q,j({color:"default"},e,{variant:"tonal"}),{default:o(()=>[c(" Next ")]),_:2},1040)]),_:1},8,["modelValue","length","total-visible"])])]),_:1},8,["modelValue","items-per-page","page","headers","items","items-length"])]),_:1})]),_:1},8,["modelValue"])]),_:1}),t(it,{isDrawerOpen:a(Y),"onUpdate:isDrawerOpen":l[24]||(l[24]=e=>u(Y)?Y.value=e:null),onUserData:Qe},null,8,["isDrawerOpen"]),t(ut,{isDrawerOpen:a(Z),"onUpdate:isDrawerOpen":l[25]||(l[25]=e=>u(Z)?Z.value=e:null),onUserData:Ke},null,8,["isDrawerOpen"])])}}});export{Ql as default};
