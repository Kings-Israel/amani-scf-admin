import{_ as Y}from"./AppTextField.vue_vue_type_script_setup_true_lang-298ad98d.js";import{_ as Z}from"./AppSelect.vue_vue_type_script_setup_true_lang-67ce80f3.js";import{p as ee}from"./paginationMeta-4ad053a4.js";import{u as te}from"./useApi-c9327355.js";import{c as le}from"./createUrl-3e678c2b.js";import{$ as R}from"./api-44dd0fa9.js";import{V as T}from"./VRow-e44df108.js";import{V as k}from"./VCardText-3b4da816.js";import{V as w}from"./VCol-bcc5388c.js";import{V as C}from"./VCard-1a5b2c5e.js";import{V as ae}from"./VSpacer-a56288e5.js";import{d as se,r as u,b6 as oe,R as D,o as m,c as _,e as o,b as e,f as t,F as N,j as F,p as s,aI as p,a4 as U,x as c,y as V,a9 as y,h as j}from"./index-5caaa453.js";import{V as L}from"./VDivider-d40713ce.js";import{V as ie}from"./VDataTableServer-64dc84b4.js";import{V as M}from"./VChip-49676f7d.js";import{V as re}from"./VMenu-97c48b4e.js";import{V as ne,a as A,b as S}from"./VList-4b1bf96e.js";import{V as ue}from"./VPagination-4169e3c5.js";import{V as me}from"./VAvatar-3ee4c690.js";import"./form-c9c578a3.js";import"./VTextField-604d91ff.js";/* empty css                   */import"./VCounter-728f7f8c.js";import"./transition-1886cce0.js";import"./VField-6b3808ed.js";import"./easing-9f15041e.js";import"./VInput-e87890b4.js";import"./forwardRefs-8348545e.js";import"./index-7dd1f5f0.js";import"./VSelect-f0a443ce.js";import"./dialog-transition-1ae6ec72.js";import"./VOverlay-da001e16.js";import"./lazy-9cd674a5.js";import"./scopeId-484eb469.js";import"./VCheckboxBtn-1d552264.js";import"./VSelectionControl-e0df1dbd.js";import"./index-2898f57d.js";/* empty css              */import"./createSimpleFunctional-9624028d.js";import"./VImg-6009f8f0.js";import"./VDataTable-1493872b.js";import"./VTable-f9bab7db.js";import"./filter-aecd5fc1.js";import"./ssrBoot-2696bccc.js";const ce={class:"d-flex mb-6"},de={class:"d-flex justify-space-between"},pe={class:"d-flex flex-column gap-y-1"},fe={class:"text-body-1 text-medium-emphasis"},ve={class:"text-h4"},_e={class:"me-3 d-flex gap-3"},Ve={class:"app-user-search-filter d-flex align-center flex-wrap gap-4"},ye={style:{"inline-size":"10rem"}},xe={key:0},be={key:1},ge={class:"d-flex align-center gap-4"},he={class:"d-flex align-center justify-sm-space-between justify-center flex-wrap gap-3 pa-5 pt-3"},ke={class:"text-sm text-disabled mb-0"},vt=se({__name:"list",async setup(we){let x,B;const b=u(""),g=u(),O=u(),h=u(),r=u(10),n=u(1),P=u(),$=u(),q=i=>{var a,d;n.value=i.page,P.value=(a=i.sortBy[0])==null?void 0:a.key,$.value=(d=i.sortBy[0])==null?void 0:d.order},E=[{title:"ID",key:"id"},{title:"Full Name",key:"fullName"},{title:"Role",key:"roles"},{title:"email",key:"email"},{title:"Contact",key:"contact"},{title:"Status",key:"status"},{title:"Actions",key:"actions",sortable:!1}],{data:I,execute:z}=([x,B]=oe(()=>te(le("/users/UI/list",{query:{q:b,status:h,plan:O,role:g,itemsPerPage:r,page:n,sortBy:P,orderBy:$}}))),x=await x,B(),x),Q=D(()=>I.value.users),f=D(()=>I.value.total),G=[{title:"Root Admin",value:"1"},{title:"Bank Admin",value:"2"},{title:"User",value:"3"}],H=[{title:"Active",value:"1"},{title:"Inactive",value:"0"}],J=async i=>{await R(`/user/deactivate/${i}`,{method:"POST"}),await z()},K=async i=>{await R(`/user/activate/${i}`,{method:"POST"}),await z()},W=u([{title:"All Users",value:f.value,desc:"Total Users",icon:"tabler-user",iconColor:"primary"},{title:"Admin",value:"2",icon:"tabler-user-plus",iconColor:"success"},{title:"Bank Admin",value:"2",icon:"tabler-user-check",iconColor:"success"},{title:"Pending Users",value:0,icon:"tabler-user-exclamation",iconColor:"warning"}]);return(i,a)=>{const d=Z,X=Y;return m(),_("section",null,[o("div",ce,[e(T,null,{default:t(()=>[(m(!0),_(N,null,F(s(W),(l,v)=>(m(),j(w,{key:v,cols:"12",md:"3",sm:"6"},{default:t(()=>[e(C,null,{default:t(()=>[e(k,null,{default:t(()=>[o("div",de,[o("div",pe,[o("span",fe,V(l.title),1),o("div",null,[o("h4",ve,V(l.value),1)])]),e(me,{color:l.iconColor,rounded:"",size:"38",variant:"tonal"},{default:t(()=>[e(y,{icon:l.icon,size:"26"},null,8,["icon"])]),_:2},1032,["color"])])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),e(C,{class:"mb-6",title:"Filters"},{default:t(()=>[e(k,null,{default:t(()=>[e(T,null,{default:t(()=>[e(w,{cols:"12",sm:"4"},{default:t(()=>[e(d,{modelValue:s(g),"onUpdate:modelValue":a[0]||(a[0]=l=>p(g)?g.value=l:null),items:G,"clear-icon":"tabler-x",clearable:"",label:"Select Role",placeholder:"Select Role"},null,8,["modelValue"])]),_:1}),e(w,{cols:"12",sm:"4"},{default:t(()=>[e(d,{modelValue:s(h),"onUpdate:modelValue":a[1]||(a[1]=l=>p(h)?h.value=l:null),items:H,"clear-icon":"tabler-x",clearable:"",label:"Select Status",placeholder:"Select Status"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),e(C,null,{default:t(()=>[e(k,{class:"d-flex flex-wrap py-4 gap-4"},{default:t(()=>[o("div",_e,[e(d,{items:[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"All"}],"model-value":s(r),style:{"inline-size":"6.25rem"},"onUpdate:modelValue":a[2]||(a[2]=l=>r.value=parseInt(l,10))},null,8,["model-value"])]),e(ae),o("div",Ve,[o("div",ye,[e(X,{modelValue:s(b),"onUpdate:modelValue":a[3]||(a[3]=l=>p(b)?b.value=l:null),density:"compact",placeholder:"Search"},null,8,["modelValue"])]),e(U,{color:"secondary","prepend-icon":"tabler-screen-share",variant:"tonal"},{default:t(()=>[c(" Export ")]),_:1}),e(U,{"prepend-icon":"tabler-plus",onClick:a[4]||(a[4]=l=>i.$router.push("/users/AddNewUser"))},{default:t(()=>[c(" Add New User ")]),_:1})])]),_:1}),e(L),e(s(ie),{"items-per-page":s(r),"onUpdate:itemsPerPage":a[6]||(a[6]=l=>p(r)?r.value=l:null),page:s(n),"onUpdate:page":a[7]||(a[7]=l=>p(n)?n.value=l:null),headers:E,items:s(Q),"items-length":s(f),class:"text-no-wrap","onUpdate:options":q},{"item.status":t(({item:l})=>[e(M,{color:l.status===1?"primary":"error",class:"text-capitalize",label:"",size:"small"},{default:t(()=>[c(V(l.status===1?"Active":"Inactive"),1)]),_:2},1032,["color"])]),"item.actions":t(({item:l})=>[e(U,{color:"medium-emphasis",icon:"",size:"small",variant:"text"},{default:t(()=>[e(y,{icon:"tabler-dots-vertical",size:"24"}),e(re,{activator:"parent"},{default:t(()=>[e(ne,null,{default:t(()=>[e(A,{to:{name:"users-view-id",params:{id:l.id}}},{prepend:t(()=>[e(y,{icon:"tabler-eye"})]),default:t(()=>[e(S,null,{default:t(()=>[c("View")]),_:1})]),_:2},1032,["to"]),l.status===1?(m(),_("div",xe,[e(A,{onClick:v=>J(l.id)},{prepend:t(()=>[e(y,{icon:"tabler-user-x"})]),default:t(()=>[e(S,null,{default:t(()=>[c("Deactivate")]),_:1})]),_:2},1032,["onClick"])])):(m(),_("div",be,[e(A,{onClick:v=>K(l.id)},{prepend:t(()=>[e(y,{icon:"tabler-user-check"})]),default:t(()=>[e(S,null,{default:t(()=>[c("Activate")]),_:1})]),_:2},1032,["onClick"])]))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),"item.roles":t(({item:l})=>[o("div",ge,[(m(!0),_(N,null,F(l.roles,v=>(m(),j(M,{color:"primary"},{default:t(()=>[c(V(v.name),1)]),_:2},1024))),256))])]),bottom:t(()=>[e(L),o("div",he,[o("p",ke,V(s(ee)({page:s(n),itemsPerPage:s(r)},s(f))),1),e(ue,{modelValue:s(n),"onUpdate:modelValue":a[5]||(a[5]=l=>p(n)?n.value=l:null),length:Math.ceil(s(f)/s(r)),"total-visible":i.$vuetify.display.xs?1:Math.ceil(s(f)/s(r))},null,8,["modelValue","length","total-visible"])])]),_:1},8,["items-per-page","page","items","items-length"])]),_:1})])}}});export{vt as default};
