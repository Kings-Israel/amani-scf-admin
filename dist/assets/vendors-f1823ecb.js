import{_ as F}from"./AppSelect.vue_vue_type_script_setup_true_lang-67ce80f3.js";import{_ as G}from"./AppTextField.vue_vue_type_script_setup_true_lang-298ad98d.js";import{p as H}from"./paginationMeta-4ad053a4.js";import{$ as Q}from"./api-44dd0fa9.js";import{u as J}from"./useApi-c9327355.js";import{c as K}from"./createUrl-3e678c2b.js";import{V as W}from"./VSpacer-a56288e5.js";import{d as X,r as l,b6 as Y,R as E,o as Z,h as ee,f as i,e as p,b as a,p as t,aI as c,a4 as g,y as P,t as x,a9 as te,a as oe}from"./index-5caaa453.js";import{V as S}from"./VDivider-d40713ce.js";import{V as ae}from"./VChip-49676f7d.js";import{V as se}from"./VPagination-4169e3c5.js";import{V as re}from"./VDataTableServer-64dc84b4.js";import{V as le}from"./VCard-1a5b2c5e.js";import{_ as ne}from"./_plugin-vue_export-helper-c27b6911.js";import"./form-c9c578a3.js";import"./VSelect-f0a443ce.js";import"./VTextField-604d91ff.js";/* empty css                   */import"./VCounter-728f7f8c.js";import"./transition-1886cce0.js";import"./VField-6b3808ed.js";import"./easing-9f15041e.js";import"./VInput-e87890b4.js";import"./forwardRefs-8348545e.js";import"./index-7dd1f5f0.js";import"./VList-4b1bf96e.js";import"./ssrBoot-2696bccc.js";import"./createSimpleFunctional-9624028d.js";import"./VAvatar-3ee4c690.js";import"./VImg-6009f8f0.js";import"./dialog-transition-1ae6ec72.js";import"./VMenu-97c48b4e.js";import"./VOverlay-da001e16.js";import"./lazy-9cd674a5.js";import"./scopeId-484eb469.js";import"./VCheckboxBtn-1d552264.js";import"./VSelectionControl-e0df1dbd.js";import"./index-2898f57d.js";import"./VDataTable-1493872b.js";import"./VTable-f9bab7db.js";import"./filter-aecd5fc1.js";import"./VCardText-3b4da816.js";const ie={class:"d-flex flex-wrap gap-4 mx-5 my-5 row"},pe={class:"d-flex align-center"},ce={class:"d-flex gap-4 flex-wrap align-center"},me=["onClick"],ue={class:"d-flex align-center justify-space-between flex-wrap gap-3 pa-5 pt-3"},de={class:"text-sm text-medium-emphasis mb-0"},ve=X({__name:"vendors",async setup(fe){let u,h;const B=[{title:"Anchor",key:"name"},{title:"TOTAL DEALERS",key:"dealers"},{title:"ACTIVE DEALERS",key:"active_dealers"},{title:"PASSIVE DEALERS",key:"passive_dealers"},{title:"PERCENTAGE OF ACTIVE DEALERS",key:"active_dealers_percent"}],_=l(!0),D=l(0),m=l(""),d=l(),r=l(10),n=l(1),b=l(),A=l(),R=()=>{_.value=!_.value},U=()=>{m.value=""},$=()=>{D.value=0},M=()=>{$(),U()},T=l([{title:"Active",value:"active"},{title:"In active",value:"inactive"}]);l([{title:"Approve",value:"active"},{title:"Reject",value:"inactive"}]);const L=s=>{var o,f;n.value=s.page,b.value=(o=s.sortBy[0])==null?void 0:o.key,A.value=(f=s.sortBy[0])==null?void 0:f.order},j=async s=>{await Q("/approve/UI/company",{method:"POST",body:{id:s}})},O=s=>s==="active"?{text:"Active",color:"success"}:{text:"Inactive",color:"error"},y=s=>s&&s==="active"?{color:"success",icon:"tabler-thumb-up",title:"Deactivate"}:{color:"error",icon:"tabler-thumb-down",title:"Activate"},{data:k,execute:q}=([u,h]=Y(()=>J(K("/reports/vendors",{query:{q:m,status:d,page:n,itemsPerPage:r,sortBy:b,orderBy:A}}))),u=await u,h(),u),z=E(()=>k.value.data),v=E(()=>k.value.total);return q(),(s,o)=>{const f=G,C=F,N=oe("IconBtn");return Z(),ee(le,{class:"mb-6"},{default:i(()=>[p("div",ie,[p("div",pe,[a(f,{modelValue:t(m),"onUpdate:modelValue":o[0]||(o[0]=e=>c(m)?m.value=e:null),"append-inner-icon":t(_)?"tabler-search":"tabler-map-pin-off",class:"me-1","clear-icon":"tabler-circle-x",clearable:"",color:"primary",placeholder:"Anchor",style:{"inline-size":"200px"},type:"text","onClick:appendInner":R,"onClick:append":M},null,8,["modelValue","append-inner-icon"]),a(C,{modelValue:t(d),"onUpdate:modelValue":o[1]||(o[1]=e=>c(d)?d.value=e:null),items:t(T),class:"me-1","clear-icon":"tabler-x",clearable:"",placeholder:"Bank",style:{"inline-size":"200px"}},null,8,["modelValue","items"]),a(W)]),p("div",ce,[a(C,{modelValue:t(r),"onUpdate:modelValue":o[2]||(o[2]=e=>c(r)?r.value=e:null),items:[5,10,20,25,50]},null,8,["modelValue"]),a(g,{color:"primary","prepend-icon":"tabler-download",style:{"text-size-adjust":"auto","text-transform":"none"}})])]),a(S,{class:"mt-4"}),a(t(re),{"items-per-page":t(r),"onUpdate:itemsPerPage":o[4]||(o[4]=e=>c(r)?r.value=e:null),page:t(n),"onUpdate:page":o[5]||(o[5]=e=>c(n)?n.value=e:null),headers:B,items:t(z),"items-length":t(v),class:"text-no-wrap","show-select":"","onUpdate:options":L},{"item.name":i(({item:e})=>[p("h6",null,[p("a",{href:"javascript:void(0)",class:"text-primary",onClick:V=>s.$router.push(`/companies/view/${e.id}`)},P(e.name),9,me)])]),"item.status":i(({item:e})=>[a(ae,x({density:"default",label:""},O(e.status)),null,16)]),"item.actions":i(({item:e})=>{var V;return[a(N,{title:(V=y(e.status))==null?void 0:V.title},{default:i(()=>{var I,w;return[a(te,{icon:(I=y(e.status))==null?void 0:I.icon,color:(w=y(e.status))==null?void 0:w.color,onClick:_e=>j(e.id)},null,8,["icon","color","onClick"])]}),_:2},1032,["title"])]}),bottom:i(()=>[a(S),p("div",ue,[p("p",de,P(t(H)({page:t(n),itemsPerPage:t(r)},t(v))),1),a(se,{modelValue:t(n),"onUpdate:modelValue":o[3]||(o[3]=e=>c(n)?n.value=e:null),length:Math.min(Math.ceil(t(v)/t(r)),5),"total-visible":s.$vuetify.display.xs?1:Math.min(Math.ceil(t(v)/t(r)),5)},{prev:i(e=>[a(g,x({color:"default"},e,{variant:"tonal"}),null,16)]),next:i(e=>[a(g,x({color:"default"},e,{variant:"tonal"}),null,16)]),_:1},8,["modelValue","length","total-visible"])])]),_:1},8,["items-per-page","page","items","items-length"])]),_:1})}}});const rt=ne(ve,[["__scopeId","data-v-94224567"]]);export{rt as default};
