import{_ as U}from"./AppAutocomplete.vue_vue_type_script_setup_true_lang-bc372057.js";import{_ as $}from"./DialogCloseBtn.vue_vue_type_script_setup_true_lang-035125fd.js";import{u as S}from"./useApi-776c55ea.js";import{c as T}from"./createUrl-149317bf.js";import{$ as j}from"./api-0c1dfdf3.js";import{V as z}from"./VCard-95c0d706.js";import{V as N}from"./VCardText-76f31582.js";import{a as g,V as P,b as R,c as E}from"./VList-c7d4c8b4.js";import{V}from"./VAvatar-071125b9.js";import{d as F,r as h,b6 as O,R as b,o as p,h as x,f as e,b as t,p as d,cS as q,cT as G,e as a,y as u,c as H,F as J,j as K,a9 as M,a4 as Q,x as W}from"./index-75b434bc.js";import{V as X}from"./VDialog-bc06d443.js";import"./form-2b416184.js";import"./VSelect-54e8b29a.js";import"./VTextField-05e93cc8.js";/* empty css                   */import"./VCounter-3e4b236e.js";import"./transition-6afda34e.js";import"./VField-82993695.js";import"./easing-9f15041e.js";import"./VInput-b46333d7.js";import"./forwardRefs-8348545e.js";import"./index-97808f23.js";import"./dialog-transition-14fdab67.js";import"./VMenu-3f143933.js";import"./VOverlay-0b79a00d.js";import"./lazy-0bb5e457.js";import"./scopeId-ee2feb8e.js";import"./VCheckboxBtn-0f22f589.js";import"./VSelectionControl-e1264669.js";import"./VChip-e2ddd660.js";import"./filter-3bfef89c.js";import"./index-2898f57d.js";import"./createSimpleFunctional-4b3a0a39.js";import"./VImg-ba4b392a.js";import"./ssrBoot-7f224ca6.js";import"./VDivider-fc890531.js";const Y=a("h3",{class:"text-h3 text-center mb-3"}," Associate Contact ",-1),Z=a("p",{class:"text-sm-body-1 text-center mb-6"}," Select a contact to associate ",-1),tt=a("p",{class:"font-weight-medium mb-1"}," Add Contact ",-1),et={class:"text-h4 mb-4 mt-8"},st={class:"font-weight-medium"},at={class:"text-disabled font-weight-medium text-body-1"},ot={class:"d-flex align-center justify-space-between flex-wrap gap-3 mt-6"},it={class:"text-h6 font-weight-medium d-flex align-start"},rt=a("div",null,"Associate User",-1),qt=F({__name:"AssociatedContact",props:{isDialogVisible:{type:Boolean},pipeline:{}},emits:["update:isDialogVisible","update:isContactAssociated"],async setup(v,{emit:C}){let r,_;const f=v,l=C,y=h({message:void 0,statusCode:void 0}),n=h(),A=o=>{l("update:isDialogVisible",o)},{data:w,execute:D}=([r,_]=O(()=>S(T("/associated/users/bank"))),r=await r,_(),r),m=b(()=>w.value),k=b(()=>f.pipeline),B=async()=>{try{const o=await j("/post/UI/association/contacts",{method:"POST",body:{contact_id:n.value,pipeline_id:k.value},onResponseError({response:c}){y.value=c._data.errors}});console.log(o);const{message:i}=o;console.log(i)}catch(o){console.error(o)}l("update:isContactAssociated",!0),l("update:isDialogVisible",!1)};return D(),(o,i)=>{const c=$,I=U;return p(),x(X,{"model-value":f.isDialogVisible,"max-width":"800","onUpdate:modelValue":A},{default:e(()=>[t(c,{onClick:i[0]||(i[0]=s=>o.$emit("update:isDialogVisible",!1))}),t(z,{class:"share-project-dialog pa-5 pa-sm-8"},{default:e(()=>[t(N,null,{default:e(()=>[Y,Z,tt,t(I,{modelValue:n.value,"onUpdate:modelValue":i[1]||(i[1]=s=>n.value=s),items:d(m),density:"compact","item-title":"name","item-value":"id",placeholder:"Add project members..."},{item:e(({props:s,item:L})=>[t(g,q(G(s)),{prepend:e(()=>[t(V,{image:L.raw.avatar,size:"30"},null,8,["image"])]),_:2},1040)]),_:1},8,["modelValue","items"]),a("h4",et,u(d(m).length)+" Contacts ",1),t(P,{class:"card-list"},{default:e(()=>[(p(!0),H(J,null,K(d(m),s=>(p(),x(g,{key:s.name},{prepend:e(()=>[t(V,{image:s.avatar},null,8,["image"])]),default:e(()=>[t(R,null,{default:e(()=>[a("span",st,u(s.name),1)]),_:2},1024),t(E,null,{default:e(()=>[a("span",at,u(s.email),1)]),_:2},1024)]),_:2},1024))),128))]),_:1}),a("div",ot,[a("h6",it,[t(M,{class:"me-2",icon:"tabler-users",size:"20"}),rt]),t(Q,{class:"text-capitalize",onClick:B},{default:e(()=>[W(" Associate ")]),_:1})])]),_:1})]),_:1})]),_:1},8,["model-value"])}}});export{qt as default};
