import{_ as q}from"./AppSelect.vue_vue_type_script_setup_true_lang-32a0f469.js";import{_ as H}from"./AppTextField.vue_vue_type_script_setup_true_lang-93dc1e26.js";import{p as O}from"./paginationMeta-4ad053a4.js";import{u as Q}from"./useApi-776c55ea.js";import{c as W}from"./createUrl-149317bf.js";import{V as G}from"./VSpacer-6f8dff92.js";import{d as J,r as i,b6 as K,R as w,a as C,o as X,c as Y,b as a,f as n,e as p,p as t,aI as c,a4 as v,y as S,t as y,a9 as Z,x as B}from"./index-75b434bc.js";import{V as I}from"./VDivider-fc890531.js";import{V as L}from"./VDataTableServer-e9f6b4ac.js";import{V as ee}from"./VChip-e2ddd660.js";import{V as te}from"./VPagination-2b54b87a.js";import{V as oe}from"./VCard-95c0d706.js";import{_ as ae}from"./_plugin-vue_export-helper-c27b6911.js";import"./form-2b416184.js";import"./VSelect-54e8b29a.js";import"./VTextField-05e93cc8.js";/* empty css                   */import"./VCounter-3e4b236e.js";import"./transition-6afda34e.js";import"./VField-82993695.js";import"./easing-9f15041e.js";import"./VInput-b46333d7.js";import"./forwardRefs-8348545e.js";import"./index-97808f23.js";import"./VList-c7d4c8b4.js";import"./ssrBoot-7f224ca6.js";import"./createSimpleFunctional-4b3a0a39.js";import"./VAvatar-071125b9.js";import"./VImg-ba4b392a.js";import"./dialog-transition-14fdab67.js";import"./VMenu-3f143933.js";import"./VOverlay-0b79a00d.js";import"./lazy-0bb5e457.js";import"./scopeId-ee2feb8e.js";import"./VCheckboxBtn-0f22f589.js";import"./VSelectionControl-e1264669.js";import"./index-2898f57d.js";import"./VDataTable-c3cccdda.js";import"./VTable-de2d1039.js";import"./filter-3bfef89c.js";import"./VCardText-76f31582.js";const le=[{title:"Contact Name",key:"name"},{title:"Stage",key:"stage"},{title:"Company",key:"company"},{title:"Product",key:"product"},{title:"Email",key:"email"},{title:"Source",key:"source"},{title:"Actions",key:"actions",sortable:!1}],ne={class:"d-flex flex-wrap gap-4 mx-5"},re={class:"d-flex align-center"},se={class:"d-flex gap-4 flex-wrap align-center"},ie=["title"],pe={class:"d-flex align-center justify-space-between flex-wrap gap-3 pa-5 pt-3"},ce={class:"text-sm text-medium-emphasis mb-0"},me=J({__name:"ProductReport",async setup(de){let d,x;const g=i(!0),M=i(0),m=i(""),u=i(),r=i(50),s=i(1),V=i(),b=i(),U=()=>{g.value=!g.value},D=()=>{m.value=""},$=()=>{M.value=0},R=()=>{$(),D()},A=i([{title:"Dealer Financing",value:"dealer financing"},{title:"Vendor Financing",value:"vendor financing"}]),F=l=>{var o,_;s.value=l.page,V.value=(o=l.sortBy[0])==null?void 0:o.key,b.value=(_=l.sortBy[0])==null?void 0:_.order},N=(l,o)=>l.length>o?`${l.substring(0,o)}...`:l,E=l=>l==="dealer financing"?{text:"Dealer Financing",color:"primary"}:{text:"Vendor Financing",color:"success"},{data:h,execute:z}=([d,x]=K(()=>Q(W("/get/UI/products/reports",{query:{q:m,status:u,page:s,itemsPerPage:r,sortBy:V,orderBy:b}}))),d=await d,x(),d),k=w(()=>h.value.data),f=w(()=>h.value.total);return z(),(l,o)=>{const _=H,P=q,T=C("DownloadExcel"),j=C("IconBtn");return X(),Y("div",null,[a(oe,{class:"mb-6 pt-10",title:"Products Reports"},{default:n(()=>[p("div",ne,[p("div",re,[a(_,{modelValue:t(m),"onUpdate:modelValue":o[0]||(o[0]=e=>c(m)?m.value=e:null),"append-inner-icon":t(g)?"tabler-search":"tabler-map-pin-off",class:"me-3","clear-icon":"tabler-circle-x",clearable:"",color:"primary",placeholder:"Search",style:{"inline-size":"200px"},type:"text","onClick:appendInner":U,"onClick:append":R},null,8,["modelValue","append-inner-icon"]),a(P,{modelValue:t(u),"onUpdate:modelValue":o[1]||(o[1]=e=>c(u)?u.value=e:null),items:t(A),"clear-icon":"tabler-x",clearable:"",placeholder:"Status",style:{"inline-size":"200px"}},null,8,["modelValue","items"])]),a(G),p("div",se,[a(P,{modelValue:t(r),"onUpdate:modelValue":o[2]||(o[2]=e=>c(r)?r.value=e:null),items:[5,10,20,25,50]},null,8,["modelValue"]),a(T,{data:t(k),name:"contacts.xls",worksheet:"My Worksheet"},{default:n(()=>[a(v,{color:"primary","prepend-icon":"tabler-download",style:{"text-size-adjust":"auto","text-transform":"none"}})]),_:1},8,["data"])])]),a(I,{class:"mt-4"}),a(t(L),{"items-per-page":t(r),"onUpdate:itemsPerPage":o[4]||(o[4]=e=>c(r)?r.value=e:null),page:t(s),"onUpdate:page":o[5]||(o[5]=e=>c(s)?s.value=e:null),headers:t(le),items:t(k),"items-length":t(f),class:"text-no-wrap","show-select":"","onUpdate:options":F},{"item.email":n(({item:e})=>[p("span",{title:e.email},S(N(e.email,10)),9,ie)]),"item.product":n(({item:e})=>[a(ee,y({density:"default",label:""},E(e.product)),null,16)]),"item.actions":n(({item:e})=>[a(j,null,{default:n(()=>[a(Z,{icon:"tabler-eye",onClick:ue=>l.$router.push(`/pipeline/view/${e.id}`)},null,8,["onClick"])]),_:2},1024)]),bottom:n(()=>[a(I),p("div",pe,[p("p",ce,S(t(O)({page:t(s),itemsPerPage:t(r)},t(f))),1),a(te,{modelValue:t(s),"onUpdate:modelValue":o[3]||(o[3]=e=>c(s)?s.value=e:null),length:Math.min(Math.ceil(t(f)/t(r)),5),"total-visible":l.$vuetify.display.xs?1:Math.min(Math.ceil(t(f)/t(r)),5)},{prev:n(e=>[a(v,y({icon:!1,color:"default"},e,{variant:"tonal"}),{default:n(()=>[B(" Previous ")]),_:2},1040)]),next:n(e=>[a(v,y({icon:!1,color:"default"},e,{variant:"tonal"}),{default:n(()=>[B(" Next ")]),_:2},1040)]),_:1},8,["modelValue","length","total-visible"])])]),_:1},8,["items-per-page","page","headers","items","items-length"])]),_:1})])}}});const tt=ae(me,[["__scopeId","data-v-a0b98088"]]);export{tt as default};
