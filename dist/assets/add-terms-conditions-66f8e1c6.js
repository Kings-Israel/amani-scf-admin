import{_ as h}from"./TiptapEditor.vue_vue_type_style_index_0_lang-e76d5625.js";import{_ as x}from"./AppSelect.vue_vue_type_script_setup_true_lang-32a0f469.js";import{_ as S}from"./AppTextField.vue_vue_type_script_setup_true_lang-93dc1e26.js";import{i as d}from"./index-4532b75c.js";import{d as F,l as N,r,R as w,o as m,h as u,f as a,b as t,A as B,a4 as P,c as U,x as A,F as $,e as c,aM as q,a as D}from"./index-75b434bc.js";import{$ as E}from"./api-0c1dfdf3.js";import{V as R}from"./VRow-d6f20668.js";import{V as i}from"./VCol-35b3d337.js";import{a as I,V as j}from"./VCard-95c0d706.js";import"./index-78b172a6.js";import"./VDivider-fc890531.js";import"./form-2b416184.js";import"./VSelect-54e8b29a.js";import"./VTextField-05e93cc8.js";/* empty css                   */import"./VCounter-3e4b236e.js";import"./transition-6afda34e.js";import"./VField-82993695.js";import"./easing-9f15041e.js";import"./VInput-b46333d7.js";import"./forwardRefs-8348545e.js";import"./index-97808f23.js";import"./VList-c7d4c8b4.js";import"./ssrBoot-7f224ca6.js";import"./createSimpleFunctional-4b3a0a39.js";import"./VAvatar-071125b9.js";import"./VImg-ba4b392a.js";import"./dialog-transition-14fdab67.js";import"./VMenu-3f143933.js";import"./VOverlay-0b79a00d.js";import"./lazy-0bb5e457.js";import"./scopeId-ee2feb8e.js";import"./VCheckboxBtn-0f22f589.js";import"./VSelectionControl-e1264669.js";import"./VChip-e2ddd660.js";import"./index-2898f57d.js";/* empty css              */import"./VCardText-76f31582.js";const L=c("h6",{class:"text-h6 font-weight-medium"}," Terms & Conditions ",-1),M=c("p",{class:"mb-0"}," Enter Terms & Conditions Details ",-1),O=c("p",null,"Content",-1),we=F({__name:"add-terms-conditions",props:{name:{},product_type:{},body:{},section:{}},emits:["update:name","update:subject","update:product_type","update:body","update:section"],setup(_,{emit:z}){const n=_,f=N(),e=r({name:r(n.name),product_type:r(n.product_type),body:r(n.body),section:r(n.section)}),v=r([{title:"Admin",value:"admin"},{title:"Crm",value:"crm"},{title:"Bank",value:"bank"},{title:"Vendor",value:"vendor"},{title:"Anchor",value:"anchor"}]),V=r([{title:"Vendor Financing",value:"vendor_financing"},{title:"Dealer Financing",value:"dealer_financing"},{title:"Factoring",value:"factoring"}]),s=r(!1),y=w(()=>!["admin","crm","bank"].includes(e.value.section)),b=async()=>{if(!e.value.name||!e.value.body||!e.value.section){d.error("Please fill in all required fields.");return}s.value=!0;try{await E("/UI/configurations/add/terms-and-conditions",{method:"POST",body:e.value}),d.success("Terms & Conditions added successfully!"),setTimeout(async()=>{await q(()=>{f.push("/configurations/terms-conditions")})},3e3)}catch{d.error("Failed to add Terms & Conditions. Please try again.")}finally{s.value=!1}};return(C,l)=>{const T=S,p=x,g=h,k=D("VSpinner");return m(),u(j,null,{default:a(()=>[t(I,null,{default:a(()=>[t(R,null,{default:a(()=>[t(i,{cols:"12"},{default:a(()=>[L,M]),_:1}),t(i,{cols:"12",md:"12"},{default:a(()=>[t(T,{modelValue:e.value.name,"onUpdate:modelValue":l[0]||(l[0]=o=>e.value.name=o),placeholder:"T&C Name",label:"T&C Name",rules:[o=>!!o||"T&C Name is required"]},null,8,["modelValue","rules"])]),_:1}),t(i,{cols:"12",md:"12"},{default:a(()=>[t(p,{modelValue:e.value.section,"onUpdate:modelValue":l[1]||(l[1]=o=>e.value.section=o),items:v.value,class:"me-1","clear-icon":"tabler-circle-x",clearable:"",placeholder:"Usage section",label:"Section",rules:[o=>!!o||"Section is required"]},null,8,["modelValue","items","rules"])]),_:1}),y.value?(m(),u(i,{key:0,cols:"12",md:"12"},{default:a(()=>[t(p,{modelValue:e.value.product_type,"onUpdate:modelValue":l[2]||(l[2]=o=>e.value.product_type=o),items:V.value,class:"me-1","clear-icon":"tabler-circle-x",clearable:"",label:"Product Type",placeholder:"Product Type"},null,8,["modelValue","items"])]),_:1})):B("",!0),t(i,{cols:"12",md:"12"},{default:a(()=>[O,t(g,{modelValue:e.value.body,"onUpdate:modelValue":l[3]||(l[3]=o=>e.value.body=o),class:"border rounded basic-editor"},null,8,["modelValue"])]),_:1}),t(i,{cols:"12",md:"12"},{default:a(()=>[t(P,{color:"success",onClick:b,disabled:s.value},{default:a(()=>[s.value?(m(),u(k,{key:0})):(m(),U($,{key:1},[A(" Submit ")],64))]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1})]),_:1})}}});export{we as default};
