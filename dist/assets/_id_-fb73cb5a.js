import{_ as B}from"./AppStepper.vue_vue_type_style_index_0_lang-c08c6f80.js";import{_ as R}from"./ConfirmDialog.vue_vue_type_script_setup_true_lang-bda56c71.js";import{_ as h}from"./AppSelect.vue_vue_type_script_setup_true_lang-32a0f469.js";import{_ as F}from"./AppTextField.vue_vue_type_script_setup_true_lang-93dc1e26.js";import{d as y,r as m,l as I,o as L,c as O,b as e,f as t,p as a,a4 as S,a$ as T,x as C,e as N,aI as _,F as P,aM as z,k as W,h as E,z as H}from"./index-75b434bc.js";import{$ as M}from"./api-0c1dfdf3.js";import{V as r}from"./VCol-35b3d337.js";import{V as g}from"./VCard-95c0d706.js";import{V}from"./VCardText-76f31582.js";import{V as q}from"./VForm-e46f5921.js";import{V as D}from"./VRow-d6f20668.js";import{V as Y}from"./VCheckbox-e2d8e1ba.js";import{V as j,a as $}from"./VWindowItem-04415d19.js";import"./VSlideGroup-3e745b05.js";import"./VSlideGroupItem-95742265.js";import"./VDialog-bc06d443.js";import"./VOverlay-0b79a00d.js";import"./easing-9f15041e.js";import"./lazy-0bb5e457.js";import"./scopeId-ee2feb8e.js";import"./transition-6afda34e.js";import"./forwardRefs-8348545e.js";import"./dialog-transition-14fdab67.js";import"./form-2b416184.js";import"./VSelect-54e8b29a.js";import"./VTextField-05e93cc8.js";/* empty css                   */import"./VCounter-3e4b236e.js";import"./VField-82993695.js";import"./VInput-b46333d7.js";import"./index-97808f23.js";import"./VList-c7d4c8b4.js";import"./ssrBoot-7f224ca6.js";import"./createSimpleFunctional-4b3a0a39.js";import"./VAvatar-071125b9.js";import"./VImg-ba4b392a.js";import"./VDivider-fc890531.js";import"./VMenu-3f143933.js";import"./VCheckboxBtn-0f22f589.js";import"./VSelectionControl-e1264669.js";import"./VChip-e2ddd660.js";import"./index-2898f57d.js";/* empty css              */const G=y({__name:"LeadDetails",props:{pipeline:{}},setup(x){const n=x,b=m({message:void 0,statusCode:void 0}),v=I(),f={stage:"Lead",pointOfContact:"",region:"",branch:"",status:"Hot"},u=m(!1),l=m(structuredClone(f)),d=m(!1),p=[i=>!!i||"Please confirm before saving the details"],U=()=>{l.value=structuredClone(f)},w=async()=>{try{const i=await M(`/store/UI/pipeline/lead/data/${n.pipeline}`,{method:"POST",body:l.value,onResponseError({response:c}){b.value=c._data.errors}});console.log(i);const{message:o}=i;console.log(o),await z(()=>{v.push("/pipeline/leads/Leads")})}catch(i){console.error(i)}};return(i,o)=>{const c=F,k=h,A=R;return L(),O(P,null,[e(D,null,{default:t(()=>[e(r,{cols:"12"},{default:t(()=>[e(g,null,{default:t(()=>[e(V,null,{default:t(()=>[e(q,{class:"mt-6"},{default:t(()=>[e(D,null,{default:t(()=>[e(r,{md:"6",cols:"12"},{default:t(()=>[e(c,{modelValue:a(l).pointOfContact,"onUpdate:modelValue":o[0]||(o[0]=s=>a(l).pointOfContact=s),placeholder:"Point of Contact",label:"Point of Contact"},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[e(c,{modelValue:a(l).region,"onUpdate:modelValue":o[1]||(o[1]=s=>a(l).region=s),label:"Region",placeholder:"region"},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[e(c,{modelValue:a(l).branch,"onUpdate:modelValue":o[2]||(o[2]=s=>a(l).branch=s),label:"Branch",placeholder:"Branch"},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[e(k,{modelValue:a(l).status,"onUpdate:modelValue":o[3]||(o[3]=s=>a(l).status=s),label:"Status",placeholder:"Select Status",items:["Hot","Warm","Cold"]},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",class:"d-flex flex-wrap gap-4"},{default:t(()=>[e(S,{color:"secondary",variant:"tonal",type:"reset",onClick:T(U,["prevent"])},{default:t(()=>[C(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(r,{cols:"12"},{default:t(()=>[e(g,{title:"Converting Contact to Lead"},{default:t(()=>[e(V,null,{default:t(()=>[N("div",null,[e(Y,{modelValue:a(d),"onUpdate:modelValue":o[4]||(o[4]=s=>_(d)?d.value=s:null),rules:p,label:"I confirm that the details are correct"},null,8,["modelValue"])]),e(S,{disabled:!a(d),color:"error",class:"mt-3",onClick:o[5]||(o[5]=s=>u.value=!0)},{default:t(()=>[C(" Save & Contact ")]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1})]),_:1}),e(A,{isDialogVisible:a(u),"onUpdate:isDialogVisible":o[6]||(o[6]=s=>_(u)?u.value=s:null),"confirmation-question":"Are you sure you want to save this details?","confirm-title":"Saved!","confirm-msg":"Your account has been saved successfully.","cancel-title":"Cancelled","cancel-msg":"Leads contact Cancelled!",onConfirm:w},null,8,["isDialogVisible"])],64)}}}),Ne=y({__name:"[id]",setup(x){const n=m(0),b=W(),v=m(b.params.id),f=[{title:"Lead Details",subtitle:"Lead Info",icon:"tabler-users"}];return(u,l)=>{const d=B;return L(),E(g,null,{default:t(()=>[e(D,{"no-gutters":""},{default:t(()=>[e(r,{cols:"12",md:"4",lg:"3",class:H(u.$vuetify.display.mdAndUp?"border-e":"border-b")},{default:t(()=>[e(V,null,{default:t(()=>[e(d,{"current-step":a(n),"onUpdate:currentStep":l[0]||(l[0]=p=>_(n)?n.value=p:null),direction:"vertical",items:f,"icon-size":"24",class:"stepper-icon-step-bg"},null,8,["current-step"])]),_:1})]),_:1},8,["class"]),e(r,{cols:"12",md:"8",lg:"9"},{default:t(()=>[e(V,null,{default:t(()=>[e(j,{modelValue:a(n),"onUpdate:modelValue":l[1]||(l[1]=p=>_(n)?n.value=p:null),class:"disable-tab-transition"},{default:t(()=>[e($,null,{default:t(()=>[e(G,{pipeline:a(v)},null,8,["pipeline"])]),_:1}),e($,null,{default:t(()=>[C(" No Draft ")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})}}});export{Ne as default};
