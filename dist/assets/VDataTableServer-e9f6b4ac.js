import{m as K,a as M,b as Q,c as U,d as Y,e as Z,f as $,u as ee,p as ae,g as te,h as oe,i as se,j as le,k as re,l as de,n as S,o as h,q as y}from"./VDataTable-c3cccdda.js";import{N as ue,aj as ne,R as c,am as o,aw as ie,X as ce,aP as me,b as s,F as ge,t as m}from"./index-75b434bc.js";import{V as f}from"./VTable-de2d1039.js";const ve=ue({itemsLength:{type:[Number,String],required:!0},...K(),...M(),...Q()},"VDataTableServer"),Se=ne()({name:"VDataTableServer",props:ve(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:expanded":e=>!0,"update:groupBy":e=>!0},setup(e,D){let{emit:pe,slots:a}=D;const{groupBy:d}=U(e),{sortBy:l,multiSort:V,mustSort:x}=Y(e),{page:u,itemsPerPage:i}=Z(e),w=c(()=>parseInt(e.itemsLength,10)),{columns:g,headers:B}=$(e,{groupBy:d,showSelect:o(e,"showSelect"),showExpand:o(e,"showExpand")}),{items:n}=ee(e,g),{toggleSort:v}=ae({sortBy:l,multiSort:V,mustSort:x,page:u}),{opened:I,isGroupOpen:R,toggleGroup:k,extractRows:F}=te({groupBy:d,sortBy:l}),{pageCount:G,setItemsPerPage:E}=oe({page:u,itemsPerPage:i,itemsLength:w}),{flatItems:p}=se(n,d,I),{isSelected:N,select:H,selectAll:_,toggleSelect:C,someSelected:L,allSelected:j}=le(e,{allItems:n,currentPage:n}),{isExpanded:q,toggleExpand:O}=re(e),A=c(()=>F(n.value));de({page:u,itemsPerPage:i,sortBy:l,groupBy:d,search:o(e,"search")}),me("v-data-table",{toggleSort:v,sortBy:l}),ie({VDataTableRows:{hideNoData:o(e,"hideNoData"),noDataText:o(e,"noDataText"),loading:o(e,"loading"),loadingText:o(e,"loadingText")}});const t=c(()=>({page:u.value,itemsPerPage:i.value,sortBy:l.value,pageCount:G.value,toggleSort:v,setItemsPerPage:E,someSelected:L.value,allSelected:j.value,isSelected:N,select:H,selectAll:_,toggleSelect:C,isExpanded:q,toggleExpand:O,isGroupOpen:R,toggleGroup:k,items:A.value,groupedItems:p.value,columns:g.value,headers:B.value}));ce(()=>{const[W]=S.filterProps(e),[X]=h.filterProps(e),[z]=y.filterProps(e),[J]=f.filterProps(e);return s(f,m({class:["v-data-table",{"v-data-table--loading":e.loading},e.class],style:e.style},J),{top:()=>{var r;return(r=a.top)==null?void 0:r.call(a,t.value)},default:()=>{var r,b,P,T;return a.default?a.default(t.value):s(ge,null,[(r=a.colgroup)==null?void 0:r.call(a,t.value),s("thead",{class:"v-data-table__thead",role:"rowgroup"},[s(h,m(X,{sticky:e.fixedHeader}),a)]),(b=a.thead)==null?void 0:b.call(a,t.value),s("tbody",{class:"v-data-table__tbody",role:"rowgroup"},[a.body?a.body(t.value):s(y,m(z,{items:p.value}),a)]),(P=a.tbody)==null?void 0:P.call(a,t.value),(T=a.tfoot)==null?void 0:T.call(a,t.value)])},bottom:()=>a.bottom?a.bottom(t.value):s(S,W,{prepend:a["footer.prepend"]})})})}});export{Se as V};
