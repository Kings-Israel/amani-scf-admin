import{_ as A}from"./AppSelect.vue_vue_type_script_setup_true_lang-67ce80f3.js";import{_ as I}from"./AppTextField.vue_vue_type_script_setup_true_lang-298ad98d.js";import{V as n}from"./VCol-bcc5388c.js";import{d as E,r as h,w as u,o as i,h as D,f as o,b as a,c as m,j as v,F as y,a4 as P,x as b,e as T,a as G,a9 as O,A as k}from"./index-5caaa453.js";import{V as _}from"./VRow-e44df108.js";const M=T("h6",{class:"text-h6 font-weight-medium"}," Account Details ",-1),$=T("p",{class:"mb-0"}," Enter your Account Details ",-1),J=E({__name:"discount-fees",props:{benchmarkTitle:{},currentBaseRate:{},programsdata:{},taxOnDiscount:{},limitBlockOverdueDays:{},penalDiscountOnPrinciple:{},discountOnPostedDiscountSpread:{},discountOnPostedDiscount:{},discountType:{},gracePeriodDays:{},gracePeriodDiscount:{},maturityHandlingOnHolidays:{},feeName:{},feeType:{},feePercentage:{},feeValue:{},anchorBearing:{},vendorBearing:{},taxes:{},rawDiscounts:{},rawFees:{}},emits:["update:benchmarkTitle","update:currentBaseRate","update:businessStrategySpread","update:creditSpread","update:totalSpread","update:totalROI","update:taxOnDiscount","update:limitBlockOverdueDays","update:penalDiscountOnPrinciple","update:discountOnPostedDiscountSpread","update:discountOnPostedDiscount","update:discountType","update:gracePeriodDays","update:gracePeriodDiscount","update:maturityHandlingOnHolidays","update:feeName","update:feeType","update:rawDiscounts"],setup(x,{emit:B}){const r=x,s=B,t=h({benchmarkTitle:r.benchmarkTitle,currentBaseRate:r.currentBaseRate,businessStrategySpread:"",creditSpread:"",totalSpread:"",totalROI:"",taxOnDiscount:r.taxOnDiscount,limitBlockOverdueDays:r.limitBlockOverdueDays,penalDiscountOnPrinciple:r.penalDiscountOnPrinciple,discountOnPostedDiscountSpread:r.discountOnPostedDiscountSpread,discountOnPostedDiscount:r.discountOnPostedDiscount,discountType:r.discountType,gracePeriodDays:r.gracePeriodDays,gracePeriodDiscount:r.gracePeriodDiscount,maturityHandlingOnHolidays:r.maturityHandlingOnHolidays,feeName:"",feeType:"",feePercentage:"",feeValue:"",anchorBearing:"",vendorBearing:"",taxes:r.taxes,rawDiscounts:r.rawDiscounts,rawFees:r.rawFees}),S=[{name:"Front Ended",value:"Front Ended"},{name:"Rear Ended",value:"Rear Ended"}],w=[{name:"No Effect",value:"No Effect"},{name:"Prepone to previous working day",value:"Postpone to next working day"},{name:"Postpone to next working day",value:"Postpone to next working day"}],U=[{name:"VAT (16%)",value:"VAT (16%)"},{name:"Withholding Vat (2%)",value:"Withholding Vat (2%)"}];u(()=>t.value.benchmarkTitle,e=>s("update:benchmarkTitle",e)),u(()=>t.value.currentBaseRate,e=>s("update:currentBaseRate",e)),u(()=>t.value.businessStrategySpread,e=>s("update:businessStrategySpread",e)),u(()=>t.value.creditSpread,e=>s("update:creditSpread",e)),u(()=>t.value.totalSpread,e=>s("update:totalSpread",e)),u(()=>t.value.totalROI,e=>s("update:totalROI",e)),u(()=>t.value.taxOnDiscount,e=>s("update:taxOnDiscount",e)),u(()=>t.value.limitBlockOverdueDays,e=>s("update:limitBlockOverdueDays",e)),u(()=>t.value.penalDiscountOnPrinciple,e=>s("update:penalDiscountOnPrinciple",e)),u(()=>t.value.discountOnPostedDiscountSpread,e=>s("update:discountOnPostedDiscountSpread",e)),u(()=>t.value.discountOnPostedDiscount,e=>s("update:discountOnPostedDiscount",e)),u(()=>t.value.discountType,e=>s("update:discountType",e)),u(()=>t.value.gracePeriodDays,e=>s("update:gracePeriodDays",e)),u(()=>t.value.gracePeriodDiscount,e=>s("update:gracePeriodDiscount",e)),u(()=>t.value.maturityHandlingOnHolidays,e=>s("update:maturityHandlingOnHolidays",e)),u(()=>t.value.rawDiscounts,e=>s("update:rawDiscounts",e)),u(()=>t.value.rawFees,e=>s("update:rawFees",e));const F=h([{key:"taxOnDiscount",type:"text",model:"taxOnDiscount",label:"Tax on Discount",placeholder:"Tax on Discount",readonly:!1,rules:[]},{key:"limitBlockOverdueDays",type:"text",model:"limitBlockOverdueDays",label:"Limit Block Overdue Days",placeholder:"Limit Block Overdue Days",readonly:!1,rules:[]},{key:"penalDiscountOnPrinciple",type:"text",model:"penalDiscountOnPrinciple",label:"Penal Discount on Principle (%)",placeholder:"Penal Discount on Principle",readonly:!1,rules:[]},{key:"discountOnPostedDiscountSpread",type:"text",model:"discountOnPostedDiscountSpread",label:"Discount on Posted Discount Spread",placeholder:"Discount on Posted Discount Spread",readonly:!1,rules:[]},{key:"discountOnPostedDiscount",type:"text",model:"discountOnPostedDiscount",label:"Discount on Posted Discount (%)",placeholder:"Discount on Posted Discount (%)",readonly:!1,rules:[]},{key:"discountType",type:"select",items:S,model:"discountType",label:"Discount Type",placeholder:"Discount Type",readonly:!1,rules:[]},{key:"gracePeriodDays",type:"text",model:"gracePeriodDays",label:"Grace Period (Days)",placeholder:"Grace Period (Days)",readonly:!1,rules:[]},{key:"gracePeriodDiscount",type:"text",model:"gracePeriodDiscount",label:"Grace Period Discount",placeholder:"Grace Period Discount",readonly:!1,rules:[]},{key:"maturityHandlingOnHolidays",type:"select",items:w,model:"maturityHandlingOnHolidays",label:"Maturity Handling on Holidays",placeholder:"Maturity Handling on Holidays",readonly:!1,rules:[]}]);for(const e of r.programsdata.discount_details)t.value.rawDiscounts.push({from_day:e.from_day,to_day:e.to_day,credit_spread:e.credit_spread,total_spread:e.total_spread,total_roi:e.total_roi,business_strategy_spread:e.business_strategy_spread});for(const e of r.programsdata.fees)t.value.rawFees.push({fee_name:e.fee_name,type:e.type,value:e.value,dealer_bearing:e.dealer_bearing,taxes:e.taxes});const H=e=>{t.value.rawDiscounts.splice(e,1)},R=()=>{t.value.rawDiscounts.push({from_day:"",to_day:"",credit_spread:"",total_spread:"",total_roi:"",business_strategy_spread:""})},C=e=>{t.value.rawFees.splice(e,1)},N=()=>{t.value.rawFees.push({fee_name:"",type:"",value:"",dealer_bearing:"",taxes:""})};return(e,V)=>{const c=I,g=G("IconBtn"),f=A;return i(),D(_,null,{default:o(()=>[a(n,{cols:"12"},{default:o(()=>[M,$]),_:1}),a(n,{cols:"12",md:"6"},{default:o(()=>[a(c,{modelValue:t.value.benchmarkTitle,"onUpdate:modelValue":V[0]||(V[0]=l=>t.value.benchmarkTitle=l),placeholder:"Benchmark Title(Maturity)",label:"Benchmark Title(Maturity)"},null,8,["modelValue"])]),_:1}),a(n,{cols:"12",md:"6"},{default:o(()=>[a(c,{modelValue:t.value.currentBaseRate,"onUpdate:modelValue":V[1]||(V[1]=l=>t.value.currentBaseRate=l),placeholder:"Current Base Rate",label:"Current Base Rate"},null,8,["modelValue"])]),_:1}),(i(!0),m(y,null,v(t.value.rawDiscounts,(l,p)=>(i(),m(y,{key:p},[a(n,{cols:"12",md:"12"},{default:o(()=>[a(_,null,{default:o(()=>[a(n,{cols:"12",md:"6"},{default:o(()=>[a(c,{modelValue:l.from_day,"onUpdate:modelValue":d=>l.from_day=d,placeholder:"From Day",label:"From Day"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),a(n,{cols:"12",md:"6"},{default:o(()=>[a(c,{modelValue:l.to_day,"onUpdate:modelValue":d=>l.to_day=d,placeholder:"To Day",label:"To Day"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),a(n,{cols:"12",md:"3",class:"py-0"},{default:o(()=>[a(c,{modelValue:l.credit_spread,"onUpdate:modelValue":d=>l.credit_spread=d,placeholder:"Credit Spread (%)",label:"Credit Spread (%)"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),a(n,{cols:"12",md:"3",class:"py-0"},{default:o(()=>[a(c,{modelValue:l.business_strategy_spread,"onUpdate:modelValue":d=>l.business_strategy_spread=d,placeholder:"Business Strategy Spread (%)",label:"Business Strategy Spread (%)"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),a(n,{cols:"12",md:"3",class:"py-0"},{default:o(()=>[a(c,{modelValue:l.total_spread,"onUpdate:modelValue":d=>l.total_spread=d,placeholder:"Total Spread (%)",label:"Total Spread (%)"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),a(n,{cols:"12",md:"3",class:"py-0"},{default:o(()=>[a(c,{modelValue:l.total_roi,"onUpdate:modelValue":d=>l.total_roi=d,placeholder:"Total ROI (%)",label:"Total ROI (%)"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]),_:2},1024),a(_,null,{default:o(()=>[a(n,{cols:"12",md:"6"},{default:o(()=>[t.value.rawDiscounts.length>1?(i(),D(g,{key:0,onClick:d=>H(p)},{default:o(()=>[a(O,{icon:"tabler-trash",color:"error"})]),_:2},1032,["onClick"])):k("",!0)]),_:2},1024)]),_:2},1024)],64))),128)),a(n,{cols:"12",md:"6",class:"text-left"},{default:o(()=>[a(P,{color:"primary",onClick:R},{default:o(()=>[b(" Add ")]),_:1})]),_:1}),a(n,{cols:"12",md:"12"},{default:o(()=>[a(_,null,{default:o(()=>[(i(!0),m(y,null,v(F.value,l=>(i(),m(y,{key:l.key},[l.type==="select"?(i(),D(n,{key:0,cols:"12",md:"6"},{default:o(()=>[a(f,{modelValue:t.value[l.model],"onUpdate:modelValue":p=>t.value[l.model]=p,items:l.items,"item-title":"name","item-value":"value",rules:l.rules,label:l.label,placeholder:l.placeholder},null,8,["modelValue","onUpdate:modelValue","items","rules","label","placeholder"])]),_:2},1024)):(i(),D(n,{key:1,cols:"12",md:"6"},{default:o(()=>[a(c,{modelValue:t.value[l.model],"onUpdate:modelValue":p=>t.value[l.model]=p,label:l.label,placeholder:l.placeholder,readonly:l.readonly,rules:l.rules},null,8,["modelValue","onUpdate:modelValue","label","placeholder","readonly","rules"])]),_:2},1024))],64))),128)),a(n,{cols:"12",md:"12"},{default:o(()=>[(i(!0),m(y,null,v(t.value.rawFees,(l,p)=>(i(),m(y,{key:p},[a(_,null,{default:o(()=>[a(n,{cols:"12",md:"4"},{default:o(()=>[a(c,{modelValue:l.fee_name,"onUpdate:modelValue":d=>l.fee_name=d,placeholder:"Fee Name",label:"Fee Name"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),a(n,{cols:"12",md:"4"},{default:o(()=>[a(c,{modelValue:l.type,"onUpdate:modelValue":d=>l.type=d,placeholder:"Type",label:"Type"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),a(n,{cols:"12",md:"4"},{default:o(()=>[a(c,{modelValue:l.value,"onUpdate:modelValue":d=>l.value=d,placeholder:"Value",label:"Value"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),a(n,{cols:"12",md:"4"},{default:o(()=>[a(c,{modelValue:l.dealer_bearing,"onUpdate:modelValue":d=>l.dealer_bearing=d,placeholder:"Dealer Bearing (%)",label:"Dealer Bearing (%)"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),a(n,{cols:"12",md:"4"},{default:o(()=>[a(c,{modelValue:l.vendor_bearing_discount,"onUpdate:modelValue":d=>l.vendor_bearing_discount=d,placeholder:"Vendor Bearing (%)",label:"Vendor Bearing (%)"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),a(n,{cols:"12",md:"4"},{default:o(()=>[a(f,{modelValue:l.taxes,"onUpdate:modelValue":d=>l.taxes=d,items:U,"item-title":"name","item-value":"value",placeholder:"Taxes",label:"Taxes"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),a(_,null,{default:o(()=>[a(n,{cols:"12",md:"6"},{default:o(()=>[t.value.rawFees.length>1?(i(),D(g,{key:0,onClick:d=>C(p)},{default:o(()=>[a(O,{icon:"tabler-trash",color:"error"})]),_:2},1032,["onClick"])):k("",!0)]),_:2},1024)]),_:2},1024)],64))),128)),a(n,{cols:"12",md:"6",class:"text-left"},{default:o(()=>[a(P,{color:"primary",onClick:N},{default:o(()=>[b(" Add ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}});export{J as _};
