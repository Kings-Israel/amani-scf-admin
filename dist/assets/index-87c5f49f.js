import{_ as se}from"./AppSelect.vue_vue_type_script_setup_true_lang-67ce80f3.js";import{_ as ne}from"./AppTextField.vue_vue_type_script_setup_true_lang-298ad98d.js";import{d as Y,r as l,l as me,bf as ye,o as B,c as F,b as e,f as t,x as U,p as a,aI as i,e as R,y as re,a$ as J,a4 as q,F as O,aM as pe,b6 as ge,R as oe,k as Se,a as be,a9 as M,h as ae,A as ce,t as Ae,j as xe}from"./index-5caaa453.js";import{r as L}from"./validators-db74a876.js";import{_ as fe}from"./DialogCloseBtn.vue_vue_type_script_setup_true_lang-9e7a34d5.js";import{$ as G}from"./api-44dd0fa9.js";import{V as Ce}from"./VSnackbar-ea7773d7.js";import{V as z,a as de}from"./VCard-1a5b2c5e.js";import{V as K}from"./VCardText-3b4da816.js";import{V as X}from"./VForm-ed4803d2.js";import{V as Q}from"./VRow-e44df108.js";import{V as g}from"./VCol-bcc5388c.js";import{V as ve}from"./VDialog-808ce03e.js";import{u as Ue}from"./useApi-c9327355.js";import{c as ke}from"./createUrl-3e678c2b.js";import{V as we}from"./VDataTableServer-64dc84b4.js";import{V as $e}from"./VChip-49676f7d.js";import{a as Ve,V as Be}from"./VTabs-423f31b3.js";import{V as he,a as ie}from"./VWindowItem-1e406499.js";import"./form-c9c578a3.js";import"./VSelect-f0a443ce.js";import"./VTextField-604d91ff.js";/* empty css                   */import"./VCounter-728f7f8c.js";import"./transition-1886cce0.js";import"./VField-6b3808ed.js";import"./easing-9f15041e.js";import"./VInput-e87890b4.js";import"./forwardRefs-8348545e.js";import"./index-7dd1f5f0.js";import"./VList-4b1bf96e.js";import"./ssrBoot-2696bccc.js";import"./createSimpleFunctional-9624028d.js";import"./VAvatar-3ee4c690.js";import"./VImg-6009f8f0.js";import"./VDivider-d40713ce.js";import"./dialog-transition-1ae6ec72.js";import"./VMenu-97c48b4e.js";import"./VOverlay-da001e16.js";import"./lazy-9cd674a5.js";import"./scopeId-484eb469.js";import"./VCheckboxBtn-1d552264.js";import"./VSelectionControl-e0df1dbd.js";import"./helpers-681711bc.js";import"./index-2898f57d.js";/* empty css              */import"./VDataTable-1493872b.js";import"./VTable-f9bab7db.js";import"./filter-aecd5fc1.js";import"./VSlideGroup-1fe3f4d3.js";const Ie={class:"text-h3 text-left mb-5"},Re=Y({__name:"EditCurrenciesDialog",props:{isDialogVisible:{type:Boolean},currency:{}},emits:["update:isDialogVisible"],setup(j,{emit:c}){const T=j,D=c,d=n=>{D("update:isDialogVisible",n)},S=l({message:void 0,statusCode:void 0});me();const C=l(!1),m=l(structuredClone(ye(T.currency))),v=l(m.value.name),_=l(m.value.symbol),V=l(m.value.status),A=async()=>{try{const n=await G("/UI/configurations/edit/currency",{method:"POST",body:{currency_id:m.value.id,name:v.value,symbol:_.value,status:V.value},onResponseError({response:p}){S.value=p._data.errors}});C.value=!0,console.log(n),await pe(()=>{});const{message:y}=n}catch(n){console.error(n)}},k=l([{title:"Active",value:"active"},{title:"In active",value:"inactive"}]);return(n,y)=>{const p=fe,f=ne,h=se;return B(),F(O,null,[e(Ce,{modelValue:a(C),"onUpdate:modelValue":y[0]||(y[0]=b=>i(C)?C.value=b:null),color:"success",location:"top end",variant:"flat"},{default:t(()=>[U(" Rates Updated Successfully ")]),_:1},8,["modelValue"]),e(ve,{"model-value":T.isDialogVisible,"max-width":"900","onUpdate:modelValue":d},{default:t(()=>[e(p,{onClick:y[1]||(y[1]=b=>D("update:isDialogVisible",!1))}),e(z,{class:"refer-and-earn-dialog"},{default:t(()=>[e(K,{class:"pa-5 pa-sm-16"},{default:t(()=>[R("h3",Ie," Update Currency: "+re(T.currency.name),1),e(X,{onSubmit:J(()=>{},["prevent"])},{default:t(()=>[e(Q,null,{default:t(()=>[e(g,{cols:"12",md:"12"},{default:t(()=>[e(f,{modelValue:a(v),"onUpdate:modelValue":y[2]||(y[2]=b=>i(v)?v.value=b:null),rules:["requiredValidator"in n?n.requiredValidator:a(L)],label:"Currency Title",placeholder:"Currency Title"},null,8,["modelValue","rules"])]),_:1}),e(g,{cols:"12",md:"12"},{default:t(()=>[e(f,{modelValue:a(_),"onUpdate:modelValue":y[3]||(y[3]=b=>i(_)?_.value=b:null),rules:["requiredValidator"in n?n.requiredValidator:a(L)],label:"Symbol",placeholder:"Symbol"},null,8,["modelValue","rules"])]),_:1}),e(g,{cols:"12",md:"12"},{default:t(()=>[e(h,{modelValue:a(V),"onUpdate:modelValue":y[4]||(y[4]=b=>i(V)?V.value=b:null),items:a(k),class:"me-1","clear-icon":"tabler-x",clearable:"",placeholder:"Status",style:{"inline-size":"200px"}},null,8,["modelValue","items"])]),_:1}),e(g,{class:"d-flex gap-4",cols:"12",md:"9"},{default:t(()=>[e(q,{type:"submit",onClick:A},{default:t(()=>[U(" Submit ")]),_:1}),e(q,{color:"secondary",type:"reset",variant:"tonal"},{default:t(()=>[U(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"])],64)}}});const qe={class:"d-flex flex-wrap gap-4 mx-5 my-5"},Ne={class:"d-flex align-center"},Pe=R("h4",{class:"text-h4"}," Currencies ",-1),Ee=Y({__name:"currencies",async setup(j){let c,T;const D=[{title:"Currency Title",key:"name"},{title:"Symbol",key:"symbol"},{title:"Actions",key:"actions",sortable:!1}],d=l(!1),S=r=>r&&r==="active"?{color:"success",icon:"tabler-thumb-up",title:"Deactivate"}:{color:"error",icon:"tabler-thumb-down",title:"Activate"};l(!0),l(0);const C=l(""),m=l(),v=l(5),_=l(1),V=l(),A=l();l(!1);const k=l(null),n=r=>{k.value=r,d.value=!0},{data:y,execute:p}=([c,T]=ge(()=>Ue(ke("/UI/configurations/currencies",{query:{q:C,status:m,page:_,itemsPerPage:v,sortBy:V,orderBy:A}}))),c=await c,T(),c),f=r=>{var w,H;_.value=r.page,V.value=(w=r.sortBy[0])==null?void 0:w.key,A.value=(H=r.sortBy[0])==null?void 0:H.order},h=oe(()=>y.value.data),b=oe(()=>y.value.total);l({message:void 0,statusCode:void 0}),l([]),l(!1),l(""),l(""),l(""),l(""),Se(),me();const P=l([{title:"Active",value:"active"},{title:"In active",value:"inactive"}]);return(r,w)=>{const H=ne,ue=se,Z=be("IconBtn");return B(),F(O,null,[e(X,{onSubmit:J(()=>{},["prevent"])},{default:t(()=>[e(Q,null,{default:t(()=>[e(g,{cols:"12",md:"12"},{default:t(()=>[e(z,{class:"d-flex flex-column"},{default:t(()=>[R("div",qe,[R("div",Ne,[e(H,{modelValue:a(C),"onUpdate:modelValue":w[0]||(w[0]=x=>i(C)?C.value=x:null),class:"me-3","clear-icon":"tabler-circle-x",clearable:"",color:"primary",placeholder:"Currency",style:{"inline-size":"200px"},type:"text"},null,8,["modelValue"]),e(ue,{modelValue:a(m),"onUpdate:modelValue":w[1]||(w[1]=x=>i(m)?m.value=x:null),items:a(P),class:"me-3","clear-icon":"tabler-x",clearable:"",placeholder:"Status",style:{"inline-size":"200px"}},null,8,["modelValue","items"])])]),e(de,{class:"notification-section"},{default:t(()=>[Pe,e(a(we),{"items-per-page":a(v),"onUpdate:itemsPerPage":w[2]||(w[2]=x=>i(v)?v.value=x:null),page:a(_),"onUpdate:page":w[3]||(w[3]=x=>i(_)?_.value=x:null),headers:D,items:a(h),"items-length":a(b),class:"text-no-wrap","show-select":"","onUpdate:options":f},{"item.actions":t(({item:x})=>{var W;return[e(Z,{onClick:I=>n(x)},{default:t(()=>[e(M,{icon:"tabler-pencil",color:"warning"})]),_:2},1032,["onClick"]),e(Z,{title:(W=S(x.status))==null?void 0:W.title},{default:t(()=>{var I,ee;return[e(M,{icon:(I=S(x.status))==null?void 0:I.icon,color:(ee=S(x.status))==null?void 0:ee.color,onClick:_e=>r.approve(x.id)},null,8,["icon","color","onClick"])]}),_:2},1032,["title"])]}),_:1},8,["items-per-page","page","items","items-length"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),a(d)?(B(),ae(Re,{key:0,isDialogVisible:a(d),"onUpdate:isDialogVisible":w[4]||(w[4]=x=>i(d)?d.value=x:null),currency:a(k)},null,8,["isDialogVisible","currency"])):ce("",!0)],64)}}});const ze={class:"text-h3 text-left mb-5"},Fe=Y({__name:"EditTaxesDialog",props:{isDialogVisible:{type:Boolean},tax:{}},emits:["update:isDialogVisible"],setup(j,{emit:c}){const T=j,D=c,d=p=>{D("update:isDialogVisible",p)},S=l({message:void 0,statusCode:void 0}),C=me(),m=l(!1),v=l(structuredClone(ye(T.tax))),_=l(v.value.name),V=l(v.value.percentage),A=l(v.value.account_no),k=l(v.value.status),n=async()=>{try{const p=await G("UI/configurations/edit/tax-rates-configurations",{method:"POST",body:{tax_id:v.value.id,bank_id:v.value.bank_id,name:_.value,percentage:V.value,account_no:A.value,status:k.value},onResponseError({response:h}){S.value=h._data.errors}});m.value=!0,console.log(p),await pe(()=>{C.go(0)});const{message:f}=p}catch(p){console.error(p)}},y=l([{title:"Active",value:"active"},{title:"In active",value:"inactive"}]);return(p,f)=>{const h=fe,b=ne,P=se;return B(),F(O,null,[e(Ce,{modelValue:a(m),"onUpdate:modelValue":f[0]||(f[0]=r=>i(m)?m.value=r:null),color:"success",location:"top end",variant:"flat"},{default:t(()=>[U(" Rates Updated Successfully ")]),_:1},8,["modelValue"]),e(ve,{"model-value":T.isDialogVisible,"max-width":"900","onUpdate:modelValue":d},{default:t(()=>[e(h,{onClick:f[1]||(f[1]=r=>D("update:isDialogVisible",!1))}),e(z,{class:"refer-and-earn-dialog"},{default:t(()=>[e(K,{class:"pa-5 pa-sm-16"},{default:t(()=>[R("h3",ze," Update Tax: "+re(T.tax.name),1),e(X,{onSubmit:J(()=>{},["prevent"])},{default:t(()=>[e(Q,null,{default:t(()=>[e(g,{cols:"12",md:"12"},{default:t(()=>[e(b,{modelValue:a(_),"onUpdate:modelValue":f[2]||(f[2]=r=>i(_)?_.value=r:null),rules:["requiredValidator"in p?p.requiredValidator:a(L)],label:"Tax Name",placeholder:"Tax Name"},null,8,["modelValue","rules"])]),_:1}),e(g,{cols:"12",md:"12"},{default:t(()=>[e(b,{modelValue:a(V),"onUpdate:modelValue":f[3]||(f[3]=r=>i(V)?V.value=r:null),rules:["requiredValidator"in p?p.requiredValidator:a(L)],type:"number",label:"Percentage",placeholder:"%"},null,8,["modelValue","rules"])]),_:1}),e(g,{cols:"12",md:"12"},{default:t(()=>[e(b,{modelValue:a(A),"onUpdate:modelValue":f[4]||(f[4]=r=>i(A)?A.value=r:null),rules:["requiredValidator"in p?p.requiredValidator:a(L)],type:"number",label:"Account No",placeholder:"%"},null,8,["modelValue","rules"])]),_:1}),e(g,{cols:"12",md:"12"},{default:t(()=>[e(P,{modelValue:a(k),"onUpdate:modelValue":f[5]||(f[5]=r=>i(k)?k.value=r:null),items:a(y),class:"me-1","clear-icon":"tabler-x",clearable:"",placeholder:"Status",style:{"inline-size":"200px"}},null,8,["modelValue","items"])]),_:1}),e(g,{class:"d-flex gap-4",cols:"12",md:"9"},{default:t(()=>[e(q,{type:"submit",onClick:n},{default:t(()=>[U(" Submit ")]),_:1}),e(q,{color:"secondary",type:"reset",variant:"tonal"},{default:t(()=>[U(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"])],64)}}});const Oe={class:"d-flex flex-wrap gap-4 mx-5 my-5"},je={class:"d-flex align-center"},He=R("h4",{class:"text-h4"}," Taxes ",-1),Me={class:"config-d-flex flex-wrap mx-5"},Qe=R("br",null,null,-1),We=Y({__name:"taxes",async setup(j){let c,T;const D=[{title:"Tax Name",key:"name"},{title:"Percentage",key:"percentage"},{title:"Account No",key:"account_no"},{title:"Status",key:"status"},{title:"Actions",key:"actions",sortable:!1}];l(!0),l(0);const d=l(""),S=l(),C=l(10),m=l(1),v=l(),_=l();l(""),l(""),l(""),l(""),l(""),l(""),l(""),l(""),l(""),l(""),l(!1);const V=l(!1),A=u=>{var s,N;m.value=u.page,v.value=(s=u.sortBy[0])==null?void 0:s.key,_.value=(N=u.sortBy[0])==null?void 0:N.order},k=l(null),n=l(!1),y=l(),p=u=>{k.value=u,n.value=!0},f=u=>{k.value=u,V.value=!0},h=l([{title:"Active",value:"active"},{title:"In active",value:"inactive"}]),{data:b,execute:P}=([c,T]=ge(()=>Ue(ke("/UI/configurations/taxes",{query:{q:d,status:S,page:m,itemsPerPage:C,sortBy:v,orderBy:_}}))),c=await c,T(),c),r=u=>u&&u==="active"?{color:"success",icon:"tabler-thumb-up"}:{color:"error",icon:"tabler-thumb-down"},w=u=>u==="active"?{text:"Active",color:"success"}:{text:"Inactive",color:"error"},H=async u=>{try{await G(`UI/configurations/delete/tax-rates-configurations/${u}`,{method:"POST",onResponseError({response:s}){W.value=s._data.errors}}),await P(),n.value=!1}catch(s){console.error(s)}},ue=async u=>{await G("/UI/configurations/activate/tax",{method:"POST",body:{ids:u,status:y.value}}),await P()},Z=oe(()=>b.value.data),x=oe(()=>b.value.total),W=l({message:void 0,statusCode:void 0}),I=l([]),ee=()=>{I.value.push({name:"",percentage:"",account_no:"",status:"Active"})},_e=u=>{I.value.splice(u,1)},Te=async()=>{try{for(const s of I.value){const N=await G("/UI/configurations/tax",{method:"POST",body:{name:s.name,percentage:s.percentage,account_no:s.account_no,status:s.status},onResponseError({response:te}){W.value=te._data.errors}})}I.value=[{name:"",percentage:"",account_no:"",status:""}],await pe(()=>{P()});const{message:u}=res}catch(u){console.error(u)}};return(u,s)=>{const N=ne,te=se,le=be("IconBtn"),De=fe;return B(),F(O,null,[e(X,{onSubmit:J(()=>{},["prevent"])},{default:t(()=>[e(Q,null,{default:t(()=>[e(g,{cols:"12",md:"12"},{default:t(()=>[e(z,{class:"d-flex flex-column"},{default:t(()=>[R("div",Oe,[R("div",je,[e(N,{modelValue:a(d),"onUpdate:modelValue":s[0]||(s[0]=o=>i(d)?d.value=o:null),class:"me-3","clear-icon":"tabler-circle-x",clearable:"",color:"primary",placeholder:"Tax Name",style:{"inline-size":"200px"},type:"text"},null,8,["modelValue"]),e(te,{modelValue:a(S),"onUpdate:modelValue":s[1]||(s[1]=o=>i(S)?S.value=o:null),items:a(h),class:"me-3","clear-icon":"tabler-x",clearable:"",placeholder:"Status",style:{"inline-size":"200px"}},null,8,["modelValue","items"])])]),e(de,{class:"notification-section"},{default:t(()=>[He,e(a(we),{"items-per-page":a(C),"onUpdate:itemsPerPage":s[2]||(s[2]=o=>i(C)?C.value=o:null),page:a(m),"onUpdate:page":s[3]||(s[3]=o=>i(m)?m.value=o:null),headers:D,items:a(Z),"items-length":a(x),class:"text-no-wrap","show-select":"","onUpdate:options":A},{"item.status":t(({item:o})=>[e($e,Ae({density:"default",label:""},w(o.status)),null,16)]),"item.actions":t(({item:o})=>[e(le,{onClick:E=>f(o)},{default:t(()=>[e(M,{icon:"tabler-pencil",color:"warning"})]),_:2},1032,["onClick"]),e(le,null,{default:t(()=>{var E,$;return[e(M,{icon:(E=r(o.status))==null?void 0:E.icon,color:($=r(o.status))==null?void 0:$.color,title:o.status,onClick:Ge=>ue([o.id])},null,8,["icon","color","title","onClick"])]}),_:2},1024),e(le,null,{default:t(()=>[e(M,{icon:"tabler-trash",color:"error",onClick:E=>p(o)},null,8,["onClick"])]),_:2},1024)]),_:1},8,["items-per-page","page","items","items-length"]),e(z,null,{default:t(()=>[e(de,null,{default:t(()=>[e(X,{onSubmit:J(()=>{},["prevent"])},{default:t(()=>[(B(!0),F(O,null,xe(a(I),(o,E)=>(B(),ae(Q,{key:E},{default:t(()=>[R("div",Me,[e(g,{cols:"12",md:"2"},{default:t(()=>[e(N,{modelValue:o.name,"onUpdate:modelValue":$=>o.name=$,label:"Name",placeholder:"Tax Name"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(g,{cols:"12",md:"3"},{default:t(()=>[e(N,{modelValue:o.percentage,"onUpdate:modelValue":$=>o.percentage=$,type:"number",label:"Value (%)",placeholder:"%"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(g,{cols:"12",md:"3"},{default:t(()=>[e(N,{modelValue:o.account_no,"onUpdate:modelValue":$=>o.account_no=$,label:"Account No",placeholder:"Account No"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(g,{cols:"12",md:"2"},{default:t(()=>[e(te,{modelValue:o.status,"onUpdate:modelValue":$=>o.status=$,items:a(h),class:"me-1","clear-icon":"tabler-x",clearable:"",placeholder:"Status",style:{"inline-size":"200px"}},null,8,["modelValue","onUpdate:modelValue","items"])]),_:2},1024),e(g,{cols:"12",md:"1"},{default:t(()=>[e(le,{onClick:$=>_e(E)},{default:t(()=>[e(M,{icon:"tabler-trash",color:"error"})]),_:2},1032,["onClick"])]),_:2},1024)])]),_:2},1024))),128)),e(Q,null,{default:t(()=>[e(g,{cols:"12",md:"2",class:"text-left"},{default:t(()=>[e(q,{color:"primary",onClick:ee},{default:t(()=>[U(" Add New Tax ")]),_:1})]),_:1}),a(I).length>0?(B(),ae(g,{key:0,class:"d-flex gap-4",cols:"12",md:"4"},{default:t(()=>[e(q,{type:"submit",onClick:Te},{default:t(()=>[U(" Submit ")]),_:1}),e(q,{color:"secondary",type:"reset",variant:"tonal"},{default:t(()=>[U(" Reset ")]),_:1})]),_:1})):ce("",!0)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),a(V)?(B(),ae(Fe,{key:0,isDialogVisible:a(V),"onUpdate:isDialogVisible":s[4]||(s[4]=o=>i(V)?V.value=o:null),tax:a(k)},null,8,["isDialogVisible","tax"])):ce("",!0),e(ve,{modelValue:a(n),"onUpdate:modelValue":s[8]||(s[8]=o=>i(n)?n.value=o:null),persistent:"",class:"v-dialog-sm"},{default:t(()=>[e(De,{onClick:s[5]||(s[5]=o=>n.value=!a(n))}),e(z,null,{default:t(()=>[e(K,null,{default:t(()=>[U(" Are you sure you want to delete tax: "+re(a(k).name)+"? ",1),Qe,U(" This action can not be undone. ")]),_:1}),e(K,{class:"d-flex justify-end gap-3 flex-wrap"},{default:t(()=>[e(q,{color:"secondary",variant:"tonal",onClick:s[6]||(s[6]=o=>n.value=!1)},{default:t(()=>[U(" Cancel ")]),_:1}),e(q,{color:"error",onClick:s[7]||(s[7]=o=>H(a(k).id))},{default:t(()=>[U(" Delete ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}});const Le="Coming Soon",Qt=Y({__name:"index",setup(j){const c=l("window1");return(T,D)=>(B(),F(O,null,[e(Be,{modelValue:a(c),"onUpdate:modelValue":D[0]||(D[0]=d=>i(c)?c.value=d:null),class:"v-tabs-pill"},{default:t(()=>[e(Ve,null,{default:t(()=>[U("Taxes")]),_:1}),e(Ve,null,{default:t(()=>[U("Currencies")]),_:1})]),_:1},8,["modelValue"]),e(z,{class:"mt-5"},{default:t(()=>[e(K,null,{default:t(()=>[e(he,{modelValue:a(c),"onUpdate:modelValue":D[1]||(D[1]=d=>i(c)?c.value=d:null)},{default:t(()=>[e(ie,{key:"0"},{default:t(()=>[e(We)]),_:1}),(B(),F(O,null,xe(1,d=>e(ie,{key:`window${d}`},{default:t(()=>[e(Ee)]),_:2},1024)),64)),e(ie,{key:"2"},{default:t(()=>[U(re(Le))]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})],64))}});export{Qt as default};
