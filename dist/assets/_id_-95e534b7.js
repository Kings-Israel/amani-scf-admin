import{_ as B}from"./AppStepper.vue_vue_type_style_index_0_lang-ef456a65.js";import{_ as R}from"./ConfirmDialog.vue_vue_type_script_setup_true_lang-47d9a20a.js";import{_ as h}from"./AppSelect.vue_vue_type_script_setup_true_lang-67ce80f3.js";import{_ as F}from"./AppTextField.vue_vue_type_script_setup_true_lang-298ad98d.js";import{d as y,r as m,l as I,o as L,c as O,b as e,f as t,p as a,a4 as S,a$ as T,x as C,e as N,aI as _,F as P,aM as z,k as W,h as E,z as H}from"./index-5caaa453.js";import{$ as M}from"./api-44dd0fa9.js";import{V as r}from"./VCol-bcc5388c.js";import{V as g}from"./VCard-1a5b2c5e.js";import{V}from"./VCardText-3b4da816.js";import{V as q}from"./VForm-ed4803d2.js";import{V as D}from"./VRow-e44df108.js";import{V as Y}from"./VCheckbox-4131d654.js";import{V as j,a as $}from"./VWindowItem-1e406499.js";import"./VSlideGroup-1fe3f4d3.js";import"./VSlideGroupItem-01cf7141.js";import"./VDialog-808ce03e.js";import"./VOverlay-da001e16.js";import"./easing-9f15041e.js";import"./lazy-9cd674a5.js";import"./scopeId-484eb469.js";import"./transition-1886cce0.js";import"./forwardRefs-8348545e.js";import"./dialog-transition-1ae6ec72.js";import"./form-c9c578a3.js";import"./VSelect-f0a443ce.js";import"./VTextField-604d91ff.js";/* empty css                   */import"./VCounter-728f7f8c.js";import"./VField-6b3808ed.js";import"./VInput-e87890b4.js";import"./index-7dd1f5f0.js";import"./VList-4b1bf96e.js";import"./ssrBoot-2696bccc.js";import"./createSimpleFunctional-9624028d.js";import"./VAvatar-3ee4c690.js";import"./VImg-6009f8f0.js";import"./VDivider-d40713ce.js";import"./VMenu-97c48b4e.js";import"./VCheckboxBtn-1d552264.js";import"./VSelectionControl-e0df1dbd.js";import"./VChip-49676f7d.js";import"./index-2898f57d.js";/* empty css              */const G=y({__name:"LeadDetails",props:{pipeline:{}},setup(x){const n=x,b=m({message:void 0,statusCode:void 0}),v=I(),f={stage:"Lead",pointOfContact:"",region:"",branch:"",status:"Hot"},u=m(!1),l=m(structuredClone(f)),d=m(!1),p=[i=>!!i||"Please confirm before saving the details"],U=()=>{l.value=structuredClone(f)},w=async()=>{try{const i=await M(`/store/UI/pipeline/lead/data/${n.pipeline}`,{method:"POST",body:l.value,onResponseError({response:c}){b.value=c._data.errors}});console.log(i);const{message:o}=i;console.log(o),await z(()=>{v.push("/pipeline/leads/Leads")})}catch(i){console.error(i)}};return(i,o)=>{const c=F,k=h,A=R;return L(),O(P,null,[e(D,null,{default:t(()=>[e(r,{cols:"12"},{default:t(()=>[e(g,null,{default:t(()=>[e(V,null,{default:t(()=>[e(q,{class:"mt-6"},{default:t(()=>[e(D,null,{default:t(()=>[e(r,{md:"6",cols:"12"},{default:t(()=>[e(c,{modelValue:a(l).pointOfContact,"onUpdate:modelValue":o[0]||(o[0]=s=>a(l).pointOfContact=s),placeholder:"Point of Contact",label:"Point of Contact"},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[e(c,{modelValue:a(l).region,"onUpdate:modelValue":o[1]||(o[1]=s=>a(l).region=s),label:"Region",placeholder:"region"},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[e(c,{modelValue:a(l).branch,"onUpdate:modelValue":o[2]||(o[2]=s=>a(l).branch=s),label:"Branch",placeholder:"Branch"},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[e(k,{modelValue:a(l).status,"onUpdate:modelValue":o[3]||(o[3]=s=>a(l).status=s),label:"Status",placeholder:"Select Status",items:["Hot","Warm","Cold"]},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",class:"d-flex flex-wrap gap-4"},{default:t(()=>[e(S,{color:"secondary",variant:"tonal",type:"reset",onClick:T(U,["prevent"])},{default:t(()=>[C(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(r,{cols:"12"},{default:t(()=>[e(g,{title:"Converting Contact to Lead"},{default:t(()=>[e(V,null,{default:t(()=>[N("div",null,[e(Y,{modelValue:a(d),"onUpdate:modelValue":o[4]||(o[4]=s=>_(d)?d.value=s:null),rules:p,label:"I confirm that the details are correct"},null,8,["modelValue"])]),e(S,{disabled:!a(d),color:"error",class:"mt-3",onClick:o[5]||(o[5]=s=>u.value=!0)},{default:t(()=>[C(" Save & Contact ")]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1})]),_:1}),e(A,{isDialogVisible:a(u),"onUpdate:isDialogVisible":o[6]||(o[6]=s=>_(u)?u.value=s:null),"confirmation-question":"Are you sure you want to save this details?","confirm-title":"Saved!","confirm-msg":"Your account has been saved successfully.","cancel-title":"Cancelled","cancel-msg":"Leads contact Cancelled!",onConfirm:w},null,8,["isDialogVisible"])],64)}}}),Ne=y({__name:"[id]",setup(x){const n=m(0),b=W(),v=m(b.params.id),f=[{title:"Lead Details",subtitle:"Lead Info",icon:"tabler-users"}];return(u,l)=>{const d=B;return L(),E(g,null,{default:t(()=>[e(D,{"no-gutters":""},{default:t(()=>[e(r,{cols:"12",md:"4",lg:"3",class:H(u.$vuetify.display.mdAndUp?"border-e":"border-b")},{default:t(()=>[e(V,null,{default:t(()=>[e(d,{"current-step":a(n),"onUpdate:currentStep":l[0]||(l[0]=p=>_(n)?n.value=p:null),direction:"vertical",items:f,"icon-size":"24",class:"stepper-icon-step-bg"},null,8,["current-step"])]),_:1})]),_:1},8,["class"]),e(r,{cols:"12",md:"8",lg:"9"},{default:t(()=>[e(V,null,{default:t(()=>[e(j,{modelValue:a(n),"onUpdate:modelValue":l[1]||(l[1]=p=>_(n)?n.value=p:null),class:"disable-tab-transition"},{default:t(()=>[e($,null,{default:t(()=>[e(G,{pipeline:a(v)},null,8,["pipeline"])]),_:1}),e($,null,{default:t(()=>[C(" No Draft ")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})}}});export{Ne as default};
