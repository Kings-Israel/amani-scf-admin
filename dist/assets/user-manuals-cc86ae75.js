import{i as $}from"./index-4532b75c.js";import N from"./anchor-manual-fa7adb7d.js";import P from"./bank-manual-8492e776.js";import R from"./dealer-manual-56a73def.js";import F from"./vendor-manual-6784c1b0.js";import{d as j,r as V,b6 as z,R as O,l as q,o as d,c as E,b as e,f as a,x as s,y as C,e as i,z as G,h as p,a4 as g,A as f,F as H,aR as J,aS as K}from"./index-75b434bc.js";import{u as L}from"./useApi-776c55ea.js";import{c as Q}from"./createUrl-149317bf.js";import{$ as U}from"./api-0c1dfdf3.js";import{V as x}from"./VSnackbar-f21966b4.js";import{V as _}from"./VCol-35b3d337.js";import{V as v,a as h,b as o}from"./VCard-95c0d706.js";import{V as m}from"./VCardText-76f31582.js";import{V as W}from"./VChip-e2ddd660.js";import{V as X}from"./VRow-d6f20668.js";import{_ as Y}from"./_plugin-vue_export-helper-c27b6911.js";import"./VImg-ba4b392a.js";import"./transition-6afda34e.js";import"./index-97808f23.js";/* empty css              */import"./createSimpleFunctional-4b3a0a39.js";import"./VAvatar-071125b9.js";import"./index-2898f57d.js";import"./VOverlay-0b79a00d.js";import"./easing-9f15041e.js";import"./lazy-0bb5e457.js";import"./scopeId-ee2feb8e.js";import"./forwardRefs-8348545e.js";const Z=b=>(J("data-v-4332e9dc"),b=b(),K(),b),aa=Z(()=>i("h2",null,"User Manuals",-1)),ea=["href"],la=["href"],ua=["href"],ta=["href"],ra=j({__name:"user-manuals",emits:["update:bank_user_manual","update:factoring_user_manual","update:vendor_user_manual","update:dealer_user_manual"],async setup(b,{emit:na}){let k,w;const y=V(!1),c=V(null),{data:S,execute:M}=([k,w]=z(()=>L(Q("/UI/configurations/user-manuals"))),k=await k,w(),k),u=O(()=>S.value);M();const r=V({bank_user_manual:[],anchor_user_manual:[],vendor_user_manual:[],dealer_user_manual:[]});q();const A=()=>{const{bank_user_manual:n,anchor_user_manual:l,vendor_user_manual:t,dealer_user_manual:T}=r.value;return!n.length||!l.length||!t.length||!T.length?(c.value="Please upload all required files before submitting.",!1):!0},I=async()=>{if(!A())return;const n=new FormData;try{n.append("bank_user_manual",r.value.bank_user_manual[0].file),n.append("anchor_user_manual",r.value.anchor_user_manual[0].file),n.append("vendor_user_manual",r.value.vendor_user_manual[0].file),n.append("dealer_user_manual",r.value.dealer_user_manual[0].file),await U("/UI/configurations/user-manuals",{method:"POST",body:n}),await M(),$.success("User Manuals Saved Successfully",{position:"top-right",autoClose:3e3})}catch{c.value="An error occurred while uploading the user manuals. Please try again."}},B=async n=>{await U(`/UI/configurations/user-manuals/${n}/approve`,{method:"POST"}),await M()},D=async n=>{await U(`/UI/configurations/user-manuals/${n}/reject`,{method:"POST"}),await M()};return(n,l)=>(d(),E(H,null,[e(x,{modelValue:y.value,"onUpdate:modelValue":l[0]||(l[0]=t=>y.value=t),color:"success",location:"top end",variant:"flat"},{default:a(()=>[s(" User Manual Uploaded Successfully ")]),_:1},8,["modelValue"]),e(x,{modelValue:c.value,"onUpdate:modelValue":l[1]||(l[1]=t=>c.value=t),color:"error",location:"top end",variant:"flat"},{default:a(()=>[s(C(c.value),1)]),_:1},8,["modelValue"]),e(X,null,{default:a(()=>[e(_,{cols:"12",md:"12"},{default:a(()=>[e(v,{class:"mb-6"},{default:a(()=>[e(h,null,{default:a(()=>[e(o,{class:"pb-2"},{default:a(()=>[aa]),_:1}),e(m,null,{default:a(()=>[i("span",{class:G({"text-success":u.value.status==="active","text-error":u.value.status==="inactive","text-warning":u.value.status==="waiting_checker_approval"})},[e(W,{density:"default",label:"",class:"text-capitalize"},{default:a(()=>[s(C(u.value.status),1)]),_:1})],2)]),_:1}),u.value.status==="waiting_checker_approval"&&u.value.checker_status===!0?(d(),p(m,{key:0},{default:a(()=>[e(g,{color:"success",onClick:l[2]||(l[2]=t=>B(u.value.id)),style:{"margin-right":"12px"}},{default:a(()=>[s(" Approve ")]),_:1}),e(g,{color:"error",onClick:l[3]||(l[3]=t=>D(u.value.id))},{default:a(()=>[s(" Reject ")]),_:1})]),_:1})):f("",!0)]),_:1})]),_:1})]),_:1}),e(_,{cols:"12",md:"3"},{default:a(()=>[e(v,{class:"mb-6"},{default:a(()=>[e(h,null,{default:a(()=>[e(o,{class:"pb-2"},{default:a(()=>[s("Bank User Manual")]),_:1}),u.value.length!==0?(d(),p(o,{key:0},{default:a(()=>[i("a",{href:u.value.bank_user_manual,target:"_blank"},"View Bank User Manual",8,ea)]),_:1})):f("",!0)]),_:1}),e(m,null,{default:a(()=>[e(P,{bankManual:r.value.bank_user_manual,"onUpdate:bankManual":l[4]||(l[4]=t=>r.value.bank_user_manual=t)},null,8,["bankManual"])]),_:1})]),_:1})]),_:1}),e(_,{cols:"12",md:"3"},{default:a(()=>[e(v,{class:"mb-6"},{default:a(()=>[e(h,null,{default:a(()=>[e(o,{class:"pb-2"},{default:a(()=>[s("Anchor User Manual")]),_:1}),u.value.length!==0?(d(),p(o,{key:0},{default:a(()=>[i("a",{href:u.value.anchor_user_manual,target:"_blank"},"View Anchor User Manual",8,la)]),_:1})):f("",!0)]),_:1}),e(m,null,{default:a(()=>[e(N,{anchorManual:r.value.anchor_user_manual,"onUpdate:anchorManual":l[5]||(l[5]=t=>r.value.anchor_user_manual=t)},null,8,["anchorManual"])]),_:1})]),_:1})]),_:1}),e(_,{cols:"12",md:"3"},{default:a(()=>[e(v,{class:"mb-6"},{default:a(()=>[e(h,null,{default:a(()=>[e(o,{class:"pb-2"},{default:a(()=>[s("Vendor User Manual")]),_:1}),u.value.length!==0?(d(),p(o,{key:0},{default:a(()=>[i("a",{href:u.value.vendor_user_manual,target:"_blank"},"View Vendor User Manual",8,ua)]),_:1})):f("",!0)]),_:1}),e(m,null,{default:a(()=>[e(F,{vendorManual:r.value.vendor_user_manual,"onUpdate:vendorManual":l[6]||(l[6]=t=>r.value.vendor_user_manual=t)},null,8,["vendorManual"])]),_:1})]),_:1})]),_:1}),e(_,{cols:"12",md:"3"},{default:a(()=>[e(v,{class:"mb-6"},{default:a(()=>[e(h,null,{default:a(()=>[e(o,{class:"pb-2"},{default:a(()=>[s("Dealer User Manual")]),_:1}),u.value.length!==0?(d(),p(o,{key:0},{default:a(()=>[i("a",{href:u.value.dealer_user_manual,target:"_blank"},"View Dealer User Manual",8,ta)]),_:1})):f("",!0)]),_:1}),e(m,null,{default:a(()=>[e(R,{dealerManual:r.value.dealer_user_manual,"onUpdate:dealerManual":l[7]||(l[7]=t=>r.value.dealer_user_manual=t)},null,8,["dealerManual"])]),_:1})]),_:1})]),_:1}),e(_,{cols:"12",md:"12"},{default:a(()=>[e(g,{color:"success",onClick:I},{default:a(()=>[s("Submit")]),_:1})]),_:1})]),_:1})],64))}});const Na=Y(ra,[["__scopeId","data-v-4332e9dc"]]);export{Na as default};
