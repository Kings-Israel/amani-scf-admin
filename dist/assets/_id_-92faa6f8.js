import{r as W,e as qe}from"./validators-db74a876.js";import{d as Q,r as t,k as ee,l as ge,b6 as Z,R as te,o as R,c as L,b as e,f as a,x as S,p as l,aI as D,a$ as me,a4 as M,F as oe,e as p,aM as ie,bf as ye,w as Ae,h as z,y as j,A as K,aR as Ne,aS as Ee,I as he,t as Re,a9 as re,j as we,a as xe}from"./index-5caaa453.js";import{_ as _e}from"./AppSelect.vue_vue_type_script_setup_true_lang-67ce80f3.js";import{_ as se}from"./AppTextField.vue_vue_type_script_setup_true_lang-298ad98d.js";import{u as J}from"./useApi-c9327355.js";import{c as X}from"./createUrl-3e678c2b.js";import{$ as ne}from"./api-44dd0fa9.js";import{V as Ue}from"./VSnackbar-ea7773d7.js";import{V as le}from"./VCardText-3b4da816.js";import{V as pe}from"./VForm-ed4803d2.js";import{V as q}from"./VRow-e44df108.js";import{V as o}from"./VCol-bcc5388c.js";import{V as H,a as de,b as Te}from"./VCard-1a5b2c5e.js";import{_ as Ie}from"./DialogCloseBtn.vue_vue_type_script_setup_true_lang-9e7a34d5.js";import{V as Se}from"./VDialog-808ce03e.js";import{V as Ce}from"./VDivider-d40713ce.js";import{V as Me,a as ke,b as De}from"./VList-4b1bf96e.js";import{_ as Fe}from"./_plugin-vue_export-helper-c27b6911.js";import{V as be}from"./VFileInput-cab9861f.js";import{p as Ye}from"./paginationMeta-4ad053a4.js";import{V as ze}from"./VDataTable-1493872b.js";import{V as He}from"./VPagination-4169e3c5.js";import{_ as Oe}from"./AppAutocomplete.vue_vue_type_script_setup_true_lang-2f5f92ce.js";import{V as Le}from"./VChip-49676f7d.js";import{V as Be}from"./VDataTableServer-64dc84b4.js";import{_ as je}from"./TiptapEditor.vue_vue_type_style_index_0_lang-b24c8bd1.js";import{_ as Pe}from"./AppDateTimePicker.vue_vue_type_style_index_0_lang-56955411.js";import{V as Qe,a as We}from"./VTabs-423f31b3.js";import{V as Je,a as ue}from"./VWindowItem-1e406499.js";import"./helpers-681711bc.js";import"./form-c9c578a3.js";import"./VSelect-f0a443ce.js";import"./VTextField-604d91ff.js";/* empty css                   */import"./VCounter-728f7f8c.js";import"./transition-1886cce0.js";import"./VField-6b3808ed.js";import"./easing-9f15041e.js";import"./VInput-e87890b4.js";import"./forwardRefs-8348545e.js";import"./index-7dd1f5f0.js";import"./dialog-transition-1ae6ec72.js";import"./VMenu-97c48b4e.js";import"./VOverlay-da001e16.js";import"./lazy-9cd674a5.js";import"./scopeId-484eb469.js";import"./VCheckboxBtn-1d552264.js";import"./VSelectionControl-e0df1dbd.js";import"./index-2898f57d.js";import"./createSimpleFunctional-9624028d.js";/* empty css              */import"./VAvatar-3ee4c690.js";import"./VImg-6009f8f0.js";import"./ssrBoot-2696bccc.js";import"./VTable-f9bab7db.js";import"./filter-aecd5fc1.js";import"./index-f9c487c0.js";import"./VSlideGroup-1fe3f4d3.js";const Ge=p("label",{class:"v-label text-body-2 text-high-emphasis",for:"firstNameHorizontalIcons"},"First Name",-1),Ke=p("label",{class:"v-label text-body-2 text-high-emphasis",for:"emailHorizontalIcons"},"Email",-1),Xe=p("label",{class:"v-label text-body-2 text-high-emphasis",for:"mobileHorizontalIcons"},"Mobile",-1),Ze=p("label",{class:"v-label text-body-2 text-high-emphasis",for:"firstNameHorizontalIcons"},"Role",-1),ea=Q({__name:"BankAddNewUser",async setup(F){let _,i;const f=t(""),s=t(""),m=t(),g=t(),v=ee(),y=ge(),b=t({message:void 0,statusCode:void 0}),{data:C}=([_,i]=Z(()=>J(X("/get/UI/user/roles",{query:{module:"Bank"}}))),_=await _,i(),_),x=t(!1),h=te(()=>C.value),N=async()=>{try{const u=await ne("/add/user/bank",{method:"POST",body:{name:f.value,email:s.value,role:g.value,mobile:m.value,bank_id:v.params.id},onResponseError({response:c}){b.value=c._data.errors}});x.value=!0,console.log(u);const{message:r}=u;await ie(()=>{y.push(`/bank/view/${v.params.id}`),y.go(0)}),console.log(r),x.value=!0}catch(u){console.error(u)}};return(u,r)=>{const c=se,n=_e;return R(),L(oe,null,[e(Ue,{modelValue:l(x),"onUpdate:modelValue":r[0]||(r[0]=d=>D(x)?x.value=d:null),color:"success",location:"top end",variant:"flat"},{default:a(()=>[S(" New Contact Added Successfully ")]),_:1},8,["modelValue"]),e(H,{title:"Add New User"},{default:a(()=>[e(le,null,{default:a(()=>[e(pe,{onSubmit:me(()=>{},["prevent"])},{default:a(()=>[e(q,null,{default:a(()=>[e(o,{cols:"12"},{default:a(()=>[e(q,{"no-gutters":""},{default:a(()=>[e(o,{class:"d-flex align-items-center",cols:"12",md:"3"},{default:a(()=>[Ge]),_:1}),e(o,{cols:"12",md:"9"},{default:a(()=>[e(c,{id:"firstNameHorizontalIcons",modelValue:l(f),"onUpdate:modelValue":r[1]||(r[1]=d=>D(f)?f.value=d:null),rules:["requiredValidator"in u?u.requiredValidator:l(W)],"persistent-placeholder":"",placeholder:"John","prepend-inner-icon":"tabler-user"},null,8,["modelValue","rules"])]),_:1})]),_:1})]),_:1}),e(o,{cols:"12"},{default:a(()=>[e(q,{"no-gutters":""},{default:a(()=>[e(o,{class:"d-flex align-items-center",cols:"12",md:"3"},{default:a(()=>[Ke]),_:1}),e(o,{cols:"12",md:"9"},{default:a(()=>[e(c,{id:"emailHorizontalIcons",modelValue:l(s),"onUpdate:modelValue":r[2]||(r[2]=d=>D(s)?s.value=d:null),rules:["requiredValidator"in u?u.requiredValidator:l(W),"emailValidator"in u?u.emailValidator:l(qe)],"persistent-placeholder":"",placeholder:"johndoe@email.com","prepend-inner-icon":"tabler-mail"},null,8,["modelValue","rules"])]),_:1})]),_:1})]),_:1}),e(o,{cols:"12"},{default:a(()=>[e(q,{"no-gutters":""},{default:a(()=>[e(o,{class:"d-flex align-items-center",cols:"12",md:"3"},{default:a(()=>[Xe]),_:1}),e(o,{cols:"12",md:"9"},{default:a(()=>[e(c,{id:"mobileHorizontalIcons",modelValue:l(m),"onUpdate:modelValue":r[3]||(r[3]=d=>D(m)?m.value=d:null),rules:["requiredValidator"in u?u.requiredValidator:l(W)],"persistent-placeholder":"",placeholder:"+1 123 456 7890","prepend-inner-icon":"tabler-device-mobile",type:"number"},null,8,["modelValue","rules"])]),_:1})]),_:1})]),_:1}),e(o,{cols:"12"},{default:a(()=>[e(q,{"no-gutters":""},{default:a(()=>[e(o,{class:"d-flex align-items-center",cols:"12",md:"3"},{default:a(()=>[Ze]),_:1}),e(o,{cols:"12",md:"9"},{default:a(()=>[e(n,{modelValue:l(g),"onUpdate:modelValue":r[4]||(r[4]=d=>D(g)?g.value=d:null),items:l(h),rules:["requiredValidator"in u?u.requiredValidator:l(W)],label:"Item",name:"select",placeholder:"Select an Item","prepend-inner-icon":"tabler-air-balloon",require:""},null,8,["modelValue","items","rules"])]),_:1})]),_:1})]),_:1}),e(o,{class:"d-flex gap-4",cols:"12",md:"9","offset-md":"3"},{default:a(()=>[e(M,{type:"submit",onClick:N},{default:a(()=>[S(" Submit ")]),_:1}),e(M,{color:"secondary",type:"reset",variant:"tonal"},{default:a(()=>[S(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})],64)}}}),aa=p("p",{class:"mb-0"}," Updating user details will receive a privacy audit. ",-1),la=Q({__name:"EditBank",props:{userData:{default:()=>({id:0,bank:"",url:"",contactPerson:"",email:""})},isDialogVisible:{type:Boolean}},emits:["submit","update:isDialogVisible"],setup(F,{emit:_}){const i=F,f=_,s=t(structuredClone(ye(i.userData)));Ae(i,()=>{s.value=structuredClone(ye(i.userData))});const m=()=>{f("update:isDialogVisible",!1),f("submit",s.value)},g=()=>{s.value=structuredClone(ye(i.userData)),f("update:isDialogVisible",!1)},v=y=>{f("update:isDialogVisible",y)};return(y,b)=>{const C=Ie,x=se;return R(),z(Se,{"model-value":i.isDialogVisible,width:y.$vuetify.display.smAndDown?"auto":677,"onUpdate:modelValue":v},{default:a(()=>[e(C,{onClick:b[0]||(b[0]=h=>v(!1))}),e(H,{class:"pa-sm-8 pa-5"},{default:a(()=>[e(de,{class:"text-center"},{default:a(()=>[e(Te,{class:"text-h3 mb-3"},{default:a(()=>[S(" Edit User Information ")]),_:1}),aa]),_:1}),e(le,null,{default:a(()=>[e(pe,{class:"mt-6",onSubmit:me(m,["prevent"])},{default:a(()=>[e(q,null,{default:a(()=>[e(o,{cols:"12",md:"6"},{default:a(()=>[e(x,{modelValue:l(s).bank,"onUpdate:modelValue":b[1]||(b[1]=h=>l(s).bank=h),label:"Full Name",placeholder:"John Doe"},null,8,["modelValue"])]),_:1}),e(o,{cols:"12",md:"6"},{default:a(()=>[e(x,{modelValue:l(s).email,"onUpdate:modelValue":b[2]||(b[2]=h=>l(s).email=h),label:"Billing Email",placeholder:"johndoe@email.com"},null,8,["modelValue"])]),_:1}),e(o,{cols:"12",md:"6"},{default:a(()=>[e(x,{modelValue:l(s).url,"onUpdate:modelValue":b[3]||(b[3]=h=>l(s).url=h),label:"Status",placeholder:"Active"},null,8,["modelValue"])]),_:1}),e(o,{cols:"12",md:"6"},{default:a(()=>[e(x,{modelValue:l(s).contactPerson,"onUpdate:modelValue":b[4]||(b[4]=h=>l(s).contactPerson=h),label:"Status",placeholder:"Active"},null,8,["modelValue"])]),_:1}),e(o,{class:"d-flex flex-wrap justify-center gap-4",cols:"12"},{default:a(()=>[e(M,{type:"submit"},{default:a(()=>[S(" Submit ")]),_:1}),e(M,{color:"secondary",variant:"tonal",onClick:g},{default:a(()=>[S(" Cancel ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value","width"])}}}),ta=F=>(Ne("data-v-7ad0f594"),F=F(),Ee(),F),oa={class:"text-h4 mt-4"},sa=ta(()=>p("p",{class:"text-sm text-uppercase text-disabled"}," Details ",-1)),na={class:"text-h6"},ua={class:"text-body-1"},ra={class:"text-h6"},da={class:"text-body-1"},ia={class:"text-h6"},ca={class:"text-body-1"},ma=Q({__name:"BankBioPanel",props:{userData:{}},setup(F){const _=F,i=t(!1);return(f,s)=>(R(),L(oe,null,[e(q,null,{default:a(()=>[e(o,{cols:"12"},{default:a(()=>[_.userData?(R(),z(H,{key:0},{default:a(()=>[e(le,{class:"text-center pt-15"},{default:a(()=>[p("h6",oa,j(_.userData.bank),1)]),_:1}),e(Ce),e(le,null,{default:a(()=>[sa,e(Me,{class:"card-list mt-2"},{default:a(()=>[e(ke,null,{default:a(()=>[e(De,null,{default:a(()=>[p("h6",na,[S(" Username: "),p("span",ua,j(_.userData.bank),1)])]),_:1})]),_:1}),e(ke,null,{default:a(()=>[e(De,null,{default:a(()=>[p("h6",ra,[S(" Email: "),p("span",da,j(_.userData.email),1)])]),_:1})]),_:1}),e(ke,null,{default:a(()=>[e(De,null,{default:a(()=>[p("h6",ia,[S(" URL: "),p("span",ca,j(_.userData.url),1)])]),_:1})]),_:1})]),_:1})]),_:1}),e(le,{class:"d-flex justify-center"},{default:a(()=>[e(M,{class:"me-4",variant:"elevated",onClick:s[0]||(s[0]=m=>i.value=!0)},{default:a(()=>[S(" Edit ")]),_:1})]),_:1})]),_:1})):K("",!0)]),_:1})]),_:1}),e(la,{isDialogVisible:l(i),"onUpdate:isDialogVisible":s[1]||(s[1]=m=>D(i)?i.value=m:null),"user-data":_.userData},null,8,["isDialogVisible","user-data"])],64))}});const pa=Fe(ma,[["__scopeId","data-v-7ad0f594"]]),_a=p("p",null,"Logo",-1),fa=["src"],va=["src"],ba=p("p",null,"Favicon",-1),ga=Q({__name:"BankLogoConfig",emits:["update:selectedCurrencyIds","update:selectedRateIds","update:selectedTaxIds","update:offdays","update:languages","update:date_format","update:help_contact_number","update:help_contact_email"],async setup(F,{emit:_}){let i,f;ge();const s=ee();t([]),t([]);const m=t([]),g=t(""),v=t(),y=t(150),b=t(1),C=t(),x=t(),{data:h,execute:N}=([i,f]=Z(()=>J(X(`get/UI/configurations/bank-configurations/${s.params.id}`,{query:{q:g,status:v,page:b,itemsPerPage:y,sortBy:C,orderBy:x}}))),i=await i,f(),i),u=h.value;m.value=u.value;const r=t({logo:"",favicon:"",primary_color:u.primary_color||"",secondary_color:u.secondary_color||""});he(()=>{N()});const c=async()=>{const n=new FormData;n.append("bank_id",s.params.id),r.value.logo&&n.append("logo",r.value.logo[0]),r.value.favicon&&n.append("favicon",r.value.favicon[0]),n.append("primary_color",r.value.primary_color),n.append("secondary_color",r.value.secondary_color);try{const d=await ne("edit/UI/configurations/bank-appearance-configurations",{method:"POST",body:n,onResponseError({response:V}){errors.value=V._data.errors}}),{message:k}=d;await ie(()=>{}),isNewContactAdded.value=!0}catch(d){console.error(d)}};return(n,d)=>{const k=se;return R(),z(H,null,{default:a(()=>[e(de,null,{default:a(()=>[e(q,null,{default:a(()=>[e(o,{cols:"12",md:"3"},{default:a(()=>[e(k,{modelValue:r.value.primary_color,"onUpdate:modelValue":d[0]||(d[0]=V=>r.value.primary_color=V),type:"color",label:"Theme Primary Color",placeholder:"Select Primary Color"},null,8,["modelValue"])]),_:1}),e(o,{cols:"12",md:"3"},{default:a(()=>[e(k,{modelValue:r.value.secondary_color,"onUpdate:modelValue":d[1]||(d[1]=V=>r.value.secondary_color=V),type:"color",label:"Theme Secondary Color",placeholder:"Select Secondary Color"},null,8,["modelValue"])]),_:1}),e(o,{cols:"12",md:"12"},{default:a(()=>[_a,e(o,{cols:"12",md:"2"},{default:a(()=>[l(u).logo?(R(),z(H,{key:0},{default:a(()=>[e(de,null,{default:a(()=>[p("img",{src:l(u).logo,alt:"Logo",width:"150"},null,8,fa)]),_:1})]),_:1})):K("",!0)]),_:1}),e(be,{modelValue:r.value.logo,"onUpdate:modelValue":d[2]||(d[2]=V=>r.value.logo=V),label:"Upload logo..."},null,8,["modelValue"])]),_:1}),e(o,{cols:"12",md:"12"},{default:a(()=>[e(o,{cols:"12",md:"1"},{default:a(()=>[l(u).favicon?(R(),z(H,{key:0},{default:a(()=>[e(de,null,{default:a(()=>[p("img",{src:l(u).favicon,alt:"Favicon",width:"70"},null,8,va)]),_:1})]),_:1})):K("",!0)]),_:1}),ba,e(be,{modelValue:r.value.favicon,"onUpdate:modelValue":d[3]||(d[3]=V=>r.value.favicon=V),label:"Upload favicon..."},null,8,["modelValue"])]),_:1}),e(o,{cols:"12",class:"d-flex gap-4"},{default:a(()=>[e(M,{type:"submit",onClick:c},{default:a(()=>[S(" Submit ")]),_:1}),e(M,{type:"reset",color:"secondary",variant:"tonal"},{default:a(()=>[S(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}}),Va=p("label",{class:"v-label text-body-2 text-high-emphasis",for:"firstNameHorizontalIcons"},"Name",-1),ya=p("label",{class:"v-label text-body-2 text-high-emphasis",for:"emailHorizontalIcons"},"Email",-1),ha=p("label",{class:"v-label text-body-2 text-high-emphasis",for:"mobileHorizontalIcons"},"Mobile",-1),xa=p("label",{class:"v-label text-body-2 text-high-emphasis",for:"firstNameHorizontalIcons"},"Role",-1),ka=Q({__name:"BankMapNewUser",async setup(F){let _,i;const f=t(""),s=t(""),m=t(),g=t(),v=ee(),y=ge(),b=t({message:void 0,statusCode:void 0}),{data:C}=([_,i]=Z(()=>J(X("/get/UI/user/roles",{query:{module:"Bank"}}))),_=await _,i(),_),x=async()=>{const{data:n,error:d}=await J(X("/get/user/data/for/mapping",{query:{name:f.value}}));if(d.value)return d.value;s.value=n.value.email,m.value=n.value.phone_number},h=t(!1),N=te(()=>C.value),{data:u}=([_,i]=Z(()=>J(X(`/get/users/for/mapping/${v.params.id}`))),_=await _,i(),_),r=te(()=>u.value),c=async()=>{try{const n=await ne("/post/mapped/bank/user",{method:"POST",body:{name:f.value,email:s.value,role:g.value,mobile:m.value,bank_id:v.params.id},onResponseError({response:k}){b.value=k._data.errors}});h.value=!0,console.log(n);const{message:d}=n;setInterval(()=>{y.push(`/bank/view/${v.params.id}`),y.go(0)},3e3),console.log(d),h.value=!0}catch(n){console.error(n)}};return Ae(f,()=>{x()}),(n,d)=>{const k=_e,V=se;return R(),L(oe,null,[e(Ue,{modelValue:l(h),"onUpdate:modelValue":d[0]||(d[0]=P=>D(h)?h.value=P:null),color:"success",location:"top end",variant:"flat"},{default:a(()=>[S(" New Mapped Successfully ")]),_:1},8,["modelValue"]),e(H,{title:"Add New User"},{default:a(()=>[e(le,null,{default:a(()=>[e(pe,{onSubmit:me(()=>{},["prevent"])},{default:a(()=>[e(q,null,{default:a(()=>[e(o,{cols:"12"},{default:a(()=>[e(q,{"no-gutters":""},{default:a(()=>[e(o,{class:"d-flex align-items-center",cols:"12",md:"3"},{default:a(()=>[Va]),_:1}),e(o,{cols:"12",md:"9"},{default:a(()=>[e(k,{modelValue:l(f),"onUpdate:modelValue":d[1]||(d[1]=P=>D(f)?f.value=P:null),items:l(r),rules:["requiredValidator"in n?n.requiredValidator:l(W)],label:"Item",name:"selectUser",placeholder:"Select an Item","prepend-inner-icon":"tabler-a-b-2"},null,8,["modelValue","items","rules"])]),_:1})]),_:1})]),_:1}),e(o,{cols:"12"},{default:a(()=>[e(q,{"no-gutters":""},{default:a(()=>[e(o,{class:"d-flex align-items-center",cols:"12",md:"3"},{default:a(()=>[ya]),_:1}),e(o,{cols:"12",md:"9"},{default:a(()=>[e(V,{id:"emailHorizontalIcons",modelValue:l(s),"onUpdate:modelValue":d[2]||(d[2]=P=>D(s)?s.value=P:null),"persistent-placeholder":"",placeholder:"johndoe@email.com","prepend-inner-icon":"tabler-mail",readonly:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(o,{cols:"12"},{default:a(()=>[e(q,{"no-gutters":""},{default:a(()=>[e(o,{class:"d-flex align-items-center",cols:"12",md:"3"},{default:a(()=>[ha]),_:1}),e(o,{cols:"12",md:"9"},{default:a(()=>[e(V,{id:"mobileHorizontalIcons",modelValue:l(m),"onUpdate:modelValue":d[3]||(d[3]=P=>D(m)?m.value=P:null),rules:["requiredValidator"in n?n.requiredValidator:l(W)],"persistent-placeholder":"",placeholder:"+1 123 456 7890","prepend-inner-icon":"tabler-device-mobile",readonly:""},null,8,["modelValue","rules"])]),_:1})]),_:1})]),_:1}),e(o,{cols:"12"},{default:a(()=>[e(q,{"no-gutters":""},{default:a(()=>[e(o,{class:"d-flex align-items-center",cols:"12",md:"3"},{default:a(()=>[xa]),_:1}),e(o,{cols:"12",md:"9"},{default:a(()=>[e(k,{modelValue:l(g),"onUpdate:modelValue":d[4]||(d[4]=P=>D(g)?g.value=P:null),items:l(N),rules:["requiredValidator"in n?n.requiredValidator:l(W)],label:"Item",name:"select",placeholder:"Select an Item","prepend-inner-icon":"tabler-air-balloon",require:""},null,8,["modelValue","items","rules"])]),_:1})]),_:1})]),_:1}),e(o,{class:"d-flex gap-4",cols:"12",md:"9","offset-md":"3"},{default:a(()=>[e(M,{type:"submit",onClick:c},{default:a(()=>[S(" Submit ")]),_:1}),e(M,{color:"secondary",type:"reset",variant:"tonal"},{default:a(()=>[S(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})],64)}}}),Ua={class:"d-flex"},Da=p("div",{class:"flex-grow-1"},null,-1),Ca={class:"d-flex"},wa={class:"font-weight-medium mb-0 text-no-wrap"},Ia={class:"text-xs text-medium-emphasis mb-0"},Sa={class:"d-flex align-center justify-sm-space-between justify-center flex-wrap gap-3 pa-5 pt-3"},$a={class:"text-sm text-disabled mb-0"},Ra=Q({__name:"BankTabAccount",async setup(F){let _,i;const f=ee(),s=t(10),m=t(1),g=t(),v=t(),y=t(""),b=c=>{var n,d;m.value=c.page,g.value=(n=c.sortBy[0])==null?void 0:n.key,v.value=(d=c.sortBy[0])==null?void 0:d.order},C=t({itemsPerPage:5,page:1}),x=[{title:"ID",key:"id"},{title:"NAME",key:"name"},{title:"EMAIL",key:"email"},{title:"PHONE NUMBER",key:"phone_number"},{title:"CREATED AT",key:"created_at"}],{data:h,execute:N}=([_,i]=Z(()=>J(X(`/get/bank/users/${f.params.id}`,{query:{q:y,page:m,itemsPerPage:s,sortBy:g,orderBy:v}}))),_=await _,i(),_),u=te(()=>h.value.data),r=te(()=>h.value.total);return he(()=>N()),N(),(c,n)=>{const d=_e,k=se;return R(),z(q,null,{default:a(()=>[e(o,{cols:"12"},{default:a(()=>[e(H,{title:"Bank Users"},{default:a(()=>[e(le,null,{default:a(()=>[p("div",Ua,[e(d,{modelValue:l(C).itemsPerPage,"onUpdate:modelValue":n[0]||(n[0]=V=>l(C).itemsPerPage=V),items:[{value:5,title:"5"},{value:10,title:"10"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"All"}],style:{"inline-size":"6.25rem"}},null,8,["modelValue"]),Da,e(k,{modelValue:l(y),"onUpdate:modelValue":n[1]||(n[1]=V=>D(y)?y.value=V:null),placeholder:"Search..."},null,8,["modelValue"])])]),_:1}),e(Ce),e(l(ze),{"items-per-page":l(s),"onUpdate:itemsPerPage":n[3]||(n[3]=V=>D(s)?s.value=V:null),page:l(m),"onUpdate:page":n[4]||(n[4]=V=>D(m)?m.value=V:null),headers:x,items:l(u),"items-length":l(r),class:"text-no-wrap","onUpdate:options":b},{"item.name":a(({item:V})=>[p("div",Ca,[p("div",null,[p("div",wa,j(V.name),1),p("p",Ia,j(V.email),1)])])]),bottom:a(()=>[e(Ce),p("div",Sa,[p("p",$a,j(l(Ye)({page:l(m),itemsPerPage:l(s)},l(r))),1),e(He,{modelValue:l(m),"onUpdate:modelValue":n[2]||(n[2]=V=>D(m)?m.value=V:null),length:Math.min(Math.ceil(l(r)/l(s)),5),"total-visible":c.$vuetify.display.xs?1:Math.min(Math.ceil(l(r)/l(s)),5)},null,8,["modelValue","length","total-visible"])])]),_:1},8,["items-per-page","page","items","items-length"])]),_:1})]),_:1})]),_:1})}}}),Aa=Q({__name:"BankTabConfig",emits:["update:selectedCurrencyIds","update:selectedRateIds","update:selectedTaxIds","update:offdays","update:languages","update:date_format","update:help_contact_number","update:help_contact_email"],async setup(F,{emit:_}){let i,f;ge();const s=ee(),m=t([]);t([]);const g=t([]),v=t(""),y=t(),b=t(150),C=t(1),x=t(),h=t(),N=["Saturday","Sunday","Friday - Saturday","Saturday - Sunday","2nd and 4th Saturday and all Sundays"],u=["DD/MM/YYYY (Ex. 12/02/2020)","MM/DD/YYYY (Ex. 02/12/2020)","DD-MM-YYYY (Ex. 12-02-2020)","MM-DD-YYYY (Ex. 02-12-2020)","DD-MMM-YYYY (Ex. 12-Feb-2020)","DD MMM YYYY (Ex. 02 Feb 2020)"],{data:r,execute:c}=([i,f]=Z(()=>J(X("/UI/configurations/currencies",{query:{q:v,status:y,page:C,itemsPerPage:b,sortBy:x,orderBy:h}}))),i=await i,f(),i),{data:n,execute:d}=([i,f]=Z(()=>J(X(`get/UI/configurations/bank-configurations/${s.params.id}`,{query:{q:v,status:y,page:C,itemsPerPage:b,sortBy:x,orderBy:h}}))),i=await i,f(),i),k=[{code:"EN",name:"English"},{code:"SW",name:"Swahili"},{code:"FR",name:"French"}],V=n.value,P=te(()=>r.value.data);m.value=P.value,g.value=V.value;const w=t({page_title:V.page_title||"",selectedCurrencyIds:V.selectedCurrencyIds||t([]),defaultCurrencyId:"",offdays:V.offdays||"",languages:V.languages||t([]),date_format:V.date_format||t(""),help_contact_number:V.help_contact_number||"",help_contact_email:V.help_contact_email||""});he(()=>{c(),d()});const fe=te(()=>!w.value.selectedCurrencyIds.length||!m.value.length?[]:m.value.filter(Y=>w.value.selectedCurrencyIds.includes(Y.id))),Ve=async()=>{const Y=new FormData;Y.append("bank_id",s.params.id),Y.append("page_title",w.value.page_title),Y.append("selectedCurrencyIds",w.value.selectedCurrencyIds),Y.append("defaultCurrencyId",w.value.defaultCurrencyId),Y.append("offdays",w.value.offdays),Y.append("languages",w.value.languages),Y.append("date_format",w.value.date_format),Y.append("help_contact_number",w.value.help_contact_number),Y.append("help_contact_email",w.value.help_contact_email);try{const U=await ne("edit/UI/configurations/bank-configurations",{method:"POST",body:Y,onResponseError({response:B}){errors.value=B._data.errors}}),{message:E}=U;await ie(()=>{}),console.log(E),isNewContactAdded.value=!0}catch(U){console.error(U)}};return(Y,U)=>{const E=se,B=Oe,T=_e;return R(),z(q,null,{default:a(()=>[p("div",null,[e(H,null,{default:a(()=>[e(le,null,{default:a(()=>[e(q,null,{default:a(()=>[e(o,{cols:"12",md:"6"},{default:a(()=>[e(E,{modelValue:w.value.page_title,"onUpdate:modelValue":U[0]||(U[0]=$=>w.value.page_title=$),label:"Page Title"},null,8,["modelValue"])]),_:1}),e(o,{cols:"12",md:"6"},{default:a(()=>[e(B,{modelValue:w.value.selectedCurrencyIds,"onUpdate:modelValue":U[1]||(U[1]=$=>w.value.selectedCurrencyIds=$),chips:"","closable-chips":"",multiple:"",items:m.value,"item-title":"name","item-value":"id",placeholder:"Search Default Currency",label:"Select Currency"},{chip:a(({props:$,item:G})=>[e(Le,Re($,{text:G.raw.name}),null,16,["text"])]),item:a(({props:$,item:G})=>{var I;return[e(ke,Re($,{title:(I=G==null?void 0:G.raw)==null?void 0:I.name}),null,16,["title"])]}),_:1},8,["modelValue","items"])]),_:1}),w.value.selectedCurrencyIds.length?(R(),z(o,{key:0,cols:"12",md:"6"},{default:a(()=>[e(B,{modelValue:w.value.defaultCurrencyId,"onUpdate:modelValue":U[2]||(U[2]=$=>w.value.defaultCurrencyId=$),chips:"","closable-chips":"",items:l(fe),"item-title":"name","item-value":"id",placeholder:"Default Currency",label:"Default Currency"},null,8,["modelValue","items"])]),_:1})):K("",!0),e(o,{cols:"12",md:"6"},{default:a(()=>[e(T,{modelValue:w.value.offdays,"onUpdate:modelValue":U[3]||(U[3]=$=>w.value.offdays=$),items:N,placeholder:"Select Week Off",label:"Weekly Off",chips:"","closable-chips":""},null,8,["modelValue"])]),_:1}),e(o,{cols:"12",md:"6"},{default:a(()=>[e(B,{modelValue:w.value.languages,"onUpdate:modelValue":U[4]||(U[4]=$=>w.value.languages=$),chips:"","closable-chips":"",multiple:"",items:k,"item-title":"name","item-value":"id",placeholder:"Languages",label:"Languages"},null,8,["modelValue"])]),_:1}),e(o,{cols:"12",md:"6"},{default:a(()=>[e(T,{modelValue:w.value.date_format,"onUpdate:modelValue":U[5]||(U[5]=$=>w.value.date_format=$),items:u,placeholder:"Date Format",label:"Select Date Format",chips:"","closable-chips":""},null,8,["modelValue"])]),_:1}),e(o,{cols:"12",md:"6"},{default:a(()=>[e(E,{modelValue:w.value.help_contact_number,"onUpdate:modelValue":U[6]||(U[6]=$=>w.value.help_contact_number=$),label:"Help Page Contact Number"},null,8,["modelValue"])]),_:1}),e(o,{cols:"12",md:"6"},{default:a(()=>[e(E,{modelValue:w.value.help_contact_email,"onUpdate:modelValue":U[7]||(U[7]=$=>w.value.help_contact_email=$),label:"Help Page Contact Email"},null,8,["modelValue"])]),_:1}),e(o,{cols:"12",class:"d-flex gap-4"},{default:a(()=>[e(M,{type:"submit",onClick:Ve},{default:a(()=>[S(" Submit ")]),_:1}),e(M,{type:"reset",color:"secondary",variant:"tonal"},{default:a(()=>[S(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])]),_:1})}}}),Ta={class:"text-h3 text-left mb-5"},Ba=Q({__name:"EditTaxesDialog",props:{isDialogVisible:{type:Boolean},bank_id:{},tax:{}},emits:["update:isDialogVisible","update:tax"],setup(F,{emit:_}){const i=F,f=_,s=u=>{f("update:isDialogVisible",u)},m=t({message:void 0,statusCode:void 0}),g=t(!1),v=t(structuredClone(ye(i.tax))),y=t(v.value.tax_name),b=t(v.value.value),C=t(v.value.account_no),x=t(v.value.status);ee(),ge();const h=async()=>{try{const u=await ne("edit/UI/configurations/bank-tax-rates-configurations",{method:"POST",body:{tax_id:v.value.id,bank_id:v.value.bank_id,name:y.value,percentage:b.value,account_no:C.value,status:x.value},onResponseError({response:c}){m.value=c._data.errors}});g.value=!0,console.log(u),await ie(()=>{f("refresh",!0)});const{message:r}=u}catch(u){console.error(u)}},N=t([{title:"Active",value:"active"},{title:"In active",value:"inactive"}]);return(u,r)=>{const c=Ie,n=se,d=_e;return R(),L(oe,null,[e(Ue,{modelValue:l(g),"onUpdate:modelValue":r[0]||(r[0]=k=>D(g)?g.value=k:null),color:"success",location:"top end",variant:"flat"},{default:a(()=>[S(" Rates Updated Successfully ")]),_:1},8,["modelValue"]),e(Se,{"model-value":i.isDialogVisible,"max-width":"900","onUpdate:modelValue":s},{default:a(()=>[e(c,{onClick:r[1]||(r[1]=k=>f("update:isDialogVisible",!1))}),e(H,{class:"refer-and-earn-dialog"},{default:a(()=>[e(le,{class:"pa-5 pa-sm-16"},{default:a(()=>[p("h3",Ta," Update Rate: "+j(i.tax.name),1),e(pe,{onSubmit:me(()=>{},["prevent"])},{default:a(()=>[e(q,null,{default:a(()=>[e(o,{cols:"12",md:"12"},{default:a(()=>[e(n,{modelValue:l(y),"onUpdate:modelValue":r[2]||(r[2]=k=>D(y)?y.value=k:null),rules:["requiredValidator"in u?u.requiredValidator:l(W)],label:"Tax Name",placeholder:"Tax Name"},null,8,["modelValue","rules"])]),_:1}),e(o,{cols:"12",md:"12"},{default:a(()=>[e(n,{modelValue:l(b),"onUpdate:modelValue":r[3]||(r[3]=k=>D(b)?b.value=k:null),rules:["requiredValidator"in u?u.requiredValidator:l(W)],type:"number",label:"Percentage",placeholder:"%"},null,8,["modelValue","rules"])]),_:1}),e(o,{cols:"12",md:"12"},{default:a(()=>[e(n,{modelValue:l(C),"onUpdate:modelValue":r[4]||(r[4]=k=>D(C)?C.value=k:null),rules:["requiredValidator"in u?u.requiredValidator:l(W)],type:"number",label:"Account No",placeholder:"%"},null,8,["modelValue","rules"])]),_:1}),e(o,{cols:"12",md:"12"},{default:a(()=>[e(d,{modelValue:l(x),"onUpdate:modelValue":r[5]||(r[5]=k=>D(x)?x.value=k:null),items:l(N),class:"me-1","clear-icon":"tabler-x",clearable:"",placeholder:"Status",style:{"inline-size":"200px"}},null,8,["modelValue","items"])]),_:1}),e(o,{class:"d-flex gap-4",cols:"12",md:"9"},{default:a(()=>[e(M,{type:"submit",onClick:h},{default:a(()=>[S(" Submit ")]),_:1}),e(M,{color:"secondary",type:"reset",variant:"tonal"},{default:a(()=>[S(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"])],64)}}});const Pa={class:"d-flex flex-wrap gap-4 mx-5 my-5"},qa={class:"d-flex align-center"},Na=p("h4",{class:"text-h4"}," Taxes ",-1),Ea={class:"config-d-flex flex-wrap mx-5"},Ma=Q({__name:"BankTaxesConfig",async setup(F){let _,i;const f=[{title:"Tax Name",key:"tax_name"},{title:"Percentage",key:"value"},{title:"Account No",key:"account_no"},{title:"Status",key:"status"},{title:"Is Default",key:"is_default"},{title:"Actions",key:"actions",sortable:!1}];t(!0),t(0);const s=t(""),m=t(),g=t(10),v=t(1),y=t(),b=t();t(""),t(""),t(""),t(""),t(""),t(""),t(""),t(""),t(""),t("");const C=t(!1),x=t(!1),h=B=>{var T,$;v.value=B.page,y.value=(T=B.sortBy[0])==null?void 0:T.key,b.value=($=B.sortBy[0])==null?void 0:$.order},N=ee(),u=t([{title:"Active",value:"active"},{title:"In active",value:"inactive"}]),{data:r,execute:c}=([_,i]=Z(()=>J(X(`get/UI/configurations/bank-taxes/${N.params.id}`,{query:{q:s,status:m,page:v,itemsPerPage:g,sortBy:y,orderBy:b}}))),_=await _,i(),_),n=te(()=>r.value.data),d=te(()=>r.value.total),k=t({message:void 0,statusCode:void 0}),V=t([]),P=()=>{V.value.push({name:"",percentage:"",account_no:"",status:"Active"})},w=B=>{V.value.splice(B,1)},fe=B=>B==="1"?{color:"success",icon:"tabler-thumb-up",title:"Is Default"}:{color:"error",icon:"tabler-thumb-down",title:"Default"},Ve=async()=>{try{for(const T of V.value){const $=await ne("UI/configurations/tax-rates-configurations",{method:"POST",body:{bank_id:N.params.id,name:T.name,percentage:T.percentage,account_no:T.account_no,status:T.status},onResponseError({response:G}){k.value=G._data.errors}})}V.value=[{name:"",percentage:"",account_no:"",status:""}],await ie(()=>{c()});const{message:B}=res}catch(B){console.error(B)}},Y=t(null),U=t(!1),E=B=>{Y.value=B,U.value=!0};return(B,T)=>{const $=se,G=_e,I=xe("IconBtn"),ce=xe("AddCurrenciesDialog"),O=xe("AddTaxDialog");return R(),L(oe,null,[e(pe,{onSubmit:me(()=>{},["prevent"])},{default:a(()=>[e(q,null,{default:a(()=>[e(o,{cols:"12",md:"12"},{default:a(()=>[e(H,{class:"d-flex flex-column"},{default:a(()=>[p("div",Pa,[p("div",qa,[e($,{modelValue:l(s),"onUpdate:modelValue":T[0]||(T[0]=A=>D(s)?s.value=A:null),class:"me-3","clear-icon":"tabler-circle-x",clearable:"",color:"primary",placeholder:"Tax Name",style:{"inline-size":"200px"},type:"text"},null,8,["modelValue"]),e(G,{modelValue:l(m),"onUpdate:modelValue":T[1]||(T[1]=A=>D(m)?m.value=A:null),items:l(u),class:"me-3","clear-icon":"tabler-x",clearable:"",placeholder:"Status",style:{"inline-size":"200px"}},null,8,["modelValue","items"])])]),e(de,{class:"notification-section"},{default:a(()=>[Na,e(l(Be),{"items-per-page":l(g),"onUpdate:itemsPerPage":T[2]||(T[2]=A=>D(g)?g.value=A:null),page:l(v),"onUpdate:page":T[3]||(T[3]=A=>D(v)?v.value=A:null),headers:f,items:l(n),"items-length":l(d),class:"text-no-wrap","show-select":"","onUpdate:options":h},{"item.actions":a(({item:A})=>[e(I,{onClick:ve=>E(A)},{default:a(()=>[e(re,{icon:"tabler-pencil",color:"warning"})]),_:2},1032,["onClick"]),e(I,null,{default:a(()=>[e(re,{icon:"tabler-trash",color:"danger"})]),_:1})]),"item.is_default":a(({item:A})=>{var ve;return[e(I,{title:(ve=fe(A.is_default))==null?void 0:ve.title},{default:a(()=>{var ae,$e;return[e(re,{icon:(ae=fe(A.is_default))==null?void 0:ae.icon,color:($e=fe(A.is_default))==null?void 0:$e.color},null,8,["icon","color"])]}),_:2},1032,["title"])]}),_:1},8,["items-per-page","page","items","items-length"]),e(H,null,{default:a(()=>[e(de,null,{default:a(()=>[e(pe,{onSubmit:me(()=>{},["prevent"])},{default:a(()=>[(R(!0),L(oe,null,we(l(V),(A,ve)=>(R(),z(q,{key:ve},{default:a(()=>[p("div",Ea,[e(o,{cols:"12",md:"2"},{default:a(()=>[e($,{modelValue:A.name,"onUpdate:modelValue":ae=>A.name=ae,label:"Name",placeholder:"Tax Name"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(o,{cols:"12",md:"3"},{default:a(()=>[e($,{modelValue:A.percentage,"onUpdate:modelValue":ae=>A.percentage=ae,type:"number",label:"Value (%)",placeholder:"%"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(o,{cols:"12",md:"3"},{default:a(()=>[e($,{modelValue:A.account_no,"onUpdate:modelValue":ae=>A.account_no=ae,label:"Account No",placeholder:"Account No"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(o,{cols:"12",md:"2"},{default:a(()=>[e(G,{modelValue:A.status,"onUpdate:modelValue":ae=>A.status=ae,items:l(u),class:"me-1","clear-icon":"tabler-x",clearable:"",placeholder:"Status",style:{"inline-size":"200px"}},null,8,["modelValue","onUpdate:modelValue","items"])]),_:2},1024),e(o,{cols:"12",md:"1"},{default:a(()=>[e(I,{onClick:ae=>w(ve)},{default:a(()=>[e(re,{icon:"tabler-trash",color:"error"})]),_:2},1032,["onClick"])]),_:2},1024)])]),_:2},1024))),128)),e(q,null,{default:a(()=>[e(o,{cols:"12",md:"2",class:"text-left"},{default:a(()=>[e(M,{color:"primary",onClick:P},{default:a(()=>[S(" Add New Tax ")]),_:1})]),_:1}),l(V).length>0?(R(),z(o,{key:0,class:"d-flex gap-4",cols:"12",md:"4"},{default:a(()=>[e(M,{type:"submit",onClick:Ve},{default:a(()=>[S(" Submit ")]),_:1}),e(M,{color:"secondary",type:"reset",variant:"tonal"},{default:a(()=>[S(" Reset ")]),_:1})]),_:1})):K("",!0)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(ce,{"is-dialog-visible":l(C),"onUpdate:isDialogVisible":T[4]||(T[4]=A=>D(C)?C.value=A:null),onRefresh:B.fetchCurrencies},null,8,["is-dialog-visible","onRefresh"]),e(O,{"is-dialog-visible":l(x),"onUpdate:isDialogVisible":T[5]||(T[5]=A=>D(x)?x.value=A:null),onRefresh:l(c)},null,8,["is-dialog-visible","onRefresh"]),l(U)?(R(),z(Ba,{key:0,isDialogVisible:l(U),"onUpdate:isDialogVisible":T[6]||(T[6]=A=>D(U)?U.value=A:null),bank_id:l(N).params.id,tax:l(Y)},null,8,["isDialogVisible","bank_id","tax"])):K("",!0)],64)}}});const Fa=p("p",null,"Terms and Conditions",-1),Ya=p("p",null,"Terms and Conditions for Companies",-1),za=p("p",null,"Terms and Conditions for Vendors",-1),Ha=Q({__name:"BankTermsConfig",props:{terms_and_conditions:{},terms_and_conditions_companies:{},terms_and_conditions_vendors:{}},emits:["update:terms_and_conditions","update:terms_and_conditions_companies","update:terms_and_conditions_vendors"],async setup(F,{emit:_}){let i,f;const s=t(""),m=t(),g=t(150),v=t(1),y=t(),b=t(),C=ee(),{data:x,execute:h}=([i,f]=Z(()=>J(X(`get/UI/configurations/bank-configurations/${C.params.id}`,{query:{q:s,status:m,page:v,itemsPerPage:g,sortBy:y,orderBy:b}}))),i=await i,f(),i),N=x.value,u=t({terms_and_conditions:t(N.terms_and_conditions),terms_and_conditions_companies:t(N.terms_and_conditions_companies),terms_and_conditions_vendors:t(N.terms_and_conditions_vendors)}),r=async()=>{const c=new FormData;c.append("bank_id",C.params.id),c.append("terms_and_conditions",u.value.terms_and_conditions),c.append("terms_and_conditions_companies",u.value.terms_and_conditions_companies),c.append("terms_and_conditions_vendors",u.value.terms_and_conditions_vendors);try{const n=await ne("edit/UI/configurations/bank-terms-configurations",{method:"POST",body:c,onResponseError({response:k}){errors.value=k._data.errors}}),{message:d}=n;await ie(()=>{}),console.log(d)}catch(n){console.error(n)}};return he(()=>{h()}),(c,n)=>{const d=je;return R(),z(H,null,{default:a(()=>[e(de,null,{default:a(()=>[e(q,null,{default:a(()=>[e(o,{cols:"12",md:"12"},{default:a(()=>[Fa,e(d,{modelValue:l(u).terms_and_conditions,"onUpdate:modelValue":n[0]||(n[0]=k=>l(u).terms_and_conditions=k),class:"border rounded basic-editor"},null,8,["modelValue"])]),_:1}),e(o,{cols:"12",md:"12"},{default:a(()=>[Ya,e(d,{modelValue:l(u).terms_and_conditions_companies,"onUpdate:modelValue":n[1]||(n[1]=k=>l(u).terms_and_conditions_companies=k),class:"border rounded basic-editor"},null,8,["modelValue"])]),_:1}),e(o,{cols:"12",md:"12"},{default:a(()=>[za,e(d,{modelValue:l(u).terms_and_conditions_vendors,"onUpdate:modelValue":n[2]||(n[2]=k=>l(u).terms_and_conditions_vendors=k),class:"border rounded basic-editor"},null,8,["modelValue"])]),_:1}),e(o,{cols:"12",class:"d-flex gap-4"},{default:a(()=>[e(M,{type:"submit",onClick:r},{default:a(()=>[S(" Submit ")]),_:1}),e(M,{type:"reset",color:"secondary",variant:"tonal"},{default:a(()=>[S(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}}),Oa=p("p",null,"Bank User Manual",-1),La={key:0},ja=["href"],Qa=p("p",null,"Anchor User Manual",-1),Wa={key:0},Ja=["href"],Ga=p("p",null,"Vendor User Manual",-1),Ka={key:0},Xa=["href"],Za=p("p",null,"Dealer User Manual",-1),el={key:0},al=["href"],ll=Q({__name:"BankUserManual",props:{bank_user_manual:{},anchor_user_manual:{},vendor_user_manual:{},dealer_user_manual:{}},emits:["update:bank_user_manual","update:anchor_user_manual","update:vendor_user_manual","update:dealer_user_manual"],async setup(F,{emit:_}){let i,f;const s=t({bank_user_manual:t(""),anchor_user_manual:t(""),vendor_user_manual:t(""),dealer_user_manual:t("")}),m=t(""),g=t(),v=t(150),y=t(1),b=t(),C=t(),x=ee(),{data:h,execute:N}=([i,f]=Z(()=>J(X(`get/UI/configurations/bank-configurations/${x.params.id}`,{query:{q:m,status:g,page:y,itemsPerPage:v,sortBy:b,orderBy:C}}))),i=await i,f(),i),u=h.value,r=async()=>{const c=new FormData;c.append("bank_id",x.params.id),c.append("bank_user_manual",s.value.bank_user_manual[0]),c.append("anchor_user_manual",s.value.anchor_user_manual[0]),c.append("vendor_user_manual",s.value.vendor_user_manual[0]),c.append("dealer_user_manual",s.value.dealer_user_manual[0]);try{const n=await ne("edit/UI/configurations/bank-manuals-configurations",{method:"POST",body:c,onResponseError({response:k}){errors.value=k._data.errors}}),{message:d}=n;await ie(()=>{}),console.log(d)}catch(n){console.error(n)}};return he(()=>{N()}),(c,n)=>(R(),z(H,null,{default:a(()=>[e(de,null,{default:a(()=>[e(q,null,{default:a(()=>[e(o,{cols:"12",md:"12"},{default:a(()=>[Oa,l(u).bank_user_manual?(R(),L("p",La,[p("a",{href:l(u).bank_user_manual,target:"_blank"},j(l(u).bank_user_manual),9,ja)])):K("",!0),e(be,{modelValue:l(s).bank_user_manual,"onUpdate:modelValue":n[0]||(n[0]=d=>l(s).bank_user_manual=d),label:"Upload file..."},null,8,["modelValue"])]),_:1}),e(o,{cols:"12",md:"12"},{default:a(()=>[Qa,l(u).anchor_user_manual?(R(),L("p",Wa,[p("a",{href:l(u).anchor_user_manual,target:"_blank"},j(l(u).anchor_user_manual),9,Ja)])):K("",!0),e(be,{modelValue:l(s).anchor_user_manual,"onUpdate:modelValue":n[1]||(n[1]=d=>l(s).anchor_user_manual=d),label:"Upload file..."},null,8,["modelValue"])]),_:1}),e(o,{cols:"12",md:"12"},{default:a(()=>[Ga,l(u).vendor_user_manual?(R(),L("p",Ka,[p("a",{href:l(u).vendor_user_manual,target:"_blank"},j(l(u).vendor_user_manual),9,Xa)])):K("",!0),e(be,{modelValue:l(s).vendor_user_manual,"onUpdate:modelValue":n[2]||(n[2]=d=>l(s).vendor_user_manual=d),label:"Upload file..."},null,8,["modelValue"])]),_:1}),e(o,{cols:"12",md:"12"},{default:a(()=>[Za,l(u).dealer_user_manual?(R(),L("p",el,[p("a",{href:l(u).dealer_user_manual,target:"_blank"},j(l(u).dealer_user_manual),9,al)])):K("",!0),e(be,{modelValue:l(s).dealer_user_manual,"onUpdate:modelValue":n[3]||(n[3]=d=>l(s).dealer_user_manual=d),label:"Upload file..."},null,8,["modelValue"])]),_:1}),e(o,{cols:"12",class:"d-flex gap-4"},{default:a(()=>[e(M,{type:"submit",onClick:r},{default:a(()=>[S(" Submit ")]),_:1}),e(M,{type:"reset",color:"secondary",variant:"tonal"},{default:a(()=>[S(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}}),tl={class:"text-h3 text-left mb-5"},ol=Q({__name:"EditRatesDialog",props:{isDialogVisible:{type:Boolean},bank_id:{},rate:{}},emits:["update:isDialogVisible","update:rate"],setup(F,{emit:_}){const i=F,f=_,s=r=>{f("update:isDialogVisible",r)},m=t({message:void 0,statusCode:void 0}),g=t(!1),v=t(structuredClone(ye(i.rate))),y=t(v.value.name),b=t(v.value.rate),C=t(v.value.future_rate),x=t(v.value.effective_date),h=t(v.value.status);ee(),ge();const N=async()=>{try{const r=await ne("edit/UI/configurations/bank-rates-configurations",{method:"POST",body:{rate_id:v.value.id,bank_id:v.value.bank_id,rate_code:y.value,rate:b.value,future_rate:C.value,effective_date:x.value,status:h.value},onResponseError({response:n}){m.value=n._data.errors}});g.value=!0,console.log(r),await ie(()=>{f("refresh",!0)});const{message:c}=r}catch(r){console.error(r)}},u=t([{title:"Active",value:"active"},{title:"In active",value:"inactive"}]);return(r,c)=>{const n=Ie,d=se,k=Pe,V=_e;return R(),L(oe,null,[e(Ue,{modelValue:l(g),"onUpdate:modelValue":c[0]||(c[0]=P=>D(g)?g.value=P:null),color:"success",location:"top end",variant:"flat"},{default:a(()=>[S(" Rates Updated Successfully ")]),_:1},8,["modelValue"]),e(Se,{"model-value":i.isDialogVisible,"max-width":"900","onUpdate:modelValue":s},{default:a(()=>[e(n,{onClick:c[1]||(c[1]=P=>f("update:isDialogVisible",!1))}),e(H,{class:"refer-and-earn-dialog"},{default:a(()=>[e(le,{class:"pa-5 pa-sm-16"},{default:a(()=>[p("h3",tl," Update Rate: "+j(i.rate.name),1),e(pe,{onSubmit:me(()=>{},["prevent"])},{default:a(()=>[e(q,null,{default:a(()=>[e(o,{cols:"12",md:"12"},{default:a(()=>[e(d,{modelValue:l(y),"onUpdate:modelValue":c[2]||(c[2]=P=>D(y)?y.value=P:null),rules:["requiredValidator"in r?r.requiredValidator:l(W)],label:"Rate Code",placeholder:"Rate (%)"},null,8,["modelValue","rules"])]),_:1}),e(o,{cols:"12",md:"12"},{default:a(()=>[e(d,{modelValue:l(b),"onUpdate:modelValue":c[3]||(c[3]=P=>D(b)?b.value=P:null),rules:["requiredValidator"in r?r.requiredValidator:l(W)],type:"number",label:"Rate",placeholder:"%"},null,8,["modelValue","rules"])]),_:1}),e(o,{cols:"12",md:"12"},{default:a(()=>[e(d,{modelValue:l(C),"onUpdate:modelValue":c[4]||(c[4]=P=>D(C)?C.value=P:null),rules:["requiredValidator"in r?r.requiredValidator:l(W)],type:"number",label:"Future Rate",placeholder:"%"},null,8,["modelValue","rules"])]),_:1}),e(o,{cols:"12",md:"12"},{default:a(()=>[e(k,{modelValue:l(x),"onUpdate:modelValue":c[5]||(c[5]=P=>D(x)?x.value=P:null),"append-inner-icon":"tabler-calendar-due",label:"Date",placeholder:"Select Date"},null,8,["modelValue"])]),_:1}),e(o,{cols:"12",md:"12"},{default:a(()=>[e(V,{modelValue:l(h),"onUpdate:modelValue":c[6]||(c[6]=P=>D(h)?h.value=P:null),items:l(u),class:"me-1","clear-icon":"tabler-x",clearable:"",placeholder:"Status",style:{"inline-size":"200px"}},null,8,["modelValue","items"])]),_:1}),e(o,{class:"d-flex gap-4",cols:"12",md:"9"},{default:a(()=>[e(M,{type:"submit",onClick:N},{default:a(()=>[S(" Submit ")]),_:1}),e(M,{color:"secondary",type:"reset",variant:"tonal"},{default:a(()=>[S(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"])],64)}}});const sl={class:"d-flex flex-wrap gap-4 mx-5 my-5"},nl={class:"d-flex align-center"},ul={class:"config-d-flex flex-wrap mx-5"},rl=Q({__name:"BaseRatesConfig",async setup(F){let _,i;t(!0),t(0);const f=t(""),s=t(),m=t(!1),g=t(10),v=t(1),y=t(),b=t(),C=ee(),x=[{title:"Rate Code",key:"name"},{title:"Rate",key:"rate"},{title:"Status",key:"status"},{title:"Is Default",key:"is_default"},{title:"Actions",key:"actions",sortable:!1}],h=U=>U==="1"?{color:"success",icon:"tabler-thumb-up",title:"Is Default"}:{color:"error",icon:"tabler-thumb-down",title:"Default"},N=U=>{var E,B;v.value=U.page,y.value=(E=U.sortBy[0])==null?void 0:E.key,b.value=(B=U.sortBy[0])==null?void 0:B.order},u=t([{title:"Active",value:"active"},{title:"In active",value:"inactive"}]),{data:r,execute:c}=([_,i]=Z(()=>J(X(`/get/UI/configurations/bank-rates/${C.params.id}`,{query:{q:f,status:s,page:v,itemsPerPage:g,sortBy:y,orderBy:b}}))),_=await _,i(),_),n=te(()=>r.value.data),d=te(()=>r.value.total),k=t(null),V=U=>{k.value=U,m.value=!0},P=t({message:void 0,statusCode:void 0}),w=t([]),fe=()=>{w.value.push({rate_code:"",rate:"",future_rate:"",effective_date:"Active"})},Ve=U=>{w.value.splice(U,1)},Y=async()=>{try{for(const E of w.value){const B=await ne("/UI/configurations/bank-rates-configurations",{method:"POST",body:{bank_id:C.params.id,rate_code:E.rate_code,rate:E.rate,future_rate:E.future_rate,effective_date:E.effective_date},onResponseError({response:T}){P.value=T._data.errors}})}w.value=[{rate_code:"",rate:"",future_rate:"",effective_date:""}],await ie(()=>{c()});const{message:U}=res}catch(U){console.error(U)}};return(U,E)=>{const B=se,T=_e,$=xe("IconBtn"),G=Pe;return R(),L(oe,null,[e(q,null,{default:a(()=>[e(o,{cols:"12",md:"12"},{default:a(()=>[e(H,{class:"mt-5"},{default:a(()=>[e(le,null,{default:a(()=>[p("div",sl,[p("div",nl,[e(B,{modelValue:l(f),"onUpdate:modelValue":E[0]||(E[0]=I=>D(f)?f.value=I:null),class:"me-3","clear-icon":"tabler-circle-x",clearable:"",color:"primary",placeholder:"Rate Code",style:{"inline-size":"200px"},type:"text"},null,8,["modelValue"]),e(T,{modelValue:l(s),"onUpdate:modelValue":E[1]||(E[1]=I=>D(s)?s.value=I:null),items:l(u),class:"me-3","clear-icon":"tabler-x",clearable:"",placeholder:"Status",style:{"inline-size":"200px"}},null,8,["modelValue","items"])])]),e(l(Be),{"items-per-page":l(g),"onUpdate:itemsPerPage":E[2]||(E[2]=I=>D(g)?g.value=I:null),page:l(v),"onUpdate:page":E[3]||(E[3]=I=>D(v)?v.value=I:null),headers:x,items:l(n),"items-length":l(d),class:"text-no-wrap","show-select":"","onUpdate:options":N},{"item.actions":a(({item:I})=>[e($,{onClick:ce=>V(I)},{default:a(()=>[e(re,{icon:"tabler-pencil",color:"warning"})]),_:2},1032,["onClick"]),e($,null,{default:a(()=>[e(re,{icon:"tabler-trash",color:"danger"})]),_:1})]),"item.is_default":a(({item:I})=>{var ce;return[e($,{title:(ce=h(I.is_default))==null?void 0:ce.title},{default:a(()=>{var O,A;return[e(re,{icon:(O=h(I.is_default))==null?void 0:O.icon,color:(A=h(I.is_default))==null?void 0:A.color},null,8,["icon","color"])]}),_:2},1032,["title"])]}),_:1},8,["items-per-page","page","items","items-length"]),e(H,null,{default:a(()=>[e(de,null,{default:a(()=>[e(pe,{onSubmit:me(()=>{},["prevent"])},{default:a(()=>[(R(!0),L(oe,null,we(l(w),(I,ce)=>(R(),z(q,{key:ce},{default:a(()=>[p("div",ul,[e(o,{cols:"12",md:"2"},{default:a(()=>[e(B,{modelValue:I.rate_code,"onUpdate:modelValue":O=>I.rate_code=O,label:"Rate Code",placeholder:"Rate Code"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(o,{cols:"12",md:"2"},{default:a(()=>[e(B,{modelValue:I.rate,"onUpdate:modelValue":O=>I.rate=O,type:"number",label:"Rate (%)",placeholder:"%"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(o,{cols:"12",md:"2"},{default:a(()=>[e(B,{modelValue:I.future_rate,"onUpdate:modelValue":O=>I.future_rate=O,label:"Future Rate",placeholder:"Future Rate"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(o,{cols:"12",md:"3"},{default:a(()=>[e(G,{modelValue:I.effective_date,"onUpdate:modelValue":O=>I.effective_date=O,"append-inner-icon":"tabler-calendar-due",label:"Date",placeholder:"Select Date"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(o,{cols:"12",md:"2"},{default:a(()=>[e(T,{modelValue:I.status,"onUpdate:modelValue":O=>I.status=O,items:l(u),class:"me-1","clear-icon":"tabler-x",clearable:"",placeholder:"Status",style:{"inline-size":"200px"}},null,8,["modelValue","onUpdate:modelValue","items"])]),_:2},1024),e(o,{cols:"12",md:"1"},{default:a(()=>[e($,{onClick:O=>Ve(ce)},{default:a(()=>[e(re,{icon:"tabler-trash",color:"error"})]),_:2},1032,["onClick"])]),_:2},1024)])]),_:2},1024))),128)),e(q,null,{default:a(()=>[e(o,{cols:"12",md:"2",class:"text-left"},{default:a(()=>[e(M,{color:"primary",onClick:fe},{default:a(()=>[S(" Add New Rate ")]),_:1})]),_:1}),l(w).length>0?(R(),z(o,{key:0,class:"d-flex gap-4",cols:"12",md:"4"},{default:a(()=>[e(M,{type:"submit",onClick:Y},{default:a(()=>[S(" Submit ")]),_:1}),e(M,{color:"secondary",type:"reset",variant:"tonal"},{default:a(()=>[S(" Reset ")]),_:1})]),_:1})):K("",!0)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),l(m)?(R(),z(ol,{key:0,isDialogVisible:l(m),"onUpdate:isDialogVisible":E[4]||(E[4]=I=>D(m)?m.value=I:null),bank_id:l(C).params.id,rate:l(k)},null,8,["isDialogVisible","bank_id","rate"])):K("",!0)],64)}}});const pt=Q({__name:"[id]",async setup(F){let _,i;const f=ee(),s=t(null),m=[{icon:"tabler-user-check",title:"Account"},{icon:"tabler-affiliate",title:"Add New User"},{icon:"tabler-arrow-left-right",title:"Map a User"},{icon:"tabler-arrow-left-right",title:"Configurations"},{icon:"tabler-arrow-left-right",title:"Logo & Appearance"},{icon:"tabler-arrow-left-right",title:"Base Rates"},{icon:"tabler-arrow-left-right",title:"Taxes"},{icon:"tabler-arrow-left-right",title:"User Manuals"}],{data:g}=([_,i]=Z(()=>J(`/get/bank/${f.params.id}`)),_=await _,i(),_);return(v,y)=>l(g)?(R(),z(q,{key:0},{default:a(()=>[e(o,{cols:"12",lg:"4",md:"5"},{default:a(()=>[e(pa,{"user-data":l(g)},null,8,["user-data"])]),_:1}),e(o,{cols:"12",lg:"8",md:"7"},{default:a(()=>[e(Qe,{modelValue:l(s),"onUpdate:modelValue":y[0]||(y[0]=b=>D(s)?s.value=b:null),class:"v-tabs-pill"},{default:a(()=>[(R(),L(oe,null,we(m,b=>e(We,{key:b.icon},{default:a(()=>[e(re,{icon:b.icon,size:18,class:"me-1"},null,8,["icon"]),p("span",null,j(b.title),1)]),_:2},1024)),64))]),_:1},8,["modelValue"]),e(Je,{modelValue:l(s),"onUpdate:modelValue":y[1]||(y[1]=b=>D(s)?s.value=b:null),touch:!1,class:"mt-6 disable-tab-transition"},{default:a(()=>[e(ue,null,{default:a(()=>[e(Ra)]),_:1}),e(ue,null,{default:a(()=>[e(ea)]),_:1}),e(ue,null,{default:a(()=>[e(ka)]),_:1}),e(ue,null,{default:a(()=>[e(Aa)]),_:1}),e(ue,null,{default:a(()=>[e(ga)]),_:1}),e(ue,null,{default:a(()=>[e(rl)]),_:1}),e(ue,null,{default:a(()=>[e(Ma)]),_:1}),e(ue,null,{default:a(()=>[e(ll)]),_:1}),e(ue,null,{default:a(()=>[e(Ha)]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})):(R(),z(H,{key:1},{default:a(()=>[e(Te,{class:"text-center"},{default:a(()=>[S(" No User Found ")]),_:1})]),_:1}))}});export{pt as default};
