import{_ as P}from"./AppTextField.vue_vue_type_script_setup_true_lang-93dc1e26.js";import{u as S}from"./useApi-776c55ea.js";import{c as v}from"./createUrl-149317bf.js";import{V as z}from"./VCardText-76f31582.js";import{V as E}from"./VDataTable-c3cccdda.js";import{V as y}from"./VChip-e2ddd660.js";import{V as N}from"./VCard-95c0d706.js";import{d as L,r as e,b6 as O,R,o as p,h as j,f as s,b as l,e as o,p as m,aI as q,c as g,F as I,j as Q,x as h,y as c}from"./index-75b434bc.js";import"./form-2b416184.js";import"./VTextField-05e93cc8.js";/* empty css                   */import"./VCounter-3e4b236e.js";import"./transition-6afda34e.js";import"./VField-82993695.js";import"./easing-9f15041e.js";import"./VInput-b46333d7.js";import"./forwardRefs-8348545e.js";import"./index-97808f23.js";import"./index-2898f57d.js";import"./createSimpleFunctional-4b3a0a39.js";import"./VSelect-54e8b29a.js";import"./VList-c7d4c8b4.js";import"./ssrBoot-7f224ca6.js";import"./VAvatar-071125b9.js";import"./VImg-ba4b392a.js";import"./VDivider-fc890531.js";import"./dialog-transition-14fdab67.js";import"./VMenu-3f143933.js";import"./VOverlay-0b79a00d.js";import"./lazy-0bb5e457.js";import"./scopeId-ee2feb8e.js";import"./VCheckboxBtn-0f22f589.js";import"./VSelectionControl-e1264669.js";import"./VTable-de2d1039.js";import"./filter-3bfef89c.js";const $={class:"d-flex flex-wrap justify-space-between align-center gap-4"},G=o("h5",{class:"text-h5 font-weight-medium"}," Closed Deals ",-1),H=["colspan"],J={class:"my-1"},K={class:"my-1"},Pe=L({__name:"ClosedDeal",async setup(M){let i,d;const n=e(""),V=e(),w=e(),C=e(),k=e(50),D=e(1),T=e(),b=e(),u=[{title:"",key:"data-table-expand"},{title:"Name",key:"name"},{title:"Company",key:"company"},{title:"Product Type",key:"product"},{title:"Stage",key:"stage"},{title:"Creation Date",key:"createdAt"}],{data:A,execute:B}=([i,d]=O(()=>S(v("/get/UI/closed/deals/reports",{query:{q:n,status:C,plan:w,role:V,itemsPerPage:k,page:D,sortBy:T,orderBy:b}}))),i=await i,d(),i),F=R(()=>A.value);B();const f=t=>t==="Contact"?{color:"primary",text:"Contact"}:t==="Lead"?{color:"success",text:"Lead"}:t==="Emailing Documents"?{color:"info",text:"Emailing Documents"}:t==="Opportunity"?{color:"success",text:"Opportunity"}:{color:"error",text:"Error"},_=t=>t==="dealer financing"?{text:"Dealer Financing",color:"primary"}:{text:"Vendor Financing",color:"success"};return(t,x)=>{const U=P;return p(),j(N,null,{default:s(()=>[l(z,null,{default:s(()=>[o("div",$,[G,o("div",null,[l(U,{modelValue:m(n),"onUpdate:modelValue":x[0]||(x[0]=r=>q(n)?n.value=r:null),placeholder:"Search",style:{"max-inline-size":"200px","min-inline-size":"200px"}},null,8,["modelValue"])])])]),_:1}),l(m(E),{headers:u,items:m(F),"items-per-page":5,"expand-on-click":""},{"expanded-row":s(r=>[(p(!0),g(I,null,Q(r.item.activities,a=>(p(),g("tr",{key:a.id,class:"v-data-table__tr"},[o("td",{colspan:u.length},[o("p",J,[l(y,{color:f(a.section).color,class:"font-weight-medium",size:"small"},{default:s(()=>[h(c(f(a.section).text),1)]),_:2},1032,["color"])]),o("p",K," Turn Around Time: "+c(a.tatDays),1),o("p",null,"Occurred at: "+c(a.createdAt),1)],8,H)]))),128))]),"item.product":s(({item:r})=>[l(y,{color:_(r.product).color,class:"font-weight-medium",size:"small"},{default:s(()=>[h(c(_(r.product).text),1)]),_:2},1032,["color"])]),_:1},8,["items"])]),_:1})}}});export{Pe as default};
